function jx(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}})();function Zd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ep={exports:{}},ul={},tp={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _r=Symbol.for("react.element"),Nx=Symbol.for("react.portal"),wx=Symbol.for("react.fragment"),kx=Symbol.for("react.strict_mode"),Sx=Symbol.for("react.profiler"),Cx=Symbol.for("react.provider"),Ex=Symbol.for("react.context"),Px=Symbol.for("react.forward_ref"),Ax=Symbol.for("react.suspense"),Rx=Symbol.for("react.memo"),Lx=Symbol.for("react.lazy"),qc=Symbol.iterator;function Tx(e){return e===null||typeof e!="object"?null:(e=qc&&e[qc]||e["@@iterator"],typeof e=="function"?e:null)}var sp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},np=Object.assign,rp={};function Pn(e,t,s){this.props=e,this.context=t,this.refs=rp,this.updater=s||sp}Pn.prototype.isReactComponent={};Pn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ap(){}ap.prototype=Pn.prototype;function Ro(e,t,s){this.props=e,this.context=t,this.refs=rp,this.updater=s||sp}var Lo=Ro.prototype=new ap;Lo.constructor=Ro;np(Lo,Pn.prototype);Lo.isPureReactComponent=!0;var Hc=Array.isArray,lp=Object.prototype.hasOwnProperty,To={current:null},ip={key:!0,ref:!0,__self:!0,__source:!0};function op(e,t,s){var r,a={},l=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)lp.call(t,r)&&!ip.hasOwnProperty(r)&&(a[r]=t[r]);var o=arguments.length-2;if(o===1)a.children=s;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)a[r]===void 0&&(a[r]=o[r]);return{$$typeof:_r,type:e,key:l,ref:i,props:a,_owner:To.current}}function Mx(e,t){return{$$typeof:_r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Mo(e){return typeof e=="object"&&e!==null&&e.$$typeof===_r}function _x(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Wc=/\/+/g;function Ol(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_x(""+e.key):t.toString(36)}function ga(e,t,s,r,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case _r:case Nx:i=!0}}if(i)return i=e,a=a(i),e=r===""?"."+Ol(i,0):r,Hc(a)?(s="",e!=null&&(s=e.replace(Wc,"$&/")+"/"),ga(a,t,s,"",function(u){return u})):a!=null&&(Mo(a)&&(a=Mx(a,s+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Wc,"$&/")+"/")+e)),t.push(a)),1;if(i=0,r=r===""?".":r+":",Hc(e))for(var o=0;o<e.length;o++){l=e[o];var c=r+Ol(l,o);i+=ga(l,t,s,c,a)}else if(c=Tx(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=r+Ol(l,o++),i+=ga(l,t,s,c,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Wr(e,t,s){if(e==null)return e;var r=[],a=0;return ga(e,r,"","",function(l){return t.call(s,l,a++)}),r}function Ix(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var at={current:null},ya={transition:null},Ox={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:ya,ReactCurrentOwner:To};function cp(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Wr,forEach:function(e,t,s){Wr(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Wr(e,function(){t++}),t},toArray:function(e){return Wr(e,function(t){return t})||[]},only:function(e){if(!Mo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=Pn;he.Fragment=wx;he.Profiler=Sx;he.PureComponent=Ro;he.StrictMode=kx;he.Suspense=Ax;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ox;he.act=cp;he.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=np({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=To.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)lp.call(t,c)&&!ip.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:_r,type:e.type,key:a,ref:l,props:r,_owner:i}};he.createContext=function(e){return e={$$typeof:Ex,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Cx,_context:e},e.Consumer=e};he.createElement=op;he.createFactory=function(e){var t=op.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:Px,render:e}};he.isValidElement=Mo;he.lazy=function(e){return{$$typeof:Lx,_payload:{_status:-1,_result:e},_init:Ix}};he.memo=function(e,t){return{$$typeof:Rx,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=ya.transition;ya.transition={};try{e()}finally{ya.transition=t}};he.unstable_act=cp;he.useCallback=function(e,t){return at.current.useCallback(e,t)};he.useContext=function(e){return at.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return at.current.useDeferredValue(e)};he.useEffect=function(e,t){return at.current.useEffect(e,t)};he.useId=function(){return at.current.useId()};he.useImperativeHandle=function(e,t,s){return at.current.useImperativeHandle(e,t,s)};he.useInsertionEffect=function(e,t){return at.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return at.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return at.current.useMemo(e,t)};he.useReducer=function(e,t,s){return at.current.useReducer(e,t,s)};he.useRef=function(e){return at.current.useRef(e)};he.useState=function(e){return at.current.useState(e)};he.useSyncExternalStore=function(e,t,s){return at.current.useSyncExternalStore(e,t,s)};he.useTransition=function(){return at.current.useTransition()};he.version="18.3.1";tp.exports=he;var p=tp.exports;const _o=Zd(p),Dx=jx({__proto__:null,default:_o},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx=p,$x=Symbol.for("react.element"),Fx=Symbol.for("react.fragment"),Bx=Object.prototype.hasOwnProperty,Ux=zx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vx={key:!0,ref:!0,__self:!0,__source:!0};function up(e,t,s){var r,a={},l=null,i=null;s!==void 0&&(l=""+s),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Bx.call(t,r)&&!Vx.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:$x,type:e,key:l,ref:i,props:a,_owner:Ux.current}}ul.Fragment=Fx;ul.jsx=up;ul.jsxs=up;ep.exports=ul;var n=ep.exports,vi={},dp={exports:{}},wt={},pp={exports:{}},fp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,E){var A=S.length;S.push(E);e:for(;0<A;){var N=A-1>>>1,D=S[N];if(0<a(D,E))S[N]=E,S[A]=D,A=N;else break e}}function s(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var E=S[0],A=S.pop();if(A!==E){S[0]=A;e:for(var N=0,D=S.length,V=D>>>1;N<V;){var Q=2*(N+1)-1,Y=S[Q],oe=Q+1,de=S[oe];if(0>a(Y,A))oe<D&&0>a(de,Y)?(S[N]=de,S[oe]=A,N=oe):(S[N]=Y,S[Q]=A,N=Q);else if(oe<D&&0>a(de,A))S[N]=de,S[oe]=A,N=oe;else break e}}return E}function a(S,E){var A=S.sortIndex-E.sortIndex;return A!==0?A:S.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],f=1,x=null,d=3,y=!1,v=!1,j=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(S){for(var E=s(u);E!==null;){if(E.callback===null)r(u);else if(E.startTime<=S)r(u),E.sortIndex=E.expirationTime,t(c,E);else break;E=s(u)}}function k(S){if(j=!1,h(S),!v)if(s(c)!==null)v=!0,X(C);else{var E=s(u);E!==null&&te(k,E.startTime-S)}}function C(S,E){v=!1,j&&(j=!1,m(w),w=-1),y=!0;var A=d;try{for(h(E),x=s(c);x!==null&&(!(x.expirationTime>E)||S&&!I());){var N=x.callback;if(typeof N=="function"){x.callback=null,d=x.priorityLevel;var D=N(x.expirationTime<=E);E=e.unstable_now(),typeof D=="function"?x.callback=D:x===s(c)&&r(c),h(E)}else r(c);x=s(c)}if(x!==null)var V=!0;else{var Q=s(u);Q!==null&&te(k,Q.startTime-E),V=!1}return V}finally{x=null,d=A,y=!1}}var L=!1,_=null,w=-1,T=5,M=-1;function I(){return!(e.unstable_now()-M<T)}function H(){if(_!==null){var S=e.unstable_now();M=S;var E=!0;try{E=_(!0,S)}finally{E?W():(L=!1,_=null)}}else L=!1}var W;if(typeof g=="function")W=function(){g(H)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,se=J.port2;J.port1.onmessage=H,W=function(){se.postMessage(null)}}else W=function(){b(H,0)};function X(S){_=S,L||(L=!0,W())}function te(S,E){w=b(function(){S(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,X(C))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(S){switch(d){case 1:case 2:case 3:var E=3;break;default:E=d}var A=d;d=E;try{return S()}finally{d=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,E){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var A=d;d=S;try{return E()}finally{d=A}},e.unstable_scheduleCallback=function(S,E,A){var N=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?N+A:N):A=N,S){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=A+D,S={id:f++,callback:E,priorityLevel:S,startTime:A,expirationTime:D,sortIndex:-1},A>N?(S.sortIndex=A,t(u,S),s(c)===null&&S===s(u)&&(j?(m(w),w=-1):j=!0,te(k,A-N))):(S.sortIndex=D,t(c,S),v||y||(v=!0,X(C))),S},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(S){var E=d;return function(){var A=d;d=E;try{return S.apply(this,arguments)}finally{d=A}}}})(fp);pp.exports=fp;var qx=pp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx=p,jt=qx;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mp=new Set,fr={};function Ys(e,t){yn(e,t),yn(e+"Capture",t)}function yn(e,t){for(fr[e]=t,e=0;e<t.length;e++)mp.add(t[e])}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bi=Object.prototype.hasOwnProperty,Wx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kc={},Gc={};function Kx(e){return bi.call(Gc,e)?!0:bi.call(Kc,e)?!1:Wx.test(e)?Gc[e]=!0:(Kc[e]=!0,!1)}function Gx(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qx(e,t,s,r){if(t===null||typeof t>"u"||Gx(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function lt(e,t,s,r,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ye[e]=new lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ye[t]=new lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ye[e]=new lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ye[e]=new lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ye[e]=new lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ye[e]=new lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ye[e]=new lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ye[e]=new lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ye[e]=new lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Io=/[\-:]([a-z])/g;function Oo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Io,Oo);Ye[t]=new lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Io,Oo);Ye[t]=new lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Io,Oo);Ye[t]=new lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ye[e]=new lt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ye[e]=new lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Do(e,t,s,r){var a=Ye.hasOwnProperty(t)?Ye[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Qx(t,s,a,r)&&(s=null),r||a===null?Kx(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,r=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var is=Hx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kr=Symbol.for("react.element"),Zs=Symbol.for("react.portal"),en=Symbol.for("react.fragment"),zo=Symbol.for("react.strict_mode"),ji=Symbol.for("react.profiler"),xp=Symbol.for("react.provider"),hp=Symbol.for("react.context"),$o=Symbol.for("react.forward_ref"),Ni=Symbol.for("react.suspense"),wi=Symbol.for("react.suspense_list"),Fo=Symbol.for("react.memo"),us=Symbol.for("react.lazy"),gp=Symbol.for("react.offscreen"),Qc=Symbol.iterator;function Fn(e){return e===null||typeof e!="object"?null:(e=Qc&&e[Qc]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Object.assign,Dl;function Xn(e){if(Dl===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Dl=t&&t[1]||""}return`
`+Dl+e}var zl=!1;function $l(e,t){if(!e||zl)return"";zl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),l=r.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{zl=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Xn(e):""}function Yx(e){switch(e.tag){case 5:return Xn(e.type);case 16:return Xn("Lazy");case 13:return Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 2:case 15:return e=$l(e.type,!1),e;case 11:return e=$l(e.type.render,!1),e;case 1:return e=$l(e.type,!0),e;default:return""}}function ki(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case en:return"Fragment";case Zs:return"Portal";case ji:return"Profiler";case zo:return"StrictMode";case Ni:return"Suspense";case wi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hp:return(e.displayName||"Context")+".Consumer";case xp:return(e._context.displayName||"Context")+".Provider";case $o:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fo:return t=e.displayName||null,t!==null?t:ki(e.type)||"Memo";case us:t=e._payload,e=e._init;try{return ki(e(t))}catch{}}return null}function Xx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ki(t);case 8:return t===zo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Es(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jx(e){var t=yp(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,l=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){r=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gr(e){e._valueTracker||(e._valueTracker=Jx(e))}function vp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=yp(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function Ma(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Si(e,t){var s=t.checked;return Te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Yc(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=Es(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bp(e,t){t=t.checked,t!=null&&Do(e,"checked",t,!1)}function Ci(e,t){bp(e,t);var s=Es(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ei(e,t.type,s):t.hasOwnProperty("defaultValue")&&Ei(e,t.type,Es(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xc(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Ei(e,t,s){(t!=="number"||Ma(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Jn=Array.isArray;function pn(e,t,s,r){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&r&&(e[s].defaultSelected=!0)}else{for(s=""+Es(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Pi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jc(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(U(92));if(Jn(s)){if(1<s.length)throw Error(U(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Es(s)}}function jp(e,t){var s=Es(t.value),r=Es(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function Zc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Np(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ai(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Np(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qr,wp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qr=Qr||document.createElement("div"),Qr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mr(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zx=["Webkit","ms","Moz","O"];Object.keys(tr).forEach(function(e){Zx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),tr[t]=tr[e]})});function kp(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||tr.hasOwnProperty(e)&&tr[e]?(""+t).trim():t+"px"}function Sp(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,a=kp(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,a):e[s]=a}}var e0=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ri(e,t){if(t){if(e0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function Li(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ti=null;function Bo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mi=null,fn=null,mn=null;function eu(e){if(e=Dr(e)){if(typeof Mi!="function")throw Error(U(280));var t=e.stateNode;t&&(t=xl(t),Mi(e.stateNode,e.type,t))}}function Cp(e){fn?mn?mn.push(e):mn=[e]:fn=e}function Ep(){if(fn){var e=fn,t=mn;if(mn=fn=null,eu(e),t)for(e=0;e<t.length;e++)eu(t[e])}}function Pp(e,t){return e(t)}function Ap(){}var Fl=!1;function Rp(e,t,s){if(Fl)return e(t,s);Fl=!0;try{return Pp(e,t,s)}finally{Fl=!1,(fn!==null||mn!==null)&&(Ap(),Ep())}}function xr(e,t){var s=e.stateNode;if(s===null)return null;var r=xl(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(U(231,t,typeof s));return s}var _i=!1;if(ns)try{var Bn={};Object.defineProperty(Bn,"passive",{get:function(){_i=!0}}),window.addEventListener("test",Bn,Bn),window.removeEventListener("test",Bn,Bn)}catch{_i=!1}function t0(e,t,s,r,a,l,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(s,u)}catch(f){this.onError(f)}}var sr=!1,_a=null,Ia=!1,Ii=null,s0={onError:function(e){sr=!0,_a=e}};function n0(e,t,s,r,a,l,i,o,c){sr=!1,_a=null,t0.apply(s0,arguments)}function r0(e,t,s,r,a,l,i,o,c){if(n0.apply(this,arguments),sr){if(sr){var u=_a;sr=!1,_a=null}else throw Error(U(198));Ia||(Ia=!0,Ii=u)}}function Xs(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Lp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tu(e){if(Xs(e)!==e)throw Error(U(188))}function a0(e){var t=e.alternate;if(!t){if(t=Xs(e),t===null)throw Error(U(188));return t!==e?null:e}for(var s=e,r=t;;){var a=s.return;if(a===null)break;var l=a.alternate;if(l===null){if(r=a.return,r!==null){s=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===s)return tu(a),e;if(l===r)return tu(a),t;l=l.sibling}throw Error(U(188))}if(s.return!==r.return)s=a,r=l;else{for(var i=!1,o=a.child;o;){if(o===s){i=!0,s=a,r=l;break}if(o===r){i=!0,r=a,s=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===s){i=!0,s=l,r=a;break}if(o===r){i=!0,r=l,s=a;break}o=o.sibling}if(!i)throw Error(U(189))}}if(s.alternate!==r)throw Error(U(190))}if(s.tag!==3)throw Error(U(188));return s.stateNode.current===s?e:t}function Tp(e){return e=a0(e),e!==null?Mp(e):null}function Mp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Mp(e);if(t!==null)return t;e=e.sibling}return null}var _p=jt.unstable_scheduleCallback,su=jt.unstable_cancelCallback,l0=jt.unstable_shouldYield,i0=jt.unstable_requestPaint,De=jt.unstable_now,o0=jt.unstable_getCurrentPriorityLevel,Uo=jt.unstable_ImmediatePriority,Ip=jt.unstable_UserBlockingPriority,Oa=jt.unstable_NormalPriority,c0=jt.unstable_LowPriority,Op=jt.unstable_IdlePriority,dl=null,Wt=null;function u0(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(dl,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:f0,d0=Math.log,p0=Math.LN2;function f0(e){return e>>>=0,e===0?32:31-(d0(e)/p0|0)|0}var Yr=64,Xr=4194304;function Zn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Da(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,a=e.suspendedLanes,l=e.pingedLanes,i=s&268435455;if(i!==0){var o=i&~a;o!==0?r=Zn(o):(l&=i,l!==0&&(r=Zn(l)))}else i=s&~a,i!==0?r=Zn(i):l!==0&&(r=Zn(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-zt(t),a=1<<s,r|=e[s],t&=~a;return r}function m0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x0(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-zt(l),o=1<<i,c=a[i];c===-1?(!(o&s)||o&r)&&(a[i]=m0(o,t)):c<=t&&(e.expiredLanes|=o),l&=~o}}function Oi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Dp(){var e=Yr;return Yr<<=1,!(Yr&4194240)&&(Yr=64),e}function Bl(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Ir(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=s}function h0(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-zt(s),l=1<<a;t[a]=0,r[a]=-1,e[a]=-1,s&=~l}}function Vo(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-zt(s),a=1<<r;a&t|e[r]&t&&(e[r]|=t),s&=~a}}var Ne=0;function zp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $p,qo,Fp,Bp,Up,Di=!1,Jr=[],ys=null,vs=null,bs=null,hr=new Map,gr=new Map,ps=[],g0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nu(e,t){switch(e){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":hr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gr.delete(t.pointerId)}}function Un(e,t,s,r,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:l,targetContainers:[a]},t!==null&&(t=Dr(t),t!==null&&qo(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function y0(e,t,s,r,a){switch(t){case"focusin":return ys=Un(ys,e,t,s,r,a),!0;case"dragenter":return vs=Un(vs,e,t,s,r,a),!0;case"mouseover":return bs=Un(bs,e,t,s,r,a),!0;case"pointerover":var l=a.pointerId;return hr.set(l,Un(hr.get(l)||null,e,t,s,r,a)),!0;case"gotpointercapture":return l=a.pointerId,gr.set(l,Un(gr.get(l)||null,e,t,s,r,a)),!0}return!1}function Vp(e){var t=Os(e.target);if(t!==null){var s=Xs(t);if(s!==null){if(t=s.tag,t===13){if(t=Lp(s),t!==null){e.blockedOn=t,Up(e.priority,function(){Fp(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function va(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=zi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Ti=r,s.target.dispatchEvent(r),Ti=null}else return t=Dr(s),t!==null&&qo(t),e.blockedOn=s,!1;t.shift()}return!0}function ru(e,t,s){va(e)&&s.delete(t)}function v0(){Di=!1,ys!==null&&va(ys)&&(ys=null),vs!==null&&va(vs)&&(vs=null),bs!==null&&va(bs)&&(bs=null),hr.forEach(ru),gr.forEach(ru)}function Vn(e,t){e.blockedOn===t&&(e.blockedOn=null,Di||(Di=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,v0)))}function yr(e){function t(a){return Vn(a,e)}if(0<Jr.length){Vn(Jr[0],e);for(var s=1;s<Jr.length;s++){var r=Jr[s];r.blockedOn===e&&(r.blockedOn=null)}}for(ys!==null&&Vn(ys,e),vs!==null&&Vn(vs,e),bs!==null&&Vn(bs,e),hr.forEach(t),gr.forEach(t),s=0;s<ps.length;s++)r=ps[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<ps.length&&(s=ps[0],s.blockedOn===null);)Vp(s),s.blockedOn===null&&ps.shift()}var xn=is.ReactCurrentBatchConfig,za=!0;function b0(e,t,s,r){var a=Ne,l=xn.transition;xn.transition=null;try{Ne=1,Ho(e,t,s,r)}finally{Ne=a,xn.transition=l}}function j0(e,t,s,r){var a=Ne,l=xn.transition;xn.transition=null;try{Ne=4,Ho(e,t,s,r)}finally{Ne=a,xn.transition=l}}function Ho(e,t,s,r){if(za){var a=zi(e,t,s,r);if(a===null)Xl(e,t,r,$a,s),nu(e,r);else if(y0(a,e,t,s,r))r.stopPropagation();else if(nu(e,r),t&4&&-1<g0.indexOf(e)){for(;a!==null;){var l=Dr(a);if(l!==null&&$p(l),l=zi(e,t,s,r),l===null&&Xl(e,t,r,$a,s),l===a)break;a=l}a!==null&&r.stopPropagation()}else Xl(e,t,r,null,s)}}var $a=null;function zi(e,t,s,r){if($a=null,e=Bo(r),e=Os(e),e!==null)if(t=Xs(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Lp(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $a=e,null}function qp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o0()){case Uo:return 1;case Ip:return 4;case Oa:case c0:return 16;case Op:return 536870912;default:return 16}default:return 16}}var ms=null,Wo=null,ba=null;function Hp(){if(ba)return ba;var e,t=Wo,s=t.length,r,a="value"in ms?ms.value:ms.textContent,l=a.length;for(e=0;e<s&&t[e]===a[e];e++);var i=s-e;for(r=1;r<=i&&t[s-r]===a[l-r];r++);return ba=a.slice(e,1<r?1-r:void 0)}function ja(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zr(){return!0}function au(){return!1}function kt(e){function t(s,r,a,l,i){this._reactName=s,this._targetInst=a,this.type=r,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Zr:au,this.isPropagationStopped=au,this}return Te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),t}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ko=kt(An),Or=Te({},An,{view:0,detail:0}),N0=kt(Or),Ul,Vl,qn,pl=Te({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Go,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qn&&(qn&&e.type==="mousemove"?(Ul=e.screenX-qn.screenX,Vl=e.screenY-qn.screenY):Vl=Ul=0,qn=e),Ul)},movementY:function(e){return"movementY"in e?e.movementY:Vl}}),lu=kt(pl),w0=Te({},pl,{dataTransfer:0}),k0=kt(w0),S0=Te({},Or,{relatedTarget:0}),ql=kt(S0),C0=Te({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),E0=kt(C0),P0=Te({},An,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),A0=kt(P0),R0=Te({},An,{data:0}),iu=kt(R0),L0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=M0[e])?!!t[e]:!1}function Go(){return _0}var I0=Te({},Or,{key:function(e){if(e.key){var t=L0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ja(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?T0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Go,charCode:function(e){return e.type==="keypress"?ja(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ja(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),O0=kt(I0),D0=Te({},pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ou=kt(D0),z0=Te({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Go}),$0=kt(z0),F0=Te({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),B0=kt(F0),U0=Te({},pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),V0=kt(U0),q0=[9,13,27,32],Qo=ns&&"CompositionEvent"in window,nr=null;ns&&"documentMode"in document&&(nr=document.documentMode);var H0=ns&&"TextEvent"in window&&!nr,Wp=ns&&(!Qo||nr&&8<nr&&11>=nr),cu=" ",uu=!1;function Kp(e,t){switch(e){case"keyup":return q0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var tn=!1;function W0(e,t){switch(e){case"compositionend":return Gp(t);case"keypress":return t.which!==32?null:(uu=!0,cu);case"textInput":return e=t.data,e===cu&&uu?null:e;default:return null}}function K0(e,t){if(tn)return e==="compositionend"||!Qo&&Kp(e,t)?(e=Hp(),ba=Wo=ms=null,tn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wp&&t.locale!=="ko"?null:t.data;default:return null}}var G0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function du(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!G0[e.type]:t==="textarea"}function Qp(e,t,s,r){Cp(r),t=Fa(t,"onChange"),0<t.length&&(s=new Ko("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var rr=null,vr=null;function Q0(e){lf(e,0)}function fl(e){var t=rn(e);if(vp(t))return e}function Y0(e,t){if(e==="change")return t}var Yp=!1;if(ns){var Hl;if(ns){var Wl="oninput"in document;if(!Wl){var pu=document.createElement("div");pu.setAttribute("oninput","return;"),Wl=typeof pu.oninput=="function"}Hl=Wl}else Hl=!1;Yp=Hl&&(!document.documentMode||9<document.documentMode)}function fu(){rr&&(rr.detachEvent("onpropertychange",Xp),vr=rr=null)}function Xp(e){if(e.propertyName==="value"&&fl(vr)){var t=[];Qp(t,vr,e,Bo(e)),Rp(Q0,t)}}function X0(e,t,s){e==="focusin"?(fu(),rr=t,vr=s,rr.attachEvent("onpropertychange",Xp)):e==="focusout"&&fu()}function J0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fl(vr)}function Z0(e,t){if(e==="click")return fl(t)}function eh(e,t){if(e==="input"||e==="change")return fl(t)}function th(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:th;function br(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var a=s[r];if(!bi.call(t,a)||!Ft(e[a],t[a]))return!1}return!0}function mu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xu(e,t){var s=mu(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=mu(s)}}function Jp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zp(){for(var e=window,t=Ma();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Ma(e.document)}return t}function Yo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sh(e){var t=Zp(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Jp(s.ownerDocument.documentElement,s)){if(r!==null&&Yo(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,l=Math.min(r.start,a);r=r.end===void 0?l:Math.min(r.end,a),!e.extend&&l>r&&(a=r,r=l,l=a),a=xu(s,l);var i=xu(s,r);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nh=ns&&"documentMode"in document&&11>=document.documentMode,sn=null,$i=null,ar=null,Fi=!1;function hu(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Fi||sn==null||sn!==Ma(r)||(r=sn,"selectionStart"in r&&Yo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ar&&br(ar,r)||(ar=r,r=Fa($i,"onSelect"),0<r.length&&(t=new Ko("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=sn)))}function ea(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var nn={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionend:ea("Transition","TransitionEnd")},Kl={},ef={};ns&&(ef=document.createElement("div").style,"AnimationEvent"in window||(delete nn.animationend.animation,delete nn.animationiteration.animation,delete nn.animationstart.animation),"TransitionEvent"in window||delete nn.transitionend.transition);function ml(e){if(Kl[e])return Kl[e];if(!nn[e])return e;var t=nn[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in ef)return Kl[e]=t[s];return e}var tf=ml("animationend"),sf=ml("animationiteration"),nf=ml("animationstart"),rf=ml("transitionend"),af=new Map,gu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function As(e,t){af.set(e,t),Ys(t,[e])}for(var Gl=0;Gl<gu.length;Gl++){var Ql=gu[Gl],rh=Ql.toLowerCase(),ah=Ql[0].toUpperCase()+Ql.slice(1);As(rh,"on"+ah)}As(tf,"onAnimationEnd");As(sf,"onAnimationIteration");As(nf,"onAnimationStart");As("dblclick","onDoubleClick");As("focusin","onFocus");As("focusout","onBlur");As(rf,"onTransitionEnd");yn("onMouseEnter",["mouseout","mouseover"]);yn("onMouseLeave",["mouseout","mouseover"]);yn("onPointerEnter",["pointerout","pointerover"]);yn("onPointerLeave",["pointerout","pointerover"]);Ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lh=new Set("cancel close invalid load scroll toggle".split(" ").concat(er));function yu(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,r0(r,t,void 0,e),e.currentTarget=null}function lf(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],a=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==l&&a.isPropagationStopped())break e;yu(a,o,u),l=c}else for(i=0;i<r.length;i++){if(o=r[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==l&&a.isPropagationStopped())break e;yu(a,o,u),l=c}}}if(Ia)throw e=Ii,Ia=!1,Ii=null,e}function Se(e,t){var s=t[Hi];s===void 0&&(s=t[Hi]=new Set);var r=e+"__bubble";s.has(r)||(of(t,e,2,!1),s.add(r))}function Yl(e,t,s){var r=0;t&&(r|=4),of(s,e,r,t)}var ta="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[ta]){e[ta]=!0,mp.forEach(function(s){s!=="selectionchange"&&(lh.has(s)||Yl(s,!1,e),Yl(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ta]||(t[ta]=!0,Yl("selectionchange",!1,t))}}function of(e,t,s,r){switch(qp(t)){case 1:var a=b0;break;case 4:a=j0;break;default:a=Ho}s=a.bind(null,t,s,e),a=void 0,!_i||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function Xl(e,t,s,r,a){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var o=r.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;o!==null;){if(i=Os(o),i===null)return;if(c=i.tag,c===5||c===6){r=l=i;continue e}o=o.parentNode}}r=r.return}Rp(function(){var u=l,f=Bo(s),x=[];e:{var d=af.get(e);if(d!==void 0){var y=Ko,v=e;switch(e){case"keypress":if(ja(s)===0)break e;case"keydown":case"keyup":y=O0;break;case"focusin":v="focus",y=ql;break;case"focusout":v="blur",y=ql;break;case"beforeblur":case"afterblur":y=ql;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=lu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=k0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=$0;break;case tf:case sf:case nf:y=E0;break;case rf:y=B0;break;case"scroll":y=N0;break;case"wheel":y=V0;break;case"copy":case"cut":case"paste":y=A0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=ou}var j=(t&4)!==0,b=!j&&e==="scroll",m=j?d!==null?d+"Capture":null:d;j=[];for(var g=u,h;g!==null;){h=g;var k=h.stateNode;if(h.tag===5&&k!==null&&(h=k,m!==null&&(k=xr(g,m),k!=null&&j.push(Nr(g,k,h)))),b)break;g=g.return}0<j.length&&(d=new y(d,v,null,s,f),x.push({event:d,listeners:j}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",d&&s!==Ti&&(v=s.relatedTarget||s.fromElement)&&(Os(v)||v[rs]))break e;if((y||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,y?(v=s.relatedTarget||s.toElement,y=u,v=v?Os(v):null,v!==null&&(b=Xs(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(j=lu,k="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(j=ou,k="onPointerLeave",m="onPointerEnter",g="pointer"),b=y==null?d:rn(y),h=v==null?d:rn(v),d=new j(k,g+"leave",y,s,f),d.target=b,d.relatedTarget=h,k=null,Os(f)===u&&(j=new j(m,g+"enter",v,s,f),j.target=h,j.relatedTarget=b,k=j),b=k,y&&v)t:{for(j=y,m=v,g=0,h=j;h;h=Js(h))g++;for(h=0,k=m;k;k=Js(k))h++;for(;0<g-h;)j=Js(j),g--;for(;0<h-g;)m=Js(m),h--;for(;g--;){if(j===m||m!==null&&j===m.alternate)break t;j=Js(j),m=Js(m)}j=null}else j=null;y!==null&&vu(x,d,y,j,!1),v!==null&&b!==null&&vu(x,b,v,j,!0)}}e:{if(d=u?rn(u):window,y=d.nodeName&&d.nodeName.toLowerCase(),y==="select"||y==="input"&&d.type==="file")var C=Y0;else if(du(d))if(Yp)C=eh;else{C=J0;var L=X0}else(y=d.nodeName)&&y.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=Z0);if(C&&(C=C(e,u))){Qp(x,C,s,f);break e}L&&L(e,d,u),e==="focusout"&&(L=d._wrapperState)&&L.controlled&&d.type==="number"&&Ei(d,"number",d.value)}switch(L=u?rn(u):window,e){case"focusin":(du(L)||L.contentEditable==="true")&&(sn=L,$i=u,ar=null);break;case"focusout":ar=$i=sn=null;break;case"mousedown":Fi=!0;break;case"contextmenu":case"mouseup":case"dragend":Fi=!1,hu(x,s,f);break;case"selectionchange":if(nh)break;case"keydown":case"keyup":hu(x,s,f)}var _;if(Qo)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else tn?Kp(e,s)&&(w="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(w="onCompositionStart");w&&(Wp&&s.locale!=="ko"&&(tn||w!=="onCompositionStart"?w==="onCompositionEnd"&&tn&&(_=Hp()):(ms=f,Wo="value"in ms?ms.value:ms.textContent,tn=!0)),L=Fa(u,w),0<L.length&&(w=new iu(w,e,null,s,f),x.push({event:w,listeners:L}),_?w.data=_:(_=Gp(s),_!==null&&(w.data=_)))),(_=H0?W0(e,s):K0(e,s))&&(u=Fa(u,"onBeforeInput"),0<u.length&&(f=new iu("onBeforeInput","beforeinput",null,s,f),x.push({event:f,listeners:u}),f.data=_))}lf(x,t)})}function Nr(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Fa(e,t){for(var s=t+"Capture",r=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=xr(e,s),l!=null&&r.unshift(Nr(e,l,a)),l=xr(e,t),l!=null&&r.push(Nr(e,l,a))),e=e.return}return r}function Js(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vu(e,t,s,r,a){for(var l=t._reactName,i=[];s!==null&&s!==r;){var o=s,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,a?(c=xr(s,l),c!=null&&i.unshift(Nr(s,c,o))):a||(c=xr(s,l),c!=null&&i.push(Nr(s,c,o)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var ih=/\r\n?/g,oh=/\u0000|\uFFFD/g;function bu(e){return(typeof e=="string"?e:""+e).replace(ih,`
`).replace(oh,"")}function sa(e,t,s){if(t=bu(t),bu(e)!==t&&s)throw Error(U(425))}function Ba(){}var Bi=null,Ui=null;function Vi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qi=typeof setTimeout=="function"?setTimeout:void 0,ch=typeof clearTimeout=="function"?clearTimeout:void 0,ju=typeof Promise=="function"?Promise:void 0,uh=typeof queueMicrotask=="function"?queueMicrotask:typeof ju<"u"?function(e){return ju.resolve(null).then(e).catch(dh)}:qi;function dh(e){setTimeout(function(){throw e})}function Jl(e,t){var s=t,r=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(r===0){e.removeChild(a),yr(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=a}while(s);yr(t)}function js(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Rn=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Rn,wr="__reactProps$"+Rn,rs="__reactContainer$"+Rn,Hi="__reactEvents$"+Rn,ph="__reactListeners$"+Rn,fh="__reactHandles$"+Rn;function Os(e){var t=e[Ht];if(t)return t;for(var s=e.parentNode;s;){if(t=s[rs]||s[Ht]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Nu(e);e!==null;){if(s=e[Ht])return s;e=Nu(e)}return t}e=s,s=e.parentNode}return null}function Dr(e){return e=e[Ht]||e[rs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function xl(e){return e[wr]||null}var Wi=[],an=-1;function Rs(e){return{current:e}}function Ce(e){0>an||(e.current=Wi[an],Wi[an]=null,an--)}function ke(e,t){an++,Wi[an]=e.current,e.current=t}var Ps={},st=Rs(Ps),ut=Rs(!1),Vs=Ps;function vn(e,t){var s=e.type.contextTypes;if(!s)return Ps;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in s)a[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function dt(e){return e=e.childContextTypes,e!=null}function Ua(){Ce(ut),Ce(st)}function wu(e,t,s){if(st.current!==Ps)throw Error(U(168));ke(st,t),ke(ut,s)}function cf(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(U(108,Xx(e)||"Unknown",a));return Te({},s,r)}function Va(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ps,Vs=st.current,ke(st,e),ke(ut,ut.current),!0}function ku(e,t,s){var r=e.stateNode;if(!r)throw Error(U(169));s?(e=cf(e,t,Vs),r.__reactInternalMemoizedMergedChildContext=e,Ce(ut),Ce(st),ke(st,e)):Ce(ut),ke(ut,s)}var Xt=null,hl=!1,Zl=!1;function uf(e){Xt===null?Xt=[e]:Xt.push(e)}function mh(e){hl=!0,uf(e)}function Ls(){if(!Zl&&Xt!==null){Zl=!0;var e=0,t=Ne;try{var s=Xt;for(Ne=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}Xt=null,hl=!1}catch(a){throw Xt!==null&&(Xt=Xt.slice(e+1)),_p(Uo,Ls),a}finally{Ne=t,Zl=!1}}return null}var ln=[],on=0,qa=null,Ha=0,St=[],Ct=0,qs=null,Jt=1,Zt="";function _s(e,t){ln[on++]=Ha,ln[on++]=qa,qa=e,Ha=t}function df(e,t,s){St[Ct++]=Jt,St[Ct++]=Zt,St[Ct++]=qs,qs=e;var r=Jt;e=Zt;var a=32-zt(r)-1;r&=~(1<<a),s+=1;var l=32-zt(t)+a;if(30<l){var i=a-a%5;l=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Jt=1<<32-zt(t)+a|s<<a|r,Zt=l+e}else Jt=1<<l|s<<a|r,Zt=e}function Xo(e){e.return!==null&&(_s(e,1),df(e,1,0))}function Jo(e){for(;e===qa;)qa=ln[--on],ln[on]=null,Ha=ln[--on],ln[on]=null;for(;e===qs;)qs=St[--Ct],St[Ct]=null,Zt=St[--Ct],St[Ct]=null,Jt=St[--Ct],St[Ct]=null}var yt=null,gt=null,Ee=!1,Dt=null;function pf(e,t){var s=Et(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Su(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,gt=js(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=qs!==null?{id:Jt,overflow:Zt}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Et(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,yt=e,gt=null,!0):!1;default:return!1}}function Ki(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gi(e){if(Ee){var t=gt;if(t){var s=t;if(!Su(e,t)){if(Ki(e))throw Error(U(418));t=js(s.nextSibling);var r=yt;t&&Su(e,t)?pf(r,s):(e.flags=e.flags&-4097|2,Ee=!1,yt=e)}}else{if(Ki(e))throw Error(U(418));e.flags=e.flags&-4097|2,Ee=!1,yt=e}}}function Cu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function na(e){if(e!==yt)return!1;if(!Ee)return Cu(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vi(e.type,e.memoizedProps)),t&&(t=gt)){if(Ki(e))throw ff(),Error(U(418));for(;t;)pf(e,t),t=js(t.nextSibling)}if(Cu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){gt=js(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=yt?js(e.stateNode.nextSibling):null;return!0}function ff(){for(var e=gt;e;)e=js(e.nextSibling)}function bn(){gt=yt=null,Ee=!1}function Zo(e){Dt===null?Dt=[e]:Dt.push(e)}var xh=is.ReactCurrentBatchConfig;function Hn(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(U(309));var r=s.stateNode}if(!r)throw Error(U(147,e));var a=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(U(284));if(!s._owner)throw Error(U(290,e))}return e}function ra(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Eu(e){var t=e._init;return t(e._payload)}function mf(e){function t(m,g){if(e){var h=m.deletions;h===null?(m.deletions=[g],m.flags|=16):h.push(g)}}function s(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function a(m,g){return m=Ss(m,g),m.index=0,m.sibling=null,m}function l(m,g,h){return m.index=h,e?(h=m.alternate,h!==null?(h=h.index,h<g?(m.flags|=2,g):h):(m.flags|=2,g)):(m.flags|=1048576,g)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,g,h,k){return g===null||g.tag!==6?(g=li(h,m.mode,k),g.return=m,g):(g=a(g,h),g.return=m,g)}function c(m,g,h,k){var C=h.type;return C===en?f(m,g,h.props.children,k,h.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===us&&Eu(C)===g.type)?(k=a(g,h.props),k.ref=Hn(m,g,h),k.return=m,k):(k=Pa(h.type,h.key,h.props,null,m.mode,k),k.ref=Hn(m,g,h),k.return=m,k)}function u(m,g,h,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==h.containerInfo||g.stateNode.implementation!==h.implementation?(g=ii(h,m.mode,k),g.return=m,g):(g=a(g,h.children||[]),g.return=m,g)}function f(m,g,h,k,C){return g===null||g.tag!==7?(g=Bs(h,m.mode,k,C),g.return=m,g):(g=a(g,h),g.return=m,g)}function x(m,g,h){if(typeof g=="string"&&g!==""||typeof g=="number")return g=li(""+g,m.mode,h),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Kr:return h=Pa(g.type,g.key,g.props,null,m.mode,h),h.ref=Hn(m,null,g),h.return=m,h;case Zs:return g=ii(g,m.mode,h),g.return=m,g;case us:var k=g._init;return x(m,k(g._payload),h)}if(Jn(g)||Fn(g))return g=Bs(g,m.mode,h,null),g.return=m,g;ra(m,g)}return null}function d(m,g,h,k){var C=g!==null?g.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return C!==null?null:o(m,g,""+h,k);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Kr:return h.key===C?c(m,g,h,k):null;case Zs:return h.key===C?u(m,g,h,k):null;case us:return C=h._init,d(m,g,C(h._payload),k)}if(Jn(h)||Fn(h))return C!==null?null:f(m,g,h,k,null);ra(m,h)}return null}function y(m,g,h,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(h)||null,o(g,m,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Kr:return m=m.get(k.key===null?h:k.key)||null,c(g,m,k,C);case Zs:return m=m.get(k.key===null?h:k.key)||null,u(g,m,k,C);case us:var L=k._init;return y(m,g,h,L(k._payload),C)}if(Jn(k)||Fn(k))return m=m.get(h)||null,f(g,m,k,C,null);ra(g,k)}return null}function v(m,g,h,k){for(var C=null,L=null,_=g,w=g=0,T=null;_!==null&&w<h.length;w++){_.index>w?(T=_,_=null):T=_.sibling;var M=d(m,_,h[w],k);if(M===null){_===null&&(_=T);break}e&&_&&M.alternate===null&&t(m,_),g=l(M,g,w),L===null?C=M:L.sibling=M,L=M,_=T}if(w===h.length)return s(m,_),Ee&&_s(m,w),C;if(_===null){for(;w<h.length;w++)_=x(m,h[w],k),_!==null&&(g=l(_,g,w),L===null?C=_:L.sibling=_,L=_);return Ee&&_s(m,w),C}for(_=r(m,_);w<h.length;w++)T=y(_,m,w,h[w],k),T!==null&&(e&&T.alternate!==null&&_.delete(T.key===null?w:T.key),g=l(T,g,w),L===null?C=T:L.sibling=T,L=T);return e&&_.forEach(function(I){return t(m,I)}),Ee&&_s(m,w),C}function j(m,g,h,k){var C=Fn(h);if(typeof C!="function")throw Error(U(150));if(h=C.call(h),h==null)throw Error(U(151));for(var L=C=null,_=g,w=g=0,T=null,M=h.next();_!==null&&!M.done;w++,M=h.next()){_.index>w?(T=_,_=null):T=_.sibling;var I=d(m,_,M.value,k);if(I===null){_===null&&(_=T);break}e&&_&&I.alternate===null&&t(m,_),g=l(I,g,w),L===null?C=I:L.sibling=I,L=I,_=T}if(M.done)return s(m,_),Ee&&_s(m,w),C;if(_===null){for(;!M.done;w++,M=h.next())M=x(m,M.value,k),M!==null&&(g=l(M,g,w),L===null?C=M:L.sibling=M,L=M);return Ee&&_s(m,w),C}for(_=r(m,_);!M.done;w++,M=h.next())M=y(_,m,w,M.value,k),M!==null&&(e&&M.alternate!==null&&_.delete(M.key===null?w:M.key),g=l(M,g,w),L===null?C=M:L.sibling=M,L=M);return e&&_.forEach(function(H){return t(m,H)}),Ee&&_s(m,w),C}function b(m,g,h,k){if(typeof h=="object"&&h!==null&&h.type===en&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Kr:e:{for(var C=h.key,L=g;L!==null;){if(L.key===C){if(C=h.type,C===en){if(L.tag===7){s(m,L.sibling),g=a(L,h.props.children),g.return=m,m=g;break e}}else if(L.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===us&&Eu(C)===L.type){s(m,L.sibling),g=a(L,h.props),g.ref=Hn(m,L,h),g.return=m,m=g;break e}s(m,L);break}else t(m,L);L=L.sibling}h.type===en?(g=Bs(h.props.children,m.mode,k,h.key),g.return=m,m=g):(k=Pa(h.type,h.key,h.props,null,m.mode,k),k.ref=Hn(m,g,h),k.return=m,m=k)}return i(m);case Zs:e:{for(L=h.key;g!==null;){if(g.key===L)if(g.tag===4&&g.stateNode.containerInfo===h.containerInfo&&g.stateNode.implementation===h.implementation){s(m,g.sibling),g=a(g,h.children||[]),g.return=m,m=g;break e}else{s(m,g);break}else t(m,g);g=g.sibling}g=ii(h,m.mode,k),g.return=m,m=g}return i(m);case us:return L=h._init,b(m,g,L(h._payload),k)}if(Jn(h))return v(m,g,h,k);if(Fn(h))return j(m,g,h,k);ra(m,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,g!==null&&g.tag===6?(s(m,g.sibling),g=a(g,h),g.return=m,m=g):(s(m,g),g=li(h,m.mode,k),g.return=m,m=g),i(m)):s(m,g)}return b}var jn=mf(!0),xf=mf(!1),Wa=Rs(null),Ka=null,cn=null,ec=null;function tc(){ec=cn=Ka=null}function sc(e){var t=Wa.current;Ce(Wa),e._currentValue=t}function Qi(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function hn(e,t){Ka=e,ec=cn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ct=!0),e.firstContext=null)}function Rt(e){var t=e._currentValue;if(ec!==e)if(e={context:e,memoizedValue:t,next:null},cn===null){if(Ka===null)throw Error(U(308));cn=e,Ka.dependencies={lanes:0,firstContext:e}}else cn=cn.next=e;return t}var Ds=null;function nc(e){Ds===null?Ds=[e]:Ds.push(e)}function hf(e,t,s,r){var a=t.interleaved;return a===null?(s.next=s,nc(t)):(s.next=a.next,a.next=s),t.interleaved=s,as(e,r)}function as(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var ds=!1;function rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function es(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ns(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,as(e,s)}return a=r.interleaved,a===null?(t.next=t,nc(r)):(t.next=a.next,a.next=t),r.interleaved=t,as(e,s)}function Na(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Vo(e,s)}}function Pu(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var a=null,l=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};l===null?a=l=i:l=l.next=i,s=s.next}while(s!==null);l===null?a=l=t:l=l.next=t}else a=l=t;s={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Ga(e,t,s,r){var a=e.updateQueue;ds=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?l=u:i.next=u,i=c;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==i&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=c))}if(l!==null){var x=a.baseState;i=0,f=u=c=null,o=l;do{var d=o.lane,y=o.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,j=o;switch(d=t,y=s,j.tag){case 1:if(v=j.payload,typeof v=="function"){x=v.call(y,x,d);break e}x=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=j.payload,d=typeof v=="function"?v.call(y,x,d):v,d==null)break e;x=Te({},x,d);break e;case 2:ds=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,d=a.effects,d===null?a.effects=[o]:d.push(o))}else y={eventTime:y,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=y,c=x):f=f.next=y,i|=d;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;d=o,o=d.next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}while(!0);if(f===null&&(c=x),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);Ws|=i,e.lanes=i,e.memoizedState=x}}function Au(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=s,typeof a!="function")throw Error(U(191,a));a.call(r)}}}var zr={},Kt=Rs(zr),kr=Rs(zr),Sr=Rs(zr);function zs(e){if(e===zr)throw Error(U(174));return e}function ac(e,t){switch(ke(Sr,t),ke(kr,e),ke(Kt,zr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ai(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ai(t,e)}Ce(Kt),ke(Kt,t)}function Nn(){Ce(Kt),Ce(kr),Ce(Sr)}function yf(e){zs(Sr.current);var t=zs(Kt.current),s=Ai(t,e.type);t!==s&&(ke(kr,e),ke(Kt,s))}function lc(e){kr.current===e&&(Ce(Kt),Ce(kr))}var Re=Rs(0);function Qa(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ei=[];function ic(){for(var e=0;e<ei.length;e++)ei[e]._workInProgressVersionPrimary=null;ei.length=0}var wa=is.ReactCurrentDispatcher,ti=is.ReactCurrentBatchConfig,Hs=0,Le=null,qe=null,We=null,Ya=!1,lr=!1,Cr=0,hh=0;function Je(){throw Error(U(321))}function oc(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Ft(e[s],t[s]))return!1;return!0}function cc(e,t,s,r,a,l){if(Hs=l,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wa.current=e===null||e.memoizedState===null?bh:jh,e=s(r,a),lr){l=0;do{if(lr=!1,Cr=0,25<=l)throw Error(U(301));l+=1,We=qe=null,t.updateQueue=null,wa.current=Nh,e=s(r,a)}while(lr)}if(wa.current=Xa,t=qe!==null&&qe.next!==null,Hs=0,We=qe=Le=null,Ya=!1,t)throw Error(U(300));return e}function uc(){var e=Cr!==0;return Cr=0,e}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Le.memoizedState=We=e:We=We.next=e,We}function Lt(){if(qe===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=We===null?Le.memoizedState:We.next;if(t!==null)We=t,qe=e;else{if(e===null)throw Error(U(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},We===null?Le.memoizedState=We=e:We=We.next=e}return We}function Er(e,t){return typeof t=="function"?t(e):t}function si(e){var t=Lt(),s=t.queue;if(s===null)throw Error(U(311));s.lastRenderedReducer=e;var r=qe,a=r.baseQueue,l=s.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}r.baseQueue=a=l,s.pending=null}if(a!==null){l=a.next,r=r.baseState;var o=i=null,c=null,u=l;do{var f=u.lane;if((Hs&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var x={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=x,i=r):c=c.next=x,Le.lanes|=f,Ws|=f}u=u.next}while(u!==null&&u!==l);c===null?i=r:c.next=o,Ft(r,t.memoizedState)||(ct=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,s.lastRenderedState=r}if(e=s.interleaved,e!==null){a=e;do l=a.lane,Le.lanes|=l,Ws|=l,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function ni(e){var t=Lt(),s=t.queue;if(s===null)throw Error(U(311));s.lastRenderedReducer=e;var r=s.dispatch,a=s.pending,l=t.memoizedState;if(a!==null){s.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);Ft(l,t.memoizedState)||(ct=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),s.lastRenderedState=l}return[l,r]}function vf(){}function bf(e,t){var s=Le,r=Lt(),a=t(),l=!Ft(r.memoizedState,a);if(l&&(r.memoizedState=a,ct=!0),r=r.queue,dc(wf.bind(null,s,r,e),[e]),r.getSnapshot!==t||l||We!==null&&We.memoizedState.tag&1){if(s.flags|=2048,Pr(9,Nf.bind(null,s,r,a,t),void 0,null),Ke===null)throw Error(U(349));Hs&30||jf(s,t,a)}return a}function jf(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Nf(e,t,s,r){t.value=s,t.getSnapshot=r,kf(t)&&Sf(e)}function wf(e,t,s){return s(function(){kf(t)&&Sf(e)})}function kf(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Ft(e,s)}catch{return!0}}function Sf(e){var t=as(e,1);t!==null&&$t(t,e,1,-1)}function Ru(e){var t=qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:e},t.queue=e,e=e.dispatch=vh.bind(null,Le,e),[t.memoizedState,e]}function Pr(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function Cf(){return Lt().memoizedState}function ka(e,t,s,r){var a=qt();Le.flags|=e,a.memoizedState=Pr(1|t,s,void 0,r===void 0?null:r)}function gl(e,t,s,r){var a=Lt();r=r===void 0?null:r;var l=void 0;if(qe!==null){var i=qe.memoizedState;if(l=i.destroy,r!==null&&oc(r,i.deps)){a.memoizedState=Pr(t,s,l,r);return}}Le.flags|=e,a.memoizedState=Pr(1|t,s,l,r)}function Lu(e,t){return ka(8390656,8,e,t)}function dc(e,t){return gl(2048,8,e,t)}function Ef(e,t){return gl(4,2,e,t)}function Pf(e,t){return gl(4,4,e,t)}function Af(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rf(e,t,s){return s=s!=null?s.concat([e]):null,gl(4,4,Af.bind(null,t,e),s)}function pc(){}function Lf(e,t){var s=Lt();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&oc(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function Tf(e,t){var s=Lt();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&oc(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function Mf(e,t,s){return Hs&21?(Ft(s,t)||(s=Dp(),Le.lanes|=s,Ws|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=s)}function gh(e,t){var s=Ne;Ne=s!==0&&4>s?s:4,e(!0);var r=ti.transition;ti.transition={};try{e(!1),t()}finally{Ne=s,ti.transition=r}}function _f(){return Lt().memoizedState}function yh(e,t,s){var r=ks(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},If(e))Of(t,s);else if(s=hf(e,t,s,r),s!==null){var a=rt();$t(s,e,r,a),Df(s,t,r)}}function vh(e,t,s){var r=ks(e),a={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(If(e))Of(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,o=l(i,s);if(a.hasEagerState=!0,a.eagerState=o,Ft(o,i)){var c=t.interleaved;c===null?(a.next=a,nc(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}s=hf(e,t,a,r),s!==null&&(a=rt(),$t(s,e,r,a),Df(s,t,r))}}function If(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function Of(e,t){lr=Ya=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Df(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Vo(e,s)}}var Xa={readContext:Rt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},bh={readContext:Rt,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:Lu,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,ka(4194308,4,Af.bind(null,t,e),s)},useLayoutEffect:function(e,t){return ka(4194308,4,e,t)},useInsertionEffect:function(e,t){return ka(4,2,e,t)},useMemo:function(e,t){var s=qt();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=qt();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=yh.bind(null,Le,e),[r.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:Ru,useDebugValue:pc,useDeferredValue:function(e){return qt().memoizedState=e},useTransition:function(){var e=Ru(!1),t=e[0];return e=gh.bind(null,e[1]),qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=Le,a=qt();if(Ee){if(s===void 0)throw Error(U(407));s=s()}else{if(s=t(),Ke===null)throw Error(U(349));Hs&30||jf(r,t,s)}a.memoizedState=s;var l={value:s,getSnapshot:t};return a.queue=l,Lu(wf.bind(null,r,l,e),[e]),r.flags|=2048,Pr(9,Nf.bind(null,r,l,s,t),void 0,null),s},useId:function(){var e=qt(),t=Ke.identifierPrefix;if(Ee){var s=Zt,r=Jt;s=(r&~(1<<32-zt(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=Cr++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=hh++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jh={readContext:Rt,useCallback:Lf,useContext:Rt,useEffect:dc,useImperativeHandle:Rf,useInsertionEffect:Ef,useLayoutEffect:Pf,useMemo:Tf,useReducer:si,useRef:Cf,useState:function(){return si(Er)},useDebugValue:pc,useDeferredValue:function(e){var t=Lt();return Mf(t,qe.memoizedState,e)},useTransition:function(){var e=si(Er)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:vf,useSyncExternalStore:bf,useId:_f,unstable_isNewReconciler:!1},Nh={readContext:Rt,useCallback:Lf,useContext:Rt,useEffect:dc,useImperativeHandle:Rf,useInsertionEffect:Ef,useLayoutEffect:Pf,useMemo:Tf,useReducer:ni,useRef:Cf,useState:function(){return ni(Er)},useDebugValue:pc,useDeferredValue:function(e){var t=Lt();return qe===null?t.memoizedState=e:Mf(t,qe.memoizedState,e)},useTransition:function(){var e=ni(Er)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:vf,useSyncExternalStore:bf,useId:_f,unstable_isNewReconciler:!1};function It(e,t){if(e&&e.defaultProps){t=Te({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Yi(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:Te({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var yl={isMounted:function(e){return(e=e._reactInternals)?Xs(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=rt(),a=ks(e),l=es(r,a);l.payload=t,s!=null&&(l.callback=s),t=Ns(e,l,a),t!==null&&($t(t,e,a,r),Na(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=rt(),a=ks(e),l=es(r,a);l.tag=1,l.payload=t,s!=null&&(l.callback=s),t=Ns(e,l,a),t!==null&&($t(t,e,a,r),Na(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=rt(),r=ks(e),a=es(s,r);a.tag=2,t!=null&&(a.callback=t),t=Ns(e,a,r),t!==null&&($t(t,e,r,s),Na(t,e,r))}};function Tu(e,t,s,r,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,i):t.prototype&&t.prototype.isPureReactComponent?!br(s,r)||!br(a,l):!0}function zf(e,t,s){var r=!1,a=Ps,l=t.contextType;return typeof l=="object"&&l!==null?l=Rt(l):(a=dt(t)?Vs:st.current,r=t.contextTypes,l=(r=r!=null)?vn(e,a):Ps),t=new t(s,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function Mu(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&yl.enqueueReplaceState(t,t.state,null)}function Xi(e,t,s,r){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},rc(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=Rt(l):(l=dt(t)?Vs:st.current,a.context=vn(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Yi(e,t,l,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&yl.enqueueReplaceState(a,a.state,null),Ga(e,s,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function wn(e,t){try{var s="",r=t;do s+=Yx(r),r=r.return;while(r);var a=s}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function ri(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Ji(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var wh=typeof WeakMap=="function"?WeakMap:Map;function $f(e,t,s){s=es(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){Za||(Za=!0,oo=r),Ji(e,t)},s}function Ff(e,t,s){s=es(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;s.payload=function(){return r(a)},s.callback=function(){Ji(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(s.callback=function(){Ji(e,t),typeof r!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),s}function _u(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new wh;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(s)||(a.add(s),e=Dh.bind(null,e,t,s),t.then(e,e))}function Iu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ou(e,t,s,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=es(-1,1),t.tag=2,Ns(s,t,1))),s.lanes|=1),e)}var kh=is.ReactCurrentOwner,ct=!1;function nt(e,t,s,r){t.child=e===null?xf(t,null,s,r):jn(t,e.child,s,r)}function Du(e,t,s,r,a){s=s.render;var l=t.ref;return hn(t,a),r=cc(e,t,s,r,l,a),s=uc(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ls(e,t,a)):(Ee&&s&&Xo(t),t.flags|=1,nt(e,t,r,a),t.child)}function zu(e,t,s,r,a){if(e===null){var l=s.type;return typeof l=="function"&&!bc(l)&&l.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=l,Bf(e,t,l,r,a)):(e=Pa(s.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(s=s.compare,s=s!==null?s:br,s(i,r)&&e.ref===t.ref)return ls(e,t,a)}return t.flags|=1,e=Ss(l,r),e.ref=t.ref,e.return=t,t.child=e}function Bf(e,t,s,r,a){if(e!==null){var l=e.memoizedProps;if(br(l,r)&&e.ref===t.ref)if(ct=!1,t.pendingProps=r=l,(e.lanes&a)!==0)e.flags&131072&&(ct=!0);else return t.lanes=e.lanes,ls(e,t,a)}return Zi(e,t,s,r,a)}function Uf(e,t,s){var r=t.pendingProps,a=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(dn,ht),ht|=s;else{if(!(s&1073741824))return e=l!==null?l.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(dn,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:s,ke(dn,ht),ht|=r}else l!==null?(r=l.baseLanes|s,t.memoizedState=null):r=s,ke(dn,ht),ht|=r;return nt(e,t,a,s),t.child}function Vf(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Zi(e,t,s,r,a){var l=dt(s)?Vs:st.current;return l=vn(t,l),hn(t,a),s=cc(e,t,s,r,l,a),r=uc(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ls(e,t,a)):(Ee&&r&&Xo(t),t.flags|=1,nt(e,t,s,a),t.child)}function $u(e,t,s,r,a){if(dt(s)){var l=!0;Va(t)}else l=!1;if(hn(t,a),t.stateNode===null)Sa(e,t),zf(t,s,r),Xi(t,s,r,a),r=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,u=s.contextType;typeof u=="object"&&u!==null?u=Rt(u):(u=dt(s)?Vs:st.current,u=vn(t,u));var f=s.getDerivedStateFromProps,x=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";x||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==r||c!==u)&&Mu(t,i,r,u),ds=!1;var d=t.memoizedState;i.state=d,Ga(t,r,i,a),c=t.memoizedState,o!==r||d!==c||ut.current||ds?(typeof f=="function"&&(Yi(t,s,f,r),c=t.memoizedState),(o=ds||Tu(t,s,o,r,d,c,u))?(x||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,gf(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:It(t.type,o),i.props=u,x=t.pendingProps,d=i.context,c=s.contextType,typeof c=="object"&&c!==null?c=Rt(c):(c=dt(s)?Vs:st.current,c=vn(t,c));var y=s.getDerivedStateFromProps;(f=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==x||d!==c)&&Mu(t,i,r,c),ds=!1,d=t.memoizedState,i.state=d,Ga(t,r,i,a);var v=t.memoizedState;o!==x||d!==v||ut.current||ds?(typeof y=="function"&&(Yi(t,s,y,r),v=t.memoizedState),(u=ds||Tu(t,s,u,r,d,v,c)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),i.props=r,i.state=v,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return eo(e,t,s,r,l,a)}function eo(e,t,s,r,a,l){Vf(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return a&&ku(t,s,!1),ls(e,t,l);r=t.stateNode,kh.current=t;var o=i&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=jn(t,e.child,null,l),t.child=jn(t,null,o,l)):nt(e,t,o,l),t.memoizedState=r.state,a&&ku(t,s,!0),t.child}function qf(e){var t=e.stateNode;t.pendingContext?wu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wu(e,t.context,!1),ac(e,t.containerInfo)}function Fu(e,t,s,r,a){return bn(),Zo(a),t.flags|=256,nt(e,t,s,r),t.child}var to={dehydrated:null,treeContext:null,retryLane:0};function so(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hf(e,t,s){var r=t.pendingProps,a=Re.current,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ke(Re,a&1),e===null)return Gi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,l?(r=t.mode,l=t.child,i={mode:"hidden",children:i},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=jl(i,r,0,null),e=Bs(e,r,s,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=so(s),t.memoizedState=to,e):fc(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return Sh(e,t,i,r,o,a,s);if(l){l=r.fallback,i=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ss(a,c),r.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=Ss(o,l):(l=Bs(l,i,s,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,i=e.child.memoizedState,i=i===null?so(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~s,t.memoizedState=to,r}return l=e.child,e=l.sibling,r=Ss(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function fc(e,t){return t=jl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function aa(e,t,s,r){return r!==null&&Zo(r),jn(t,e.child,null,s),e=fc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sh(e,t,s,r,a,l,i){if(s)return t.flags&256?(t.flags&=-257,r=ri(Error(U(422))),aa(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,a=t.mode,r=jl({mode:"visible",children:r.children},a,0,null),l=Bs(l,a,i,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&jn(t,e.child,null,i),t.child.memoizedState=so(i),t.memoizedState=to,l);if(!(t.mode&1))return aa(e,t,i,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var o=r.dgst;return r=o,l=Error(U(419)),r=ri(l,r,void 0),aa(e,t,i,r)}if(o=(i&e.childLanes)!==0,ct||o){if(r=Ke,r!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,as(e,a),$t(r,e,a,-1))}return vc(),r=ri(Error(U(421))),aa(e,t,i,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=zh.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,gt=js(a.nextSibling),yt=t,Ee=!0,Dt=null,e!==null&&(St[Ct++]=Jt,St[Ct++]=Zt,St[Ct++]=qs,Jt=e.id,Zt=e.overflow,qs=t),t=fc(t,r.children),t.flags|=4096,t)}function Bu(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Qi(e.return,t,s)}function ai(e,t,s,r,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=s,l.tailMode=a)}function Wf(e,t,s){var r=t.pendingProps,a=r.revealOrder,l=r.tail;if(nt(e,t,r.children,s),r=Re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bu(e,s,t);else if(e.tag===19)Bu(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ke(Re,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&Qa(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),ai(t,!1,a,s,l);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Qa(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}ai(t,!0,s,null,l);break;case"together":ai(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ls(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Ws|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,s=Ss(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Ss(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Ch(e,t,s){switch(t.tag){case 3:qf(t),bn();break;case 5:yf(t);break;case 1:dt(t.type)&&Va(t);break;case 4:ac(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;ke(Wa,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ke(Re,Re.current&1),t.flags|=128,null):s&t.child.childLanes?Hf(e,t,s):(ke(Re,Re.current&1),e=ls(e,t,s),e!==null?e.sibling:null);ke(Re,Re.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return Wf(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ke(Re,Re.current),r)break;return null;case 22:case 23:return t.lanes=0,Uf(e,t,s)}return ls(e,t,s)}var Kf,no,Gf,Qf;Kf=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};no=function(){};Gf=function(e,t,s,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,zs(Kt.current);var l=null;switch(s){case"input":a=Si(e,a),r=Si(e,r),l=[];break;case"select":a=Te({},a,{value:void 0}),r=Te({},r,{value:void 0}),l=[];break;case"textarea":a=Pi(e,a),r=Pi(e,r),l=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ba)}Ri(s,r);var i;s=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(i in o)o.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fr.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var c=r[u];if(o=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(s||(s={}),s[i]=c[i])}else s||(l||(l=[]),l.push(u,s)),s=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Se("scroll",e),l||o===c||(l=[])):(l=l||[]).push(u,c))}s&&(l=l||[]).push("style",s);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};Qf=function(e,t,s,r){s!==r&&(t.flags|=4)};function Wn(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function Eh(e,t,s){var r=t.pendingProps;switch(Jo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return dt(t.type)&&Ua(),Ze(t),null;case 3:return r=t.stateNode,Nn(),Ce(ut),Ce(st),ic(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(na(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dt!==null&&(po(Dt),Dt=null))),no(e,t),Ze(t),null;case 5:lc(t);var a=zs(Sr.current);if(s=t.type,e!==null&&t.stateNode!=null)Gf(e,t,s,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return Ze(t),null}if(e=zs(Kt.current),na(t)){r=t.stateNode,s=t.type;var l=t.memoizedProps;switch(r[Ht]=t,r[wr]=l,e=(t.mode&1)!==0,s){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(a=0;a<er.length;a++)Se(er[a],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":Yc(r,l),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Se("invalid",r);break;case"textarea":Jc(r,l),Se("invalid",r)}Ri(s,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?r.textContent!==o&&(l.suppressHydrationWarning!==!0&&sa(r.textContent,o,e),a=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&sa(r.textContent,o,e),a=["children",""+o]):fr.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Se("scroll",r)}switch(s){case"input":Gr(r),Xc(r,l,!0);break;case"textarea":Gr(r),Zc(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Ba)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Np(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(s,{is:r.is}):(e=i.createElement(s),s==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,s),e[Ht]=t,e[wr]=r,Kf(e,t,!1,!1),t.stateNode=e;e:{switch(i=Li(s,r),s){case"dialog":Se("cancel",e),Se("close",e),a=r;break;case"iframe":case"object":case"embed":Se("load",e),a=r;break;case"video":case"audio":for(a=0;a<er.length;a++)Se(er[a],e);a=r;break;case"source":Se("error",e),a=r;break;case"img":case"image":case"link":Se("error",e),Se("load",e),a=r;break;case"details":Se("toggle",e),a=r;break;case"input":Yc(e,r),a=Si(e,r),Se("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Te({},r,{value:void 0}),Se("invalid",e);break;case"textarea":Jc(e,r),a=Pi(e,r),Se("invalid",e);break;default:a=r}Ri(s,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?Sp(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wp(e,c)):l==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&mr(e,c):typeof c=="number"&&mr(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(fr.hasOwnProperty(l)?c!=null&&l==="onScroll"&&Se("scroll",e):c!=null&&Do(e,l,c,i))}switch(s){case"input":Gr(e),Xc(e,r,!1);break;case"textarea":Gr(e),Zc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Es(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?pn(e,!!r.multiple,l,!1):r.defaultValue!=null&&pn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ba)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ze(t),null;case 6:if(e&&t.stateNode!=null)Qf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(s=zs(Sr.current),zs(Kt.current),na(t)){if(r=t.stateNode,s=t.memoizedProps,r[Ht]=t,(l=r.nodeValue!==s)&&(e=yt,e!==null))switch(e.tag){case 3:sa(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sa(r.nodeValue,s,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[Ht]=t,t.stateNode=r}return Ze(t),null;case 13:if(Ce(Re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&gt!==null&&t.mode&1&&!(t.flags&128))ff(),bn(),t.flags|=98560,l=!1;else if(l=na(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(U(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(U(317));l[Ht]=t}else bn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ze(t),l=!1}else Dt!==null&&(po(Dt),Dt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?He===0&&(He=3):vc())),t.updateQueue!==null&&(t.flags|=4),Ze(t),null);case 4:return Nn(),no(e,t),e===null&&jr(t.stateNode.containerInfo),Ze(t),null;case 10:return sc(t.type._context),Ze(t),null;case 17:return dt(t.type)&&Ua(),Ze(t),null;case 19:if(Ce(Re),l=t.memoizedState,l===null)return Ze(t),null;if(r=(t.flags&128)!==0,i=l.rendering,i===null)if(r)Wn(l,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Qa(e),i!==null){for(t.flags|=128,Wn(l,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)l=s,e=r,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ke(Re,Re.current&1|2),t.child}e=e.sibling}l.tail!==null&&De()>kn&&(t.flags|=128,r=!0,Wn(l,!1),t.lanes=4194304)}else{if(!r)if(e=Qa(i),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Wn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!Ee)return Ze(t),null}else 2*De()-l.renderingStartTime>kn&&s!==1073741824&&(t.flags|=128,r=!0,Wn(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(s=l.last,s!==null?s.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=De(),t.sibling=null,s=Re.current,ke(Re,r?s&1|2:s&1),t):(Ze(t),null);case 22:case 23:return yc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ht&1073741824&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function Ph(e,t){switch(Jo(t),t.tag){case 1:return dt(t.type)&&Ua(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nn(),Ce(ut),Ce(st),ic(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return lc(t),null;case 13:if(Ce(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));bn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Re),null;case 4:return Nn(),null;case 10:return sc(t.type._context),null;case 22:case 23:return yc(),null;case 24:return null;default:return null}}var la=!1,et=!1,Ah=typeof WeakSet=="function"?WeakSet:Set,ee=null;function un(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){Ie(e,t,r)}else s.current=null}function ro(e,t,s){try{s()}catch(r){Ie(e,t,r)}}var Uu=!1;function Rh(e,t){if(Bi=za,e=Zp(),Yo(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{s.nodeType,l.nodeType}catch{s=null;break e}var i=0,o=-1,c=-1,u=0,f=0,x=e,d=null;t:for(;;){for(var y;x!==s||a!==0&&x.nodeType!==3||(o=i+a),x!==l||r!==0&&x.nodeType!==3||(c=i+r),x.nodeType===3&&(i+=x.nodeValue.length),(y=x.firstChild)!==null;)d=x,x=y;for(;;){if(x===e)break t;if(d===s&&++u===a&&(o=i),d===l&&++f===r&&(c=i),(y=x.nextSibling)!==null)break;x=d,d=x.parentNode}x=y}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ui={focusedElem:e,selectionRange:s},za=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var j=v.memoizedProps,b=v.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?j:It(t.type,j),b);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(k){Ie(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return v=Uu,Uu=!1,v}function ir(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&ro(t,s,l)}a=a.next}while(a!==r)}}function vl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function ao(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Yf(e){var t=e.alternate;t!==null&&(e.alternate=null,Yf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ht],delete t[wr],delete t[Hi],delete t[ph],delete t[fh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xf(e){return e.tag===5||e.tag===3||e.tag===4}function Vu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lo(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Ba));else if(r!==4&&(e=e.child,e!==null))for(lo(e,t,s),e=e.sibling;e!==null;)lo(e,t,s),e=e.sibling}function io(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(io(e,t,s),e=e.sibling;e!==null;)io(e,t,s),e=e.sibling}var Ge=null,Ot=!1;function cs(e,t,s){for(s=s.child;s!==null;)Jf(e,t,s),s=s.sibling}function Jf(e,t,s){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(dl,s)}catch{}switch(s.tag){case 5:et||un(s,t);case 6:var r=Ge,a=Ot;Ge=null,cs(e,t,s),Ge=r,Ot=a,Ge!==null&&(Ot?(e=Ge,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ge.removeChild(s.stateNode));break;case 18:Ge!==null&&(Ot?(e=Ge,s=s.stateNode,e.nodeType===8?Jl(e.parentNode,s):e.nodeType===1&&Jl(e,s),yr(e)):Jl(Ge,s.stateNode));break;case 4:r=Ge,a=Ot,Ge=s.stateNode.containerInfo,Ot=!0,cs(e,t,s),Ge=r,Ot=a;break;case 0:case 11:case 14:case 15:if(!et&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&ro(s,t,i),a=a.next}while(a!==r)}cs(e,t,s);break;case 1:if(!et&&(un(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(o){Ie(s,t,o)}cs(e,t,s);break;case 21:cs(e,t,s);break;case 22:s.mode&1?(et=(r=et)||s.memoizedState!==null,cs(e,t,s),et=r):cs(e,t,s);break;default:cs(e,t,s)}}function qu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Ah),t.forEach(function(r){var a=$h.bind(null,e,r);s.has(r)||(s.add(r),r.then(a,a))})}}function _t(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var a=s[r];try{var l=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Ge=o.stateNode,Ot=!1;break e;case 3:Ge=o.stateNode.containerInfo,Ot=!0;break e;case 4:Ge=o.stateNode.containerInfo,Ot=!0;break e}o=o.return}if(Ge===null)throw Error(U(160));Jf(l,i,a),Ge=null,Ot=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Ie(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zf(t,e),t=t.sibling}function Zf(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_t(t,e),Ut(e),r&4){try{ir(3,e,e.return),vl(3,e)}catch(j){Ie(e,e.return,j)}try{ir(5,e,e.return)}catch(j){Ie(e,e.return,j)}}break;case 1:_t(t,e),Ut(e),r&512&&s!==null&&un(s,s.return);break;case 5:if(_t(t,e),Ut(e),r&512&&s!==null&&un(s,s.return),e.flags&32){var a=e.stateNode;try{mr(a,"")}catch(j){Ie(e,e.return,j)}}if(r&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=s!==null?s.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&bp(a,l),Li(o,i);var u=Li(o,l);for(i=0;i<c.length;i+=2){var f=c[i],x=c[i+1];f==="style"?Sp(a,x):f==="dangerouslySetInnerHTML"?wp(a,x):f==="children"?mr(a,x):Do(a,f,x,u)}switch(o){case"input":Ci(a,l);break;case"textarea":jp(a,l);break;case"select":var d=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var y=l.value;y!=null?pn(a,!!l.multiple,y,!1):d!==!!l.multiple&&(l.defaultValue!=null?pn(a,!!l.multiple,l.defaultValue,!0):pn(a,!!l.multiple,l.multiple?[]:"",!1))}a[wr]=l}catch(j){Ie(e,e.return,j)}}break;case 6:if(_t(t,e),Ut(e),r&4){if(e.stateNode===null)throw Error(U(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(j){Ie(e,e.return,j)}}break;case 3:if(_t(t,e),Ut(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{yr(t.containerInfo)}catch(j){Ie(e,e.return,j)}break;case 4:_t(t,e),Ut(e);break;case 13:_t(t,e),Ut(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(hc=De())),r&4&&qu(e);break;case 22:if(f=s!==null&&s.memoizedState!==null,e.mode&1?(et=(u=et)||f,_t(t,e),et=u):_t(t,e),Ut(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(ee=e,f=e.child;f!==null;){for(x=ee=f;ee!==null;){switch(d=ee,y=d.child,d.tag){case 0:case 11:case 14:case 15:ir(4,d,d.return);break;case 1:un(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,s=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(j){Ie(r,s,j)}}break;case 5:un(d,d.return);break;case 22:if(d.memoizedState!==null){Wu(x);continue}}y!==null?(y.return=d,ee=y):Wu(x)}f=f.sibling}e:for(f=null,x=e;;){if(x.tag===5){if(f===null){f=x;try{a=x.stateNode,u?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=x.stateNode,c=x.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=kp("display",i))}catch(j){Ie(e,e.return,j)}}}else if(x.tag===6){if(f===null)try{x.stateNode.nodeValue=u?"":x.memoizedProps}catch(j){Ie(e,e.return,j)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;f===x&&(f=null),x=x.return}f===x&&(f=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:_t(t,e),Ut(e),r&4&&qu(e);break;case 21:break;default:_t(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Xf(s)){var r=s;break e}s=s.return}throw Error(U(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(mr(a,""),r.flags&=-33);var l=Vu(e);io(e,l,a);break;case 3:case 4:var i=r.stateNode.containerInfo,o=Vu(e);lo(e,o,i);break;default:throw Error(U(161))}}catch(c){Ie(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lh(e,t,s){ee=e,em(e)}function em(e,t,s){for(var r=(e.mode&1)!==0;ee!==null;){var a=ee,l=a.child;if(a.tag===22&&r){var i=a.memoizedState!==null||la;if(!i){var o=a.alternate,c=o!==null&&o.memoizedState!==null||et;o=la;var u=et;if(la=i,(et=c)&&!u)for(ee=a;ee!==null;)i=ee,c=i.child,i.tag===22&&i.memoizedState!==null?Ku(a):c!==null?(c.return=i,ee=c):Ku(a);for(;l!==null;)ee=l,em(l),l=l.sibling;ee=a,la=o,et=u}Hu(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,ee=l):Hu(e)}}function Hu(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||vl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!et)if(s===null)r.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:It(t.type,s.memoizedProps);r.componentDidUpdate(a,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Au(t,l,r);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Au(t,i,s)}break;case 5:var o=t.stateNode;if(s===null&&t.flags&4){s=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var x=f.dehydrated;x!==null&&yr(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}et||t.flags&512&&ao(t)}catch(d){Ie(t,t.return,d)}}if(t===e){ee=null;break}if(s=t.sibling,s!==null){s.return=t.return,ee=s;break}ee=t.return}}function Wu(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ee=s;break}ee=t.return}}function Ku(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{vl(4,t)}catch(c){Ie(t,s,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){Ie(t,a,c)}}var l=t.return;try{ao(t)}catch(c){Ie(t,l,c)}break;case 5:var i=t.return;try{ao(t)}catch(c){Ie(t,i,c)}}}catch(c){Ie(t,t.return,c)}if(t===e){ee=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ee=o;break}ee=t.return}}var Th=Math.ceil,Ja=is.ReactCurrentDispatcher,mc=is.ReactCurrentOwner,Pt=is.ReactCurrentBatchConfig,ye=0,Ke=null,Fe=null,Qe=0,ht=0,dn=Rs(0),He=0,Ar=null,Ws=0,bl=0,xc=0,or=null,ot=null,hc=0,kn=1/0,Yt=null,Za=!1,oo=null,ws=null,ia=!1,xs=null,el=0,cr=0,co=null,Ca=-1,Ea=0;function rt(){return ye&6?De():Ca!==-1?Ca:Ca=De()}function ks(e){return e.mode&1?ye&2&&Qe!==0?Qe&-Qe:xh.transition!==null?(Ea===0&&(Ea=Dp()),Ea):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:qp(e.type)),e):1}function $t(e,t,s,r){if(50<cr)throw cr=0,co=null,Error(U(185));Ir(e,s,r),(!(ye&2)||e!==Ke)&&(e===Ke&&(!(ye&2)&&(bl|=s),He===4&&fs(e,Qe)),pt(e,r),s===1&&ye===0&&!(t.mode&1)&&(kn=De()+500,hl&&Ls()))}function pt(e,t){var s=e.callbackNode;x0(e,t);var r=Da(e,e===Ke?Qe:0);if(r===0)s!==null&&su(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&su(s),t===1)e.tag===0?mh(Gu.bind(null,e)):uf(Gu.bind(null,e)),uh(function(){!(ye&6)&&Ls()}),s=null;else{switch(zp(r)){case 1:s=Uo;break;case 4:s=Ip;break;case 16:s=Oa;break;case 536870912:s=Op;break;default:s=Oa}s=om(s,tm.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function tm(e,t){if(Ca=-1,Ea=0,ye&6)throw Error(U(327));var s=e.callbackNode;if(gn()&&e.callbackNode!==s)return null;var r=Da(e,e===Ke?Qe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=tl(e,r);else{t=r;var a=ye;ye|=2;var l=nm();(Ke!==e||Qe!==t)&&(Yt=null,kn=De()+500,Fs(e,t));do try{Ih();break}catch(o){sm(e,o)}while(!0);tc(),Ja.current=l,ye=a,Fe!==null?t=0:(Ke=null,Qe=0,t=He)}if(t!==0){if(t===2&&(a=Oi(e),a!==0&&(r=a,t=uo(e,a))),t===1)throw s=Ar,Fs(e,0),fs(e,r),pt(e,De()),s;if(t===6)fs(e,r);else{if(a=e.current.alternate,!(r&30)&&!Mh(a)&&(t=tl(e,r),t===2&&(l=Oi(e),l!==0&&(r=l,t=uo(e,l))),t===1))throw s=Ar,Fs(e,0),fs(e,r),pt(e,De()),s;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:Is(e,ot,Yt);break;case 3:if(fs(e,r),(r&130023424)===r&&(t=hc+500-De(),10<t)){if(Da(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){rt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=qi(Is.bind(null,e,ot,Yt),t);break}Is(e,ot,Yt);break;case 4:if(fs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-zt(r);l=1<<i,i=t[i],i>a&&(a=i),r&=~l}if(r=a,r=De()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Th(r/1960))-r,10<r){e.timeoutHandle=qi(Is.bind(null,e,ot,Yt),r);break}Is(e,ot,Yt);break;case 5:Is(e,ot,Yt);break;default:throw Error(U(329))}}}return pt(e,De()),e.callbackNode===s?tm.bind(null,e):null}function uo(e,t){var s=or;return e.current.memoizedState.isDehydrated&&(Fs(e,t).flags|=256),e=tl(e,t),e!==2&&(t=ot,ot=s,t!==null&&po(t)),e}function po(e){ot===null?ot=e:ot.push.apply(ot,e)}function Mh(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var a=s[r],l=a.getSnapshot;a=a.value;try{if(!Ft(l(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fs(e,t){for(t&=~xc,t&=~bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-zt(t),r=1<<s;e[s]=-1,t&=~r}}function Gu(e){if(ye&6)throw Error(U(327));gn();var t=Da(e,0);if(!(t&1))return pt(e,De()),null;var s=tl(e,t);if(e.tag!==0&&s===2){var r=Oi(e);r!==0&&(t=r,s=uo(e,r))}if(s===1)throw s=Ar,Fs(e,0),fs(e,t),pt(e,De()),s;if(s===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Is(e,ot,Yt),pt(e,De()),null}function gc(e,t){var s=ye;ye|=1;try{return e(t)}finally{ye=s,ye===0&&(kn=De()+500,hl&&Ls())}}function Ks(e){xs!==null&&xs.tag===0&&!(ye&6)&&gn();var t=ye;ye|=1;var s=Pt.transition,r=Ne;try{if(Pt.transition=null,Ne=1,e)return e()}finally{Ne=r,Pt.transition=s,ye=t,!(ye&6)&&Ls()}}function yc(){ht=dn.current,Ce(dn)}function Fs(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,ch(s)),Fe!==null)for(s=Fe.return;s!==null;){var r=s;switch(Jo(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ua();break;case 3:Nn(),Ce(ut),Ce(st),ic();break;case 5:lc(r);break;case 4:Nn();break;case 13:Ce(Re);break;case 19:Ce(Re);break;case 10:sc(r.type._context);break;case 22:case 23:yc()}s=s.return}if(Ke=e,Fe=e=Ss(e.current,null),Qe=ht=t,He=0,Ar=null,xc=bl=Ws=0,ot=or=null,Ds!==null){for(t=0;t<Ds.length;t++)if(s=Ds[t],r=s.interleaved,r!==null){s.interleaved=null;var a=r.next,l=s.pending;if(l!==null){var i=l.next;l.next=a,r.next=i}s.pending=r}Ds=null}return e}function sm(e,t){do{var s=Fe;try{if(tc(),wa.current=Xa,Ya){for(var r=Le.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Ya=!1}if(Hs=0,We=qe=Le=null,lr=!1,Cr=0,mc.current=null,s===null||s.return===null){He=1,Ar=t,Fe=null;break}e:{var l=e,i=s.return,o=s,c=t;if(t=Qe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=o,x=f.tag;if(!(f.mode&1)&&(x===0||x===11||x===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=Iu(i);if(y!==null){y.flags&=-257,Ou(y,i,o,l,t),y.mode&1&&_u(l,u,t),t=y,c=u;var v=t.updateQueue;if(v===null){var j=new Set;j.add(c),t.updateQueue=j}else v.add(c);break e}else{if(!(t&1)){_u(l,u,t),vc();break e}c=Error(U(426))}}else if(Ee&&o.mode&1){var b=Iu(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ou(b,i,o,l,t),Zo(wn(c,o));break e}}l=c=wn(c,o),He!==4&&(He=2),or===null?or=[l]:or.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var m=$f(l,c,t);Pu(l,m);break e;case 1:o=c;var g=l.type,h=l.stateNode;if(!(l.flags&128)&&(typeof g.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ws===null||!ws.has(h)))){l.flags|=65536,t&=-t,l.lanes|=t;var k=Ff(l,o,t);Pu(l,k);break e}}l=l.return}while(l!==null)}am(s)}catch(C){t=C,Fe===s&&s!==null&&(Fe=s=s.return);continue}break}while(!0)}function nm(){var e=Ja.current;return Ja.current=Xa,e===null?Xa:e}function vc(){(He===0||He===3||He===2)&&(He=4),Ke===null||!(Ws&268435455)&&!(bl&268435455)||fs(Ke,Qe)}function tl(e,t){var s=ye;ye|=2;var r=nm();(Ke!==e||Qe!==t)&&(Yt=null,Fs(e,t));do try{_h();break}catch(a){sm(e,a)}while(!0);if(tc(),ye=s,Ja.current=r,Fe!==null)throw Error(U(261));return Ke=null,Qe=0,He}function _h(){for(;Fe!==null;)rm(Fe)}function Ih(){for(;Fe!==null&&!l0();)rm(Fe)}function rm(e){var t=im(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?am(e):Fe=t,mc.current=null}function am(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=Ph(s,t),s!==null){s.flags&=32767,Fe=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,Fe=null;return}}else if(s=Eh(s,t,ht),s!==null){Fe=s;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);He===0&&(He=5)}function Is(e,t,s){var r=Ne,a=Pt.transition;try{Pt.transition=null,Ne=1,Oh(e,t,s,r)}finally{Pt.transition=a,Ne=r}return null}function Oh(e,t,s,r){do gn();while(xs!==null);if(ye&6)throw Error(U(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var l=s.lanes|s.childLanes;if(h0(e,l),e===Ke&&(Fe=Ke=null,Qe=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||ia||(ia=!0,om(Oa,function(){return gn(),null})),l=(s.flags&15990)!==0,s.subtreeFlags&15990||l){l=Pt.transition,Pt.transition=null;var i=Ne;Ne=1;var o=ye;ye|=4,mc.current=null,Rh(e,s),Zf(s,e),sh(Ui),za=!!Bi,Ui=Bi=null,e.current=s,Lh(s),i0(),ye=o,Ne=i,Pt.transition=l}else e.current=s;if(ia&&(ia=!1,xs=e,el=a),l=e.pendingLanes,l===0&&(ws=null),u0(s.stateNode),pt(e,De()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],r(a.value,{componentStack:a.stack,digest:a.digest});if(Za)throw Za=!1,e=oo,oo=null,e;return el&1&&e.tag!==0&&gn(),l=e.pendingLanes,l&1?e===co?cr++:(cr=0,co=e):cr=0,Ls(),null}function gn(){if(xs!==null){var e=zp(el),t=Pt.transition,s=Ne;try{if(Pt.transition=null,Ne=16>e?16:e,xs===null)var r=!1;else{if(e=xs,xs=null,el=0,ye&6)throw Error(U(331));var a=ye;for(ye|=4,ee=e.current;ee!==null;){var l=ee,i=l.child;if(ee.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(ee=u;ee!==null;){var f=ee;switch(f.tag){case 0:case 11:case 15:ir(8,f,l)}var x=f.child;if(x!==null)x.return=f,ee=x;else for(;ee!==null;){f=ee;var d=f.sibling,y=f.return;if(Yf(f),f===u){ee=null;break}if(d!==null){d.return=y,ee=d;break}ee=y}}}var v=l.alternate;if(v!==null){var j=v.child;if(j!==null){v.child=null;do{var b=j.sibling;j.sibling=null,j=b}while(j!==null)}}ee=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,ee=i;else e:for(;ee!==null;){if(l=ee,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ir(9,l,l.return)}var m=l.sibling;if(m!==null){m.return=l.return,ee=m;break e}ee=l.return}}var g=e.current;for(ee=g;ee!==null;){i=ee;var h=i.child;if(i.subtreeFlags&2064&&h!==null)h.return=i,ee=h;else e:for(i=g;ee!==null;){if(o=ee,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:vl(9,o)}}catch(C){Ie(o,o.return,C)}if(o===i){ee=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,ee=k;break e}ee=o.return}}if(ye=a,Ls(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(dl,e)}catch{}r=!0}return r}finally{Ne=s,Pt.transition=t}}return!1}function Qu(e,t,s){t=wn(s,t),t=$f(e,t,1),e=Ns(e,t,1),t=rt(),e!==null&&(Ir(e,1,t),pt(e,t))}function Ie(e,t,s){if(e.tag===3)Qu(e,e,s);else for(;t!==null;){if(t.tag===3){Qu(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ws===null||!ws.has(r))){e=wn(s,e),e=Ff(t,e,1),t=Ns(t,e,1),e=rt(),t!==null&&(Ir(t,1,e),pt(t,e));break}}t=t.return}}function Dh(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&s,Ke===e&&(Qe&s)===s&&(He===4||He===3&&(Qe&130023424)===Qe&&500>De()-hc?Fs(e,0):xc|=s),pt(e,t)}function lm(e,t){t===0&&(e.mode&1?(t=Xr,Xr<<=1,!(Xr&130023424)&&(Xr=4194304)):t=1);var s=rt();e=as(e,t),e!==null&&(Ir(e,t,s),pt(e,s))}function zh(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),lm(e,s)}function $h(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),lm(e,s)}var im;im=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)ct=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return ct=!1,Ch(e,t,s);ct=!!(e.flags&131072)}else ct=!1,Ee&&t.flags&1048576&&df(t,Ha,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Sa(e,t),e=t.pendingProps;var a=vn(t,st.current);hn(t,s),a=cc(null,t,r,e,a,s);var l=uc();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(r)?(l=!0,Va(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,rc(t),a.updater=yl,t.stateNode=a,a._reactInternals=t,Xi(t,r,e,s),t=eo(null,t,r,!0,l,s)):(t.tag=0,Ee&&l&&Xo(t),nt(null,t,a,s),t=t.child),t;case 16:r=t.elementType;e:{switch(Sa(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=Bh(r),e=It(r,e),a){case 0:t=Zi(null,t,r,e,s);break e;case 1:t=$u(null,t,r,e,s);break e;case 11:t=Du(null,t,r,e,s);break e;case 14:t=zu(null,t,r,It(r.type,e),s);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:It(r,a),Zi(e,t,r,a,s);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:It(r,a),$u(e,t,r,a,s);case 3:e:{if(qf(t),e===null)throw Error(U(387));r=t.pendingProps,l=t.memoizedState,a=l.element,gf(e,t),Ga(t,r,null,s);var i=t.memoizedState;if(r=i.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=wn(Error(U(423)),t),t=Fu(e,t,r,s,a);break e}else if(r!==a){a=wn(Error(U(424)),t),t=Fu(e,t,r,s,a);break e}else for(gt=js(t.stateNode.containerInfo.firstChild),yt=t,Ee=!0,Dt=null,s=xf(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(bn(),r===a){t=ls(e,t,s);break e}nt(e,t,r,s)}t=t.child}return t;case 5:return yf(t),e===null&&Gi(t),r=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,Vi(r,a)?i=null:l!==null&&Vi(r,l)&&(t.flags|=32),Vf(e,t),nt(e,t,i,s),t.child;case 6:return e===null&&Gi(t),null;case 13:return Hf(e,t,s);case 4:return ac(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=jn(t,null,r,s):nt(e,t,r,s),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:It(r,a),Du(e,t,r,a,s);case 7:return nt(e,t,t.pendingProps,s),t.child;case 8:return nt(e,t,t.pendingProps.children,s),t.child;case 12:return nt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,ke(Wa,r._currentValue),r._currentValue=i,l!==null)if(Ft(l.value,i)){if(l.children===a.children&&!ut.current){t=ls(e,t,s);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=es(-1,s&-s),c.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}l.lanes|=s,c=l.alternate,c!==null&&(c.lanes|=s),Qi(l.return,s,t),o.lanes|=s;break}c=c.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(U(341));i.lanes|=s,o=i.alternate,o!==null&&(o.lanes|=s),Qi(i,s,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}nt(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,hn(t,s),a=Rt(a),r=r(a),t.flags|=1,nt(e,t,r,s),t.child;case 14:return r=t.type,a=It(r,t.pendingProps),a=It(r.type,a),zu(e,t,r,a,s);case 15:return Bf(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:It(r,a),Sa(e,t),t.tag=1,dt(r)?(e=!0,Va(t)):e=!1,hn(t,s),zf(t,r,a),Xi(t,r,a,s),eo(null,t,r,!0,e,s);case 19:return Wf(e,t,s);case 22:return Uf(e,t,s)}throw Error(U(156,t.tag))};function om(e,t){return _p(e,t)}function Fh(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,s,r){return new Fh(e,t,s,r)}function bc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bh(e){if(typeof e=="function")return bc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$o)return 11;if(e===Fo)return 14}return 2}function Ss(e,t){var s=e.alternate;return s===null?(s=Et(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Pa(e,t,s,r,a,l){var i=2;if(r=e,typeof e=="function")bc(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case en:return Bs(s.children,a,l,t);case zo:i=8,a|=8;break;case ji:return e=Et(12,s,t,a|2),e.elementType=ji,e.lanes=l,e;case Ni:return e=Et(13,s,t,a),e.elementType=Ni,e.lanes=l,e;case wi:return e=Et(19,s,t,a),e.elementType=wi,e.lanes=l,e;case gp:return jl(s,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xp:i=10;break e;case hp:i=9;break e;case $o:i=11;break e;case Fo:i=14;break e;case us:i=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=Et(i,s,t,a),t.elementType=e,t.type=r,t.lanes=l,t}function Bs(e,t,s,r){return e=Et(7,e,r,t),e.lanes=s,e}function jl(e,t,s,r){return e=Et(22,e,r,t),e.elementType=gp,e.lanes=s,e.stateNode={isHidden:!1},e}function li(e,t,s){return e=Et(6,e,null,t),e.lanes=s,e}function ii(e,t,s){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uh(e,t,s,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bl(0),this.expirationTimes=Bl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bl(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function jc(e,t,s,r,a,l,i,o,c){return e=new Uh(e,t,s,o,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Et(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},rc(l),e}function Vh(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function cm(e){if(!e)return Ps;e=e._reactInternals;e:{if(Xs(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var s=e.type;if(dt(s))return cf(e,s,t)}return t}function um(e,t,s,r,a,l,i,o,c){return e=jc(s,r,!0,e,a,l,i,o,c),e.context=cm(null),s=e.current,r=rt(),a=ks(s),l=es(r,a),l.callback=t??null,Ns(s,l,a),e.current.lanes=a,Ir(e,a,r),pt(e,r),e}function Nl(e,t,s,r){var a=t.current,l=rt(),i=ks(a);return s=cm(s),t.context===null?t.context=s:t.pendingContext=s,t=es(l,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ns(a,t,i),e!==null&&($t(e,a,i,l),Na(e,a,i)),i}function sl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Nc(e,t){Yu(e,t),(e=e.alternate)&&Yu(e,t)}function qh(){return null}var dm=typeof reportError=="function"?reportError:function(e){console.error(e)};function wc(e){this._internalRoot=e}wl.prototype.render=wc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Nl(e,t,null,null)};wl.prototype.unmount=wc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ks(function(){Nl(null,e,null,null)}),t[rs]=null}};function wl(e){this._internalRoot=e}wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bp();e={blockedOn:null,target:e,priority:t};for(var s=0;s<ps.length&&t!==0&&t<ps[s].priority;s++);ps.splice(s,0,e),s===0&&Vp(e)}};function kc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xu(){}function Hh(e,t,s,r,a){if(a){if(typeof r=="function"){var l=r;r=function(){var u=sl(i);l.call(u)}}var i=um(t,r,e,0,null,!1,!1,"",Xu);return e._reactRootContainer=i,e[rs]=i.current,jr(e.nodeType===8?e.parentNode:e),Ks(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var o=r;r=function(){var u=sl(c);o.call(u)}}var c=jc(e,0,!1,null,null,!1,!1,"",Xu);return e._reactRootContainer=c,e[rs]=c.current,jr(e.nodeType===8?e.parentNode:e),Ks(function(){Nl(t,c,s,r)}),c}function Sl(e,t,s,r,a){var l=s._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var c=sl(i);o.call(c)}}Nl(t,i,e,a)}else i=Hh(s,t,e,a,r);return sl(i)}$p=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Zn(t.pendingLanes);s!==0&&(Vo(t,s|1),pt(t,De()),!(ye&6)&&(kn=De()+500,Ls()))}break;case 13:Ks(function(){var r=as(e,1);if(r!==null){var a=rt();$t(r,e,1,a)}}),Nc(e,1)}};qo=function(e){if(e.tag===13){var t=as(e,134217728);if(t!==null){var s=rt();$t(t,e,134217728,s)}Nc(e,134217728)}};Fp=function(e){if(e.tag===13){var t=ks(e),s=as(e,t);if(s!==null){var r=rt();$t(s,e,t,r)}Nc(e,t)}};Bp=function(){return Ne};Up=function(e,t){var s=Ne;try{return Ne=e,t()}finally{Ne=s}};Mi=function(e,t,s){switch(t){case"input":if(Ci(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var a=xl(r);if(!a)throw Error(U(90));vp(r),Ci(r,a)}}}break;case"textarea":jp(e,s);break;case"select":t=s.value,t!=null&&pn(e,!!s.multiple,t,!1)}};Pp=gc;Ap=Ks;var Wh={usingClientEntryPoint:!1,Events:[Dr,rn,xl,Cp,Ep,gc]},Kn={findFiberByHostInstance:Os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kh={bundleType:Kn.bundleType,version:Kn.version,rendererPackageName:Kn.rendererPackageName,rendererConfig:Kn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:is.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tp(e),e===null?null:e.stateNode},findFiberByHostInstance:Kn.findFiberByHostInstance||qh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oa.isDisabled&&oa.supportsFiber)try{dl=oa.inject(Kh),Wt=oa}catch{}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wh;wt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kc(t))throw Error(U(200));return Vh(e,t,null,s)};wt.createRoot=function(e,t){if(!kc(e))throw Error(U(299));var s=!1,r="",a=dm;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=jc(e,1,!1,null,null,s,!1,r,a),e[rs]=t.current,jr(e.nodeType===8?e.parentNode:e),new wc(t)};wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Tp(t),e=e===null?null:e.stateNode,e};wt.flushSync=function(e){return Ks(e)};wt.hydrate=function(e,t,s){if(!kl(t))throw Error(U(200));return Sl(null,e,t,!0,s)};wt.hydrateRoot=function(e,t,s){if(!kc(e))throw Error(U(405));var r=s!=null&&s.hydratedSources||null,a=!1,l="",i=dm;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=um(t,null,e,1,s??null,a,!1,l,i),e[rs]=t.current,jr(e),r)for(e=0;e<r.length;e++)s=r[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new wl(t)};wt.render=function(e,t,s){if(!kl(t))throw Error(U(200));return Sl(null,e,t,!1,s)};wt.unmountComponentAtNode=function(e){if(!kl(e))throw Error(U(40));return e._reactRootContainer?(Ks(function(){Sl(null,null,e,!1,function(){e._reactRootContainer=null,e[rs]=null})}),!0):!1};wt.unstable_batchedUpdates=gc;wt.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!kl(s))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Sl(e,t,s,!1,r)};wt.version="18.3.1-next-f1338f8080-20240426";function pm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pm)}catch(e){console.error(e)}}pm(),dp.exports=wt;var Gh=dp.exports,Ju=Gh;vi.createRoot=Ju.createRoot,vi.hydrateRoot=Ju.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rr(){return Rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Rr.apply(this,arguments)}var hs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hs||(hs={}));const Zu="popstate";function Qh(e){e===void 0&&(e={});function t(r,a){let{pathname:l,search:i,hash:o}=r.location;return fo("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(r,a){return typeof a=="string"?a:nl(a)}return Xh(t,s,null,e)}function ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Yh(){return Math.random().toString(36).substr(2,8)}function ed(e,t){return{usr:e.state,key:e.key,idx:t}}function fo(e,t,s,r){return s===void 0&&(s=null),Rr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ln(t):t,{state:s,key:t&&t.key||r||Yh()})}function nl(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ln(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Xh(e,t,s,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:l=!1}=r,i=a.history,o=hs.Pop,c=null,u=f();u==null&&(u=0,i.replaceState(Rr({},i.state,{idx:u}),""));function f(){return(i.state||{idx:null}).idx}function x(){o=hs.Pop;let b=f(),m=b==null?null:b-u;u=b,c&&c({action:o,location:j.location,delta:m})}function d(b,m){o=hs.Push;let g=fo(j.location,b,m);u=f()+1;let h=ed(g,u),k=j.createHref(g);try{i.pushState(h,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(k)}l&&c&&c({action:o,location:j.location,delta:1})}function y(b,m){o=hs.Replace;let g=fo(j.location,b,m);u=f();let h=ed(g,u),k=j.createHref(g);i.replaceState(h,"",k),l&&c&&c({action:o,location:j.location,delta:0})}function v(b){let m=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof b=="string"?b:nl(b);return g=g.replace(/ $/,"%20"),ze(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let j={get action(){return o},get location(){return e(a,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Zu,x),c=b,()=>{a.removeEventListener(Zu,x),c=null}},createHref(b){return t(a,b)},createURL:v,encodeLocation(b){let m=v(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:y,go(b){return i.go(b)}};return j}var td;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(td||(td={}));function Jh(e,t,s){return s===void 0&&(s="/"),Zh(e,t,s)}function Zh(e,t,s,r){let a=typeof t=="string"?Ln(t):t,l=Sc(a.pathname||"/",s);if(l==null)return null;let i=mm(e);eg(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=pg(l);o=cg(i[c],u)}return o}function mm(e,t,s,r){t===void 0&&(t=[]),s===void 0&&(s=[]),r===void 0&&(r="");let a=(l,i,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(ze(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Cs([r,c.relativePath]),f=s.concat(c);l.children&&l.children.length>0&&(ze(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mm(l.children,t,f,u)),!(l.path==null&&!l.index)&&t.push({path:u,score:ig(u,l.index),routesMeta:f})};return e.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))a(l,i);else for(let c of xm(l.path))a(l,i,c)}),t}function xm(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,a=s.endsWith("?"),l=s.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let i=xm(r.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),a&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function eg(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:og(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const tg=/^:[\w-]+$/,sg=3,ng=2,rg=1,ag=10,lg=-2,sd=e=>e==="*";function ig(e,t){let s=e.split("/"),r=s.length;return s.some(sd)&&(r+=lg),t&&(r+=ng),s.filter(a=>!sd(a)).reduce((a,l)=>a+(tg.test(l)?sg:l===""?rg:ag),r)}function og(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function cg(e,t,s){let{routesMeta:r}=e,a={},l="/",i=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,f=l==="/"?t:t.slice(l.length)||"/",x=ug({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),d=c.route;if(!x)return null;Object.assign(a,x.params),i.push({params:a,pathname:Cs([l,x.pathname]),pathnameBase:hg(Cs([l,x.pathnameBase])),route:d}),x.pathnameBase!=="/"&&(l=Cs([l,x.pathnameBase]))}return i}function ug(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=dg(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((u,f,x)=>{let{paramName:d,isOptional:y}=f;if(d==="*"){let j=o[x]||"";i=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const v=o[x];return y&&!v?u[d]=void 0:u[d]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:i,pattern:e}}function dg(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),fm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function pg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Sc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}function fg(e,t){t===void 0&&(t="/");let{pathname:s,search:r="",hash:a=""}=typeof e=="string"?Ln(e):e;return{pathname:s?s.startsWith("/")?s:mg(s,t):t,search:gg(r),hash:yg(a)}}function mg(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function oi(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xg(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Cc(e,t){let s=xg(e);return t?s.map((r,a)=>a===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function Ec(e,t,s,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=Ln(e):(a=Rr({},e),ze(!a.pathname||!a.pathname.includes("?"),oi("?","pathname","search",a)),ze(!a.pathname||!a.pathname.includes("#"),oi("#","pathname","hash",a)),ze(!a.search||!a.search.includes("#"),oi("#","search","hash",a)));let l=e===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=s;else{let x=t.length-1;if(!r&&i.startsWith("..")){let d=i.split("/");for(;d[0]==="..";)d.shift(),x-=1;a.pathname=d.join("/")}o=x>=0?t[x]:"/"}let c=fg(a,o),u=i&&i!=="/"&&i.endsWith("/"),f=(l||i===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Cs=e=>e.join("/").replace(/\/\/+/g,"/"),hg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const hm=["post","put","patch","delete"];new Set(hm);const bg=["get",...hm];new Set(bg);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lr(){return Lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Lr.apply(this,arguments)}const Pc=p.createContext(null),jg=p.createContext(null),Ts=p.createContext(null),Cl=p.createContext(null),Gt=p.createContext({outlet:null,matches:[],isDataRoute:!1}),gm=p.createContext(null);function Ng(e,t){let{relative:s}=t===void 0?{}:t;Tn()||ze(!1);let{basename:r,navigator:a}=p.useContext(Ts),{hash:l,pathname:i,search:o}=vm(e,{relative:s}),c=i;return r!=="/"&&(c=i==="/"?r:Cs([r,i])),a.createHref({pathname:c,search:o,hash:l})}function Tn(){return p.useContext(Cl)!=null}function Ms(){return Tn()||ze(!1),p.useContext(Cl).location}function ym(e){p.useContext(Ts).static||p.useLayoutEffect(e)}function it(){let{isDataRoute:e}=p.useContext(Gt);return e?Dg():wg()}function wg(){Tn()||ze(!1);let e=p.useContext(Pc),{basename:t,future:s,navigator:r}=p.useContext(Ts),{matches:a}=p.useContext(Gt),{pathname:l}=Ms(),i=JSON.stringify(Cc(a,s.v7_relativeSplatPath)),o=p.useRef(!1);return ym(()=>{o.current=!0}),p.useCallback(function(u,f){if(f===void 0&&(f={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let x=Ec(u,JSON.parse(i),l,f.relative==="path");e==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:Cs([t,x.pathname])),(f.replace?r.replace:r.push)(x,f.state,f)},[t,r,i,l,e])}const kg=p.createContext(null);function Sg(e){let t=p.useContext(Gt).outlet;return t&&p.createElement(kg.Provider,{value:e},t)}function Ac(){let{matches:e}=p.useContext(Gt),t=e[e.length-1];return t?t.params:{}}function vm(e,t){let{relative:s}=t===void 0?{}:t,{future:r}=p.useContext(Ts),{matches:a}=p.useContext(Gt),{pathname:l}=Ms(),i=JSON.stringify(Cc(a,r.v7_relativeSplatPath));return p.useMemo(()=>Ec(e,JSON.parse(i),l,s==="path"),[e,i,l,s])}function Cg(e,t){return Eg(e,t)}function Eg(e,t,s,r){Tn()||ze(!1);let{navigator:a}=p.useContext(Ts),{matches:l}=p.useContext(Gt),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Ms(),f;if(t){var x;let b=typeof t=="string"?Ln(t):t;c==="/"||(x=b.pathname)!=null&&x.startsWith(c)||ze(!1),f=b}else f=u;let d=f.pathname||"/",y=d;if(c!=="/"){let b=c.replace(/^\//,"").split("/");y="/"+d.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=Jh(e,{pathname:y}),j=Tg(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Cs([c,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Cs([c,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),l,s,r);return t&&j?p.createElement(Cl.Provider,{value:{location:Lr({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:hs.Pop}},j):j}function Pg(){let e=Og(),t=vg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),s?p.createElement("pre",{style:a},s):null,null)}const Ag=p.createElement(Pg,null);class Rg extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?p.createElement(Gt.Provider,{value:this.props.routeContext},p.createElement(gm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lg(e){let{routeContext:t,match:s,children:r}=e,a=p.useContext(Pc);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),p.createElement(Gt.Provider,{value:t},r)}function Tg(e,t,s,r){var a;if(t===void 0&&(t=[]),s===void 0&&(s=null),r===void 0&&(r=null),e==null){var l;if(!s)return null;if(s.errors)e=s.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,o=(a=s)==null?void 0:a.errors;if(o!=null){let f=i.findIndex(x=>x.route.id&&(o==null?void 0:o[x.route.id])!==void 0);f>=0||ze(!1),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,u=-1;if(s&&r&&r.v7_partialHydration)for(let f=0;f<i.length;f++){let x=i[f];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(u=f),x.route.id){let{loaderData:d,errors:y}=s,v=x.route.loader&&d[x.route.id]===void 0&&(!y||y[x.route.id]===void 0);if(x.route.lazy||v){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,x,d)=>{let y,v=!1,j=null,b=null;s&&(y=o&&x.route.id?o[x.route.id]:void 0,j=x.route.errorElement||Ag,c&&(u<0&&d===0?(zg("route-fallback"),v=!0,b=null):u===d&&(v=!0,b=x.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,d+1)),g=()=>{let h;return y?h=j:v?h=b:x.route.Component?h=p.createElement(x.route.Component,null):x.route.element?h=x.route.element:h=f,p.createElement(Lg,{match:x,routeContext:{outlet:f,matches:m,isDataRoute:s!=null},children:h})};return s&&(x.route.ErrorBoundary||x.route.errorElement||d===0)?p.createElement(Rg,{location:s.location,revalidation:s.revalidation,component:j,error:y,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var bm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(bm||{}),jm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(jm||{});function Mg(e){let t=p.useContext(Pc);return t||ze(!1),t}function _g(e){let t=p.useContext(jg);return t||ze(!1),t}function Ig(e){let t=p.useContext(Gt);return t||ze(!1),t}function Nm(e){let t=Ig(),s=t.matches[t.matches.length-1];return s.route.id||ze(!1),s.route.id}function Og(){var e;let t=p.useContext(gm),s=_g(),r=Nm();return t!==void 0?t:(e=s.errors)==null?void 0:e[r]}function Dg(){let{router:e}=Mg(bm.UseNavigateStable),t=Nm(jm.UseNavigateStable),s=p.useRef(!1);return ym(()=>{s.current=!0}),p.useCallback(function(a,l){l===void 0&&(l={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Lr({fromRouteId:t},l)))},[e,t])}const nd={};function zg(e,t,s){nd[e]||(nd[e]=!0)}function $g(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function rl(e){let{to:t,replace:s,state:r,relative:a}=e;Tn()||ze(!1);let{future:l,static:i}=p.useContext(Ts),{matches:o}=p.useContext(Gt),{pathname:c}=Ms(),u=it(),f=Ec(t,Cc(o,l.v7_relativeSplatPath),c,a==="path"),x=JSON.stringify(f);return p.useEffect(()=>u(JSON.parse(x),{replace:s,state:r,relative:a}),[u,x,a,s,r]),null}function Fg(e){return Sg(e.context)}function $e(e){ze(!1)}function Bg(e){let{basename:t="/",children:s=null,location:r,navigationType:a=hs.Pop,navigator:l,static:i=!1,future:o}=e;Tn()&&ze(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:l,static:i,future:Lr({v7_relativeSplatPath:!1},o)}),[c,o,l,i]);typeof r=="string"&&(r=Ln(r));let{pathname:f="/",search:x="",hash:d="",state:y=null,key:v="default"}=r,j=p.useMemo(()=>{let b=Sc(f,c);return b==null?null:{location:{pathname:b,search:x,hash:d,state:y,key:v},navigationType:a}},[c,f,x,d,y,v,a]);return j==null?null:p.createElement(Ts.Provider,{value:u},p.createElement(Cl.Provider,{children:s,value:j}))}function Ug(e){let{children:t,location:s}=e;return Cg(mo(t),s)}new Promise(()=>{});function mo(e,t){t===void 0&&(t=[]);let s=[];return p.Children.forEach(e,(r,a)=>{if(!p.isValidElement(r))return;let l=[...t,a];if(r.type===p.Fragment){s.push.apply(s,mo(r.props.children,l));return}r.type!==$e&&ze(!1),!r.props.index||!r.props.children||ze(!1);let i={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=mo(r.props.children,l)),s.push(i)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},xo.apply(this,arguments)}function Vg(e,t){if(e==null)return{};var s={},r=Object.keys(e),a,l;for(l=0;l<r.length;l++)a=r[l],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}function qg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Hg(e,t){return e.button===0&&(!t||t==="_self")&&!qg(e)}function ho(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let r=e[s];return t.concat(Array.isArray(r)?r.map(a=>[s,a]):[[s,r]])},[]))}function Wg(e,t){let s=ho(e);return t&&t.forEach((r,a)=>{s.has(a)||t.getAll(a).forEach(l=>{s.append(a,l)})}),s}const Kg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Gg="6";try{window.__reactRouterVersion=Gg}catch{}const Qg="startTransition",rd=Dx[Qg];function Yg(e){let{basename:t,children:s,future:r,window:a}=e,l=p.useRef();l.current==null&&(l.current=Qh({window:a,v5Compat:!0}));let i=l.current,[o,c]=p.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},f=p.useCallback(x=>{u&&rd?rd(()=>c(x)):c(x)},[c,u]);return p.useLayoutEffect(()=>i.listen(f),[i,f]),p.useEffect(()=>$g(r),[r]),p.createElement(Bg,{basename:t,children:s,location:o.location,navigationType:o.action,navigator:i,future:r})}const Xg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,me=p.forwardRef(function(t,s){let{onClick:r,relative:a,reloadDocument:l,replace:i,state:o,target:c,to:u,preventScrollReset:f,viewTransition:x}=t,d=Vg(t,Kg),{basename:y}=p.useContext(Ts),v,j=!1;if(typeof u=="string"&&Jg.test(u)&&(v=u,Xg))try{let h=new URL(window.location.href),k=u.startsWith("//")?new URL(h.protocol+u):new URL(u),C=Sc(k.pathname,y);k.origin===h.origin&&C!=null?u=C+k.search+k.hash:j=!0}catch{}let b=Ng(u,{relative:a}),m=Zg(u,{replace:i,state:o,target:c,preventScrollReset:f,relative:a,viewTransition:x});function g(h){r&&r(h),h.defaultPrevented||m(h)}return p.createElement("a",xo({},d,{href:v||b,onClick:j||l?r:g,ref:s,target:c}))});var ad;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ad||(ad={}));var ld;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ld||(ld={}));function Zg(e,t){let{target:s,replace:r,state:a,preventScrollReset:l,relative:i,viewTransition:o}=t===void 0?{}:t,c=it(),u=Ms(),f=vm(e,{relative:i});return p.useCallback(x=>{if(Hg(x,s)){x.preventDefault();let d=r!==void 0?r:nl(u)===nl(f);c(e,{replace:d,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[u,c,f,r,a,s,e,l,i,o])}function ey(e){let t=p.useRef(ho(e)),s=p.useRef(!1),r=Ms(),a=p.useMemo(()=>Wg(r.search,s.current?null:t.current),[r.search]),l=it(),i=p.useCallback((o,c)=>{const u=ho(typeof o=="function"?o(a):o);s.current=!0,l("?"+u,c)},[l,a]);return[a,i]}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wm=(...e)=>e.filter((t,s,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:i,...o},c)=>p.createElement("svg",{ref:c,...sy,width:t,height:t,stroke:e,strokeWidth:r?Number(s)*24/Number(t):s,className:wm("lucide",a),...o},[...i.map(([u,f])=>p.createElement(u,f)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(e,t)=>{const s=p.forwardRef(({className:r,...a},l)=>p.createElement(ny,{ref:l,iconNode:t,className:wm(`lucide-${ty(e)}`,r),...a}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=ae("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=ae("CarFront",[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=ae("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=ae("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=ae("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=ae("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=ae("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=ae("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=ae("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=ae("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=ae("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=ae("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=ae("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=ae("MailCheck",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=ae("MailPlus",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M16 19h6",key:"xwg31i"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=ae("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=ae("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=ae("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=ae("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=ae("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=ae("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=ae("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=ae("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=ae("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=ae("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=ae("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=ae("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=ae("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=ae("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=ae("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=ae("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ll=[{name:"Abidjan",region:"Autonome",lat:5.3599517,lng:-4.0082563},{name:"Yamoussoukro",region:"Autonome",lat:6.82055,lng:-5.27674},{name:"Bouak",region:"Gbk",alt:["Bouake"],lat:7.68949,lng:-5.02027},{name:"Daloa",region:"Haut-Sassandra",lat:6.87735,lng:-6.45022},{name:"San-Pdro",region:"San-Pdro",alt:["San Pedro","San-Pedro"],lat:4.745,lng:-6.65},{name:"Korhogo",region:"Poro",lat:9.45804,lng:-5.62961},{name:"Man",region:"Tonkpi",lat:7.41251,lng:-7.55383},{name:"Abengourou",region:"Indni-Djuablin",alt:["Abenguru"],lat:6.7292,lng:-3.4963},{name:"Divo",region:"Lh-Djiboua",lat:5.839,lng:-5.357},{name:"Gagnoa",region:"Gh",lat:6.13193,lng:-5.94736},{name:"Anyama",region:"Autonome Abidjan",lat:5.49462,lng:-4.05183},{name:"Agboville",region:"Agneby-Tiassa",lat:5.92801,lng:-4.21319},{name:"Soubr",region:"Nawa",alt:["Soubre"],lat:5.78297,lng:-6.60828},{name:"Bouafl",region:"Marahou",alt:["Bouafle"],lat:6.99041,lng:-5.7442},{name:"Sgula",region:"Worodougou",alt:["Seguela"],lat:7.96111,lng:-6.67306},{name:"Bondoukou",region:"Gontougo",lat:8.03333,lng:-2.8},{name:"Aboisso",region:"Sud-Como",lat:5.467,lng:-3.208},{name:"Odienn",region:"Kabadougou",alt:["Odienne"],lat:9.5,lng:-7.5667},{name:"Ferkessdougou",region:"Tchologo",alt:["Ferkessedougou","Ferk"],lat:9.6,lng:-5.2},{name:"Issia",region:"Haut-Sassandra",lat:6.49211,lng:-6.5856},{name:"Tiassal",region:"Agneby-Tiassa",alt:["Tiassale"],lat:5.898,lng:-4.822},{name:"Toumodi",region:"Blier",lat:6.553,lng:-5.017},{name:"Sakassou",region:"Gbk",alt:["Sakasou"],lat:7.455,lng:-5.288},{name:"Magui",region:"Nawa",alt:["Meagui"],lat:5.333,lng:-6.583},{name:"Guiglo",region:"Cavally",lat:6.55,lng:-7.5},{name:"Lakota",region:"Lh-Djiboua",lat:5.85,lng:-5.683},{name:"Bongouanou",region:"Moronou",lat:6.649,lng:-4.204},{name:"Mankono",region:"Br",lat:8.058,lng:-6.188},{name:"Katiola",region:"Hambol",lat:8.137,lng:-5.102},{name:"Sinfra",region:"Gh",lat:6.617,lng:-5.917},{name:"Tabou",region:"San-Pdro",lat:4.423,lng:-7.353},{name:"Adiak",region:"Sud-Como",alt:["Adiake"],lat:5.286,lng:-3.304},{name:"Grand-Bassam",region:"Sud-Como",alt:["Bassam","Grand Bassam"],lat:5.2118,lng:-3.73884},{name:"Jacqueville",region:"Grands-Ponts",lat:5.213,lng:-4.413}],ur=e=>e.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").toLowerCase().trim();function _c(e){const t=ur(e);return ll.find(s=>{var r;return ur(s.name)===t?!0:(r=s.alt)==null?void 0:r.some(a=>ur(a)===t)})}function hd(e){return!!_c(e)}function Ty(e,t=8){const s=ur(e);return s?ll.map(a=>{const l=[a.name,a.region,...a.alt??[]].filter(Boolean).map(ur).join(" | ");let i=0;return l.startsWith(s)&&(i+=3),l.includes(` ${s}`)&&(i+=2),l.includes(s)&&(i+=1),{c:a,score:i}}).filter(a=>a.score>0).sort((a,l)=>l.score-a.score||a.c.name.localeCompare(l.c.name)).slice(0,t).map(a=>a.c):Pm}const My=["Abidjan","Yamoussoukro","Bouak","San-Pdro","Daloa","Korhogo","Man","Grand-Bassam"],Pm=My.map(e=>_c(e)??{name:e,lat:0,lng:0}),ca=e=>e*Math.PI/180;function _y(e,t){const r=ca(t.lat-e.lat),a=ca(t.lng-e.lng),l=ca(e.lat),i=ca(t.lat),o=Math.sin(r/2)**2+Math.cos(l)*Math.cos(i)*Math.sin(a/2)**2;return 2*6371*Math.asin(Math.sqrt(o))}function gd(e,t){let s=ll[0],r=Number.POSITIVE_INFINITY;for(const a of ll){const l=_y({lat:e,lng:t},{lat:a.lat,lng:a.lng});l<r&&(s=a,r=l)}return{city:s,distanceKm:r}}const Iy=void 0,yd=!!Iy;async function Oy(e){return[]}async function Dy(e){return null}const zy=(e,t,s=4)=>`${e.toFixed(s)}, ${t.toFixed(s)}`;function il({value:e,placeholder:t="Ville",label:s,onChange:r,onSelect:a,onDisplayChange:l,onMetaChange:i,className:o,autoFocus:c,allowCurrentLocation:u=!1,enablePlacesLookup:f=!1}){const[x,d]=p.useState(!1),[y,v]=p.useState(e??""),[j,b]=p.useState(0),[m,g]=p.useState(!1),[h,k]=p.useState(null),[C,L]=p.useState([]),[_,w]=p.useState(!1),[T,M]=p.useState(null),I=p.useRef(null),H=p.useRef(null);p.useEffect(()=>v(e??""),[e]);const W=p.useMemo(()=>{const A=(y==null?void 0:y.trim())??"";return A?Ty(A,8):Pm},[y]);p.useEffect(()=>{if(!f||!yd){L([]),M(null),w(!1);return}const A=y.trim();if(A.length<3){L([]),M(null),w(!1);return}let N=!1;w(!0),M(null);const D=window.setTimeout(async()=>{try{const V=await Oy(A);N||L(V)}catch(V){N||M((V==null?void 0:V.message)||"Impossible de contacter Google Places.")}finally{N||w(!1)}},300);return()=>{N=!0,window.clearTimeout(D)}},[y,f]);const J=A=>i==null?void 0:i(A);p.useEffect(()=>{const A=N=>{I.current&&(I.current.contains(N.target)||d(!1))};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const se=A=>{var N;v(A.label),l==null||l(A.label),r(A.city),a==null||a(A.city),J(A),d(!1),k(null),g(!1),b(0),(N=H.current)==null||N.focus()},X=A=>{se({city:A.name,label:A.name,lat:A.lat,lng:A.lng,mode:"city"})},te=A=>{!x&&(A.key==="ArrowDown"||A.key==="ArrowUp")&&d(!0),W.length&&(A.key==="ArrowDown"?(A.preventDefault(),b(N=>(N+1)%W.length)):A.key==="ArrowUp"?(A.preventDefault(),b(N=>(N-1+W.length)%W.length)):A.key==="Enter"?(A.preventDefault(),X(W[Math.max(0,j)])):A.key==="Escape"&&d(!1))},S=()=>{if(k(null),typeof navigator>"u"||!("geolocation"in navigator)){k("La golocalisation nest pas supporte sur ce navigateur.");return}g(!0),navigator.geolocation.getCurrentPosition(A=>{const{latitude:N,longitude:D,accuracy:V}=A.coords,{city:Q,distanceKm:Y}=gd(N,D),oe=typeof Y=="number"?`  ~${Y.toFixed(1)} km`:"",de=`Ma position actuelle  ${Q.name}${oe} (${zy(N,D)})`;se({city:Q.name,label:de,lat:N,lng:D,accuracyMeters:V??void 0,distanceKm:Y,mode:"current"})},A=>{g(!1),k((A==null?void 0:A.message)||"Impossible de rcuprer la position.")},{enableHighAccuracy:!0,timeout:15e3,maximumAge:3e4})},E=async(A,N)=>{try{M(null),w(!0);const D=await Dy(A);if(!D){M("Lieu indisponible.");return}const{city:V,distanceKm:Q}=gd(D.location.lat,D.location.lng),Y=D.name||N;se({city:V.name,label:`${Y}  ${V.name}`,lat:D.location.lat,lng:D.location.lng,distanceKm:Q,note:D.formattedAddress,mode:"place",placeId:D.placeId,provider:"google"})}catch(D){M((D==null?void 0:D.message)||"Impossible de charger ce lieu.")}finally{w(!1)}};return n.jsxs("div",{ref:I,className:`relative ${o??""}`,children:[s&&n.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:s}),n.jsxs("div",{className:"relative",children:[n.jsx(bt,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-sky-500/80 pointer-events-none"}),n.jsx("input",{ref:H,autoFocus:c,value:y,onChange:A=>{const N=A.currentTarget.value;v(N),r(N),l==null||l(N),J(null),k(null),x||d(!0),b(0)},onFocus:()=>d(!0),onKeyDown:te,placeholder:t,className:"input input-lg w-full pl-12 pr-4","aria-autocomplete":"list","aria-expanded":x,"aria-controls":"city-listbox"})]}),x&&n.jsx("div",{className:"absolute left-0 right-0 mt-2 rounded-2xl border border-slate-200 bg-white shadow-2xl z-[100]",role:"listbox",id:"city-listbox",children:n.jsxs("div",{className:"max-h-80 overflow-auto",children:[u&&n.jsxs("div",{className:"border-b border-slate-100 bg-white/80",children:[n.jsxs("button",{type:"button",className:"flex w-full items-center gap-3 px-4 py-3 text-left text-sm font-medium text-slate-700 hover:bg-sky-50 transition disabled:cursor-not-allowed disabled:opacity-70",onMouseDown:A=>A.preventDefault(),onClick:S,disabled:m,children:[m?n.jsx(ud,{size:16,className:"animate-spin text-sky-600"}):n.jsx(Ny,{size:16,className:"text-sky-600"}),m?"Localisation en cours":"Utiliser ma position actuelle"]}),h&&n.jsx("div",{className:"px-4 pb-2 text-xs text-red-600",children:h})]}),f&&n.jsx("div",{className:"border-b border-slate-100 bg-slate-50/60",children:yd?C.length===0&&y.trim().length<3?n.jsx("div",{className:"px-4 py-3 text-xs text-slate-500",children:"Tape au moins 3 caractres pour chercher un lieu prcis."}):n.jsxs("div",{className:"py-2",children:[n.jsx("div",{className:"px-4 pb-2 text-xs font-semibold uppercase text-slate-500",children:"Lieux proposs"}),T&&n.jsx("div",{className:"px-4 pb-2 text-xs text-red-600",children:T}),_&&n.jsxs("div",{className:"px-4 py-2 text-sm text-slate-500 flex items-center gap-2",children:[n.jsx(ud,{size:14,className:"animate-spin text-slate-500"}),"Recherche"]}),C.map(A=>n.jsxs("button",{type:"button",className:"w-full px-4 py-2 text-left hover:bg-sky-50 transition",onMouseDown:N=>N.preventDefault(),onClick:()=>E(A.placeId,A.description),children:[n.jsx("div",{className:"text-sm font-semibold text-slate-800",children:A.mainText??A.description}),A.secondaryText&&n.jsx("div",{className:"text-xs text-slate-500",children:A.secondaryText})]},A.placeId)),!_&&C.length===0&&y.trim().length>=3&&n.jsx("div",{className:"px-4 py-2 text-xs text-slate-500",children:"Aucun lieu correspondant dans Google Places."})]}):n.jsxs("div",{className:"px-4 py-3 text-xs text-slate-600 flex items-start gap-2",children:[n.jsx(dy,{size:14,className:"mt-0.5 text-slate-500"}),n.jsxs("span",{children:["Ajoute ",n.jsx("code",{children:"VITE_GOOGLE_PLACES_KEY"})," pour activer la recherche de lieux (Google Places)."]})]})}),W.length===0?n.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"Aucune ville trouve"}):W.map((A,N)=>n.jsxs("button",{type:"button",className:`w-full text-left px-4 py-2 transition ${N===j?"bg-sky-50 text-sky-700":"hover:bg-slate-100 text-slate-700"}`,onMouseDown:D=>D.preventDefault(),onClick:()=>X(A),role:"option","aria-selected":N===j,children:[n.jsx("div",{className:"text-sm font-semibold text-slate-800",children:A.name}),A.region&&n.jsx("div",{className:"text-xs text-slate-500",children:A.region})]},A.name))]})})]})}function $y({from:e,fromLabel:t,fromMeta:s,to:r,toLabel:a,toMeta:l,date:i,seats:o,priceMax:c,departureAfter:u,departureBefore:f,sort:x,loading:d,onChange:y,onSubmit:v,theme:j="default",searchTheme:b}){const m=p.useMemo(()=>{const I={panel:"border border-white/80 bg-white/98 shadow-xl shadow-sky-100/60 backdrop-blur-xl",icon:"text-sky-500/80",fieldLg:"border-slate-200 focus:border-sky-200 focus:ring-sky-100",fieldSm:"border-slate-200 focus:border-sky-200 focus:ring-sky-100",button:"bg-sky-600 hover:bg-sky-700 text-white shadow-md shadow-sky-200/60",hint:"text-slate-500"};return b?{...I,...b,panel:`${I.panel} ${b.panel??""}`.trim()}:I},[b]),g=j==="night"?"text-indigo-100":"text-slate-600",h=new Date().toISOString().slice(0,10),k=p.useRef(null),[C,L]=p.useState(!1),_=()=>{var H;const I=k.current;I&&((H=I.showPicker)==null||H.call(I),I.focus())},w=()=>{!e&&!r||y({from:r,fromLabel:a,fromMeta:l,to:e,toLabel:t,toMeta:s})},T=[["Abidjan","Yamoussoukro"],["Abidjan","Bouak"],["Bouak","Abidjan"]],M=(I,H)=>{y({from:I,fromLabel:I,fromMeta:null,to:H,toLabel:H,toMeta:null})};return n.jsxs("form",{className:`search-sticky relative w-full overflow-hidden rounded-[32px] px-8 md:px-16 py-10 space-y-7 transition ${m.panel}`,onSubmit:I=>{I.preventDefault(),v()},"aria-label":"Formulaire de recherche de trajets",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-slate-500",children:[n.jsx("span",{className:"font-semibold uppercase tracking-wide",children:"Planifier un trajet"}),n.jsxs("button",{type:"button",onClick:w,className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1 font-semibold text-slate-600 transition hover:border-sky-200 hover:text-sky-700",children:[n.jsx(ky,{size:12})," Inverser"]})]}),n.jsxs("div",{className:"grid gap-3",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:"Dpart"}),n.jsx(il,{label:void 0,placeholder:"Abidjan, Bouak, San-Pdro",value:t,onChange:I=>y({from:I}),onSelect:I=>y({from:I}),onDisplayChange:I=>y({fromLabel:I}),onMetaChange:I=>y({fromMeta:I}),allowCurrentLocation:!0,enablePlacesLookup:!0,className:"mt-2 w-full text-base"})]}),n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:"Arrive"}),n.jsx(il,{label:void 0,placeholder:"Yamoussoukro, Korhogo",value:a,onChange:I=>y({to:I}),onSelect:I=>y({to:I}),onDisplayChange:I=>y({toLabel:I}),onMetaChange:I=>y({toMeta:I}),allowCurrentLocation:!0,enablePlacesLookup:!0,className:"mt-2 w-full text-base"})]})]}),n.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:`text-xs font-semibold ${g}`,children:"Date de dpart"}),n.jsxs("div",{className:"relative",children:[n.jsx(ts,{className:`absolute left-3 top-1/2 -translate-y-1/2 ${m.icon}`,size:18}),n.jsx("input",{ref:k,type:"date",className:`input h-14 w-full pl-12 pr-12 text-base ${m.fieldLg}`,min:h,value:i??"",onChange:I=>y({date:I.currentTarget.value})}),n.jsx("button",{type:"button",onClick:_,className:"absolute right-2 top-1/2 -translate-y-1/2 rounded-lg p-2 text-slate-500 hover:bg-slate-100","aria-label":"Choisir une date",children:n.jsx(ts,{size:16})})]}),n.jsx("p",{className:"text-xs text-slate-400",children:"Choisis une date ou laisse vide pour les prochains dparts."})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:`text-xs font-semibold ${g}`,children:"Nombre de siges"}),n.jsxs("div",{className:"relative",children:[n.jsx(Mc,{className:`absolute left-3 top-1/2 -translate-y-1/2 ${m.icon}`,size:16}),n.jsx("input",{type:"number",min:1,max:10,className:`input h-14 w-full pl-12 text-base ${m.fieldLg}`,value:o,onChange:I=>y({seats:Math.max(1,Number(I.currentTarget.value)||1)})})]}),n.jsx("p",{className:"text-xs text-slate-400",children:"Maximum 10 siges par rservation."})]})]})}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Suggestions"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(([I,H])=>n.jsxs("button",{type:"button",onClick:()=>M(I,H),className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-600 transition hover:border-sky-200 hover:text-sky-700",children:[I,"  ",H]},`${I}-${H}`))})]}),n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsxs("button",{type:"button",onClick:()=>L(I=>!I),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-700",children:[n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(Py,{size:14})," Options avances"]}),n.jsx("span",{className:"text-xs text-slate-500",children:C?"Masquer":"Afficher"})]}),C&&n.jsxs("div",{className:"mt-3 space-y-3 text-sm text-slate-600",children:[n.jsxs("div",{className:"grid gap-3 lg:grid-cols-[minmax(0,1fr),minmax(0,0.6fr)]",children:[n.jsxs("div",{children:[n.jsx("label",{className:`text-xs font-semibold ${g}`,children:"Budget maximum (FCFA)"}),n.jsx("input",{type:"number",min:0,step:500,className:`input mt-1 h-12 w-full text-sm ${m.fieldLg}`,placeholder:"Prix max",value:typeof c=="number"?c:"",onChange:I=>{const H=I.currentTarget.value,W=Number(H);if(!H){y({priceMax:void 0});return}y({priceMax:Number.isFinite(W)?W:void 0})}})]}),n.jsxs("div",{children:[n.jsx("label",{className:`text-xs font-semibold ${g}`,children:"Trier par"}),n.jsxs("select",{className:`input mt-1 h-12 w-full text-sm ${m.fieldSm}`,value:x,onChange:I=>y({sort:I.currentTarget.value}),children:[n.jsx("option",{value:"soonest",children:"Dpart le plus proche"}),n.jsx("option",{value:"cheapest",children:"Moins cher"}),n.jsx("option",{value:"seats",children:"Plus de places"})]})]})]}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:`text-xs font-semibold ${g}`,children:"Pas avant"}),n.jsx("input",{type:"time",className:`input mt-1 h-12 w-full text-sm ${m.fieldLg}`,value:u??"",onChange:I=>y({departureAfter:I.currentTarget.value||void 0})})]}),n.jsxs("div",{children:[n.jsx("label",{className:`text-xs font-semibold ${g}`,children:"Pas aprs"}),n.jsx("input",{type:"time",className:`input mt-1 h-12 w-full text-sm ${m.fieldLg}`,value:f??"",onChange:I=>y({departureBefore:I.currentTarget.value||void 0})})]})]})]})]})]}),n.jsx("div",{className:"pt-2",children:n.jsxs("button",{type:"submit",disabled:d,className:"inline-flex w-full items-center justify-center gap-3 rounded-[24px] bg-sky-600 px-6 py-4 text-lg font-semibold text-white shadow-lg shadow-sky-200/80 transition hover:bg-sky-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-sky-200 disabled:opacity-60",children:[n.jsx(Em,{size:22}),d?"Recherche en cours":"Trouver des trajets"]})})]})}function Am({rideId:e,originCity:t,destinationCity:s,departureAt:r,pricePerSeat:a,seatsAvailable:l,seatsTotal:i,driverId:o,driverLabel:c,driverPhotoUrl:u,onBook:f,onDetails:x,onContact:d,contactBusy:y,variant:v="light",showPublisher:j=!0}){const b=new Date(r),m=b.toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"}),g=b.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),h=typeof i=="number"?`${l}/${i}`:`${l}`,[k,C]=p.useState("idle"),[L,_]=p.useState(!1),w=e?typeof window<"u"?`${window.location.origin}/ride/${e}`:`/ride/${e}`:void 0,T=async()=>{var X;if(w)try{if(typeof navigator<"u"&&((X=navigator.clipboard)!=null&&X.writeText))await navigator.clipboard.writeText(w),C("copied");else if(typeof document<"u"){const te=document.createElement("textarea");te.value=w,te.style.position="fixed",te.style.left="-1000px",document.body.appendChild(te),te.focus(),te.select(),document.execCommand("copy"),document.body.removeChild(te),C("copied")}else C("error")}catch{C("error")}finally{setTimeout(()=>C("idle"),2e3)}},M=v==="dark"?{container:"rounded-[26px] border border-white/10 bg-slate-900/60 p-5 shadow-md shadow-slate-900/40 backdrop-blur",title:"text-slate-50",subtitle:"text-slate-300",badgeBase:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-slate-200",price:"text-emerald-300",chipDriver:"inline-flex items-center gap-1 rounded-full border border-emerald-400/40 bg-emerald-400/10 px-3 py-1 text-xs text-emerald-200",actionsBorder:"border-white/15 text-slate-100 hover:bg-white/10",contact:"border-emerald-400/30 bg-emerald-500/10 text-emerald-200 hover:bg-emerald-500/20",button:"bg-emerald-500 hover:bg-emerald-400 text-slate-900"}:{container:"rounded-3xl border border-slate-200 bg-white p-5 shadow-sm transition hover:shadow-lg",title:"text-slate-900",subtitle:"text-slate-500",badgeBase:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1 text-xs text-slate-600",price:"text-slate-900",chipDriver:"inline-flex items-center gap-1 rounded-full bg-sky-50 px-3 py-1 text-xs text-sky-700",actionsBorder:"border-slate-200 text-slate-700 hover:bg-slate-50",contact:"border-sky-200 bg-sky-50 text-sky-600 hover:bg-sky-100",button:"btn-primary inline-flex items-center gap-2 px-5 py-2"},I=c==null?void 0:c.trim(),H=I&&I.length>0?I:"Trajet gnr par KariGo",W=H.charAt(0).toUpperCase(),J=!!(u&&!L),se=v==="dark"?{text:"text-slate-300",name:"text-white",avatar:"border-white/20 bg-white/10 text-white"}:{text:"text-slate-500",name:"text-slate-800",avatar:"border-slate-200 bg-slate-100 text-slate-600"};return n.jsx("article",{className:M.container,children:n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[n.jsxs("div",{className:"space-y-2 min-w-0",children:[n.jsx("div",{className:`flex items-center gap-2 text-xs font-semibold uppercase tracking-wide ${M.subtitle}`,children:n.jsx("span",{children:m})}),n.jsxs("div",{className:`flex items-center gap-2 text-lg font-semibold truncate ${M.title}`,children:[n.jsx(bt,{className:v==="dark"?"text-emerald-300 shrink-0":"text-sky-600 shrink-0",size:18}),n.jsx("span",{className:"truncate",children:t}),n.jsx(vt,{size:16,className:v==="dark"?"text-slate-500":"text-slate-300"}),n.jsx("span",{className:"truncate",children:s})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[n.jsxs("span",{className:`${M.badgeBase}`,children:[n.jsx(Nt,{size:12})," ",g]}),n.jsxs("span",{className:`${M.badgeBase}`,children:[n.jsx(vo,{size:12})," ",h," sige(s)"]}),(I||o)&&n.jsxs("span",{className:M.chipDriver,children:[n.jsx(Mr,{size:12})," ",I??"Trajet KariGo"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:`text-2xl font-bold ${M.price}`,children:[a.toLocaleString()," XOF"]}),n.jsx("div",{className:`text-xs ${M.subtitle}`,children:"par sige"})]})]}),j&&n.jsxs("div",{className:`flex items-center gap-3 text-xs ${se.text}`,children:[n.jsx("div",{className:`h-9 w-9 overflow-hidden rounded-full border ${se.avatar}`,children:J?n.jsx("img",{src:u||"",alt:`Photo de ${H}`,className:"h-full w-full object-cover",onError:()=>_(!0)}):n.jsx("span",{className:"flex h-full w-full items-center justify-center text-sm font-semibold",children:W})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:`text-sm font-semibold ${se.name}`,children:H}),n.jsx("p",{className:"text-xs truncate",children:I?"Trajet propos par ce conducteur":"Rfrence KariGo"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[w&&n.jsxs("button",{type:"button",onClick:T,className:`inline-flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-semibold transition ${M.actionsBorder}`,children:[n.jsx(gy,{size:14}),k==="copied"?"Lien copi":k==="error"?"Impossible de copier":"Partager"]}),x&&n.jsxs("button",{type:"button",className:`inline-flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-semibold transition ${M.actionsBorder}`,onClick:x,children:[n.jsx(hy,{size:14})," Dtails"]}),d&&n.jsx("button",{type:"button",onClick:d,disabled:y,className:`inline-flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-semibold transition disabled:opacity-50 ${M.contact}`,children:y?"Ouverture":"Contacter"}),f&&n.jsx("button",{type:"button",className:M.button,onClick:f,children:"Rserver"})]})]})})}const Fy={},vd=e=>{let t;const s=new Set,r=(f,x)=>{const d=typeof f=="function"?f(t):f;if(!Object.is(d,t)){const y=t;t=x??(typeof d!="object"||d===null)?d:Object.assign({},t,d),s.forEach(v=>v(t,y))}},a=()=>t,c={setState:r,getState:a,getInitialState:()=>u,subscribe:f=>(s.add(f),()=>s.delete(f)),destroy:()=>{(Fy?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},u=t=e(r,a,c);return c},By=e=>e?vd(e):vd;var Rm={exports:{}},Lm={},Tm={exports:{}},Mm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sn=p;function Uy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vy=typeof Object.is=="function"?Object.is:Uy,qy=Sn.useState,Hy=Sn.useEffect,Wy=Sn.useLayoutEffect,Ky=Sn.useDebugValue;function Gy(e,t){var s=t(),r=qy({inst:{value:s,getSnapshot:t}}),a=r[0].inst,l=r[1];return Wy(function(){a.value=s,a.getSnapshot=t,ui(a)&&l({inst:a})},[e,s,t]),Hy(function(){return ui(a)&&l({inst:a}),e(function(){ui(a)&&l({inst:a})})},[e]),Ky(s),s}function ui(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Vy(e,s)}catch{return!0}}function Qy(e,t){return t()}var Yy=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Qy:Gy;Mm.useSyncExternalStore=Sn.useSyncExternalStore!==void 0?Sn.useSyncExternalStore:Yy;Tm.exports=Mm;var Xy=Tm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var El=p,Jy=Xy;function Zy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ev=typeof Object.is=="function"?Object.is:Zy,tv=Jy.useSyncExternalStore,sv=El.useRef,nv=El.useEffect,rv=El.useMemo,av=El.useDebugValue;Lm.useSyncExternalStoreWithSelector=function(e,t,s,r,a){var l=sv(null);if(l.current===null){var i={hasValue:!1,value:null};l.current=i}else i=l.current;l=rv(function(){function c(y){if(!u){if(u=!0,f=y,y=r(y),a!==void 0&&i.hasValue){var v=i.value;if(a(v,y))return x=v}return x=y}if(v=x,ev(f,y))return v;var j=r(y);return a!==void 0&&a(v,j)?(f=y,v):(f=y,x=j)}var u=!1,f,x,d=s===void 0?null:s;return[function(){return c(t())},d===null?void 0:function(){return c(d())}]},[t,s,r,a]);var o=tv(e,l[0],l[1]);return nv(function(){i.hasValue=!0,i.value=o},[o]),av(o),o};Rm.exports=Lm;var lv=Rm.exports;const iv=Zd(lv),_m={},{useDebugValue:ov}=_o,{useSyncExternalStoreWithSelector:cv}=iv;let bd=!1;const uv=e=>e;function dv(e,t=uv,s){(_m?"production":void 0)!=="production"&&s&&!bd&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),bd=!0);const r=cv(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return ov(r),r}const jd=e=>{(_m?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?By(e):e,s=(r,a)=>dv(t,r,a);return Object.assign(s,t),s},pv=e=>e?jd(e):jd;function Im(e,t){return function(){return e.apply(t,arguments)}}const{toString:fv}=Object.prototype,{getPrototypeOf:Ic}=Object,{iterator:Pl,toStringTag:Om}=Symbol,Al=(e=>t=>{const s=fv.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Bt=e=>(e=e.toLowerCase(),t=>Al(t)===e),Rl=e=>t=>typeof t===e,{isArray:Mn}=Array,Cn=Rl("undefined");function $r(e){return e!==null&&!Cn(e)&&e.constructor!==null&&!Cn(e.constructor)&&ft(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Dm=Bt("ArrayBuffer");function mv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Dm(e.buffer),t}const xv=Rl("string"),ft=Rl("function"),zm=Rl("number"),Fr=e=>e!==null&&typeof e=="object",hv=e=>e===!0||e===!1,Aa=e=>{if(Al(e)!=="object")return!1;const t=Ic(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Om in e)&&!(Pl in e)},gv=e=>{if(!Fr(e)||$r(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},yv=Bt("Date"),vv=Bt("File"),bv=Bt("Blob"),jv=Bt("FileList"),Nv=e=>Fr(e)&&ft(e.pipe),wv=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ft(e.append)&&((t=Al(e))==="formdata"||t==="object"&&ft(e.toString)&&e.toString()==="[object FormData]"))},kv=Bt("URLSearchParams"),[Sv,Cv,Ev,Pv]=["ReadableStream","Request","Response","Headers"].map(Bt),Av=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Br(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Mn(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if($r(e))return;const l=s?Object.getOwnPropertyNames(e):Object.keys(e),i=l.length;let o;for(r=0;r<i;r++)o=l[r],t.call(null,e[o],o,e)}}function $m(e,t){if($r(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r=s.length,a;for(;r-- >0;)if(a=s[r],t===a.toLowerCase())return a;return null}const $s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Fm=e=>!Cn(e)&&e!==$s;function bo(){const{caseless:e,skipUndefined:t}=Fm(this)&&this||{},s={},r=(a,l)=>{const i=e&&$m(s,l)||l;Aa(s[i])&&Aa(a)?s[i]=bo(s[i],a):Aa(a)?s[i]=bo({},a):Mn(a)?s[i]=a.slice():(!t||!Cn(a))&&(s[i]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&Br(arguments[a],r);return s}const Rv=(e,t,s,{allOwnKeys:r}={})=>(Br(t,(a,l)=>{s&&ft(a)?e[l]=Im(a,s):e[l]=a},{allOwnKeys:r}),e),Lv=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Tv=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Mv=(e,t,s,r)=>{let a,l,i;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)i=a[l],(!r||r(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=s!==!1&&Ic(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},_v=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},Iv=e=>{if(!e)return null;if(Mn(e))return e;let t=e.length;if(!zm(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Ov=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ic(Uint8Array)),Dv=(e,t)=>{const r=(e&&e[Pl]).call(e);let a;for(;(a=r.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},zv=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},$v=Bt("HTMLFormElement"),Fv=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,a){return r.toUpperCase()+a}),Nd=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Bv=Bt("RegExp"),Bm=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};Br(s,(a,l)=>{let i;(i=t(a,l,e))!==!1&&(r[l]=i||a)}),Object.defineProperties(e,r)},Uv=e=>{Bm(e,(t,s)=>{if(ft(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(ft(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Vv=(e,t)=>{const s={},r=a=>{a.forEach(l=>{s[l]=!0})};return Mn(e)?r(e):r(String(e).split(t)),s},qv=()=>{},Hv=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Wv(e){return!!(e&&ft(e.append)&&e[Om]==="FormData"&&e[Pl])}const Kv=e=>{const t=new Array(10),s=(r,a)=>{if(Fr(r)){if(t.indexOf(r)>=0)return;if($r(r))return r;if(!("toJSON"in r)){t[a]=r;const l=Mn(r)?[]:{};return Br(r,(i,o)=>{const c=s(i,a+1);!Cn(c)&&(l[o]=c)}),t[a]=void 0,l}}return r};return s(e,0)},Gv=Bt("AsyncFunction"),Qv=e=>e&&(Fr(e)||ft(e))&&ft(e.then)&&ft(e.catch),Um=((e,t)=>e?setImmediate:t?((s,r)=>($s.addEventListener("message",({source:a,data:l})=>{a===$s&&l===s&&r.length&&r.shift()()},!1),a=>{r.push(a),$s.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ft($s.postMessage)),Yv=typeof queueMicrotask<"u"?queueMicrotask.bind($s):typeof process<"u"&&process.nextTick||Um,Xv=e=>e!=null&&ft(e[Pl]),O={isArray:Mn,isArrayBuffer:Dm,isBuffer:$r,isFormData:wv,isArrayBufferView:mv,isString:xv,isNumber:zm,isBoolean:hv,isObject:Fr,isPlainObject:Aa,isEmptyObject:gv,isReadableStream:Sv,isRequest:Cv,isResponse:Ev,isHeaders:Pv,isUndefined:Cn,isDate:yv,isFile:vv,isBlob:bv,isRegExp:Bv,isFunction:ft,isStream:Nv,isURLSearchParams:kv,isTypedArray:Ov,isFileList:jv,forEach:Br,merge:bo,extend:Rv,trim:Av,stripBOM:Lv,inherits:Tv,toFlatObject:Mv,kindOf:Al,kindOfTest:Bt,endsWith:_v,toArray:Iv,forEachEntry:Dv,matchAll:zv,isHTMLForm:$v,hasOwnProperty:Nd,hasOwnProp:Nd,reduceDescriptors:Bm,freezeMethods:Uv,toObjectSet:Vv,toCamelCase:Fv,noop:qv,toFiniteNumber:Hv,findKey:$m,global:$s,isContextDefined:Fm,isSpecCompliantForm:Wv,toJSONObject:Kv,isAsyncFn:Gv,isThenable:Qv,setImmediate:Um,asap:Yv,isIterable:Xv};function ue(e,t,s,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}O.inherits(ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const Vm=ue.prototype,qm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{qm[e]={value:e}});Object.defineProperties(ue,qm);Object.defineProperty(Vm,"isAxiosError",{value:!0});ue.from=(e,t,s,r,a,l)=>{const i=Object.create(Vm);O.toFlatObject(e,i,function(f){return f!==Error.prototype},u=>u!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ue.call(i,o,c,s,r,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",l&&Object.assign(i,l),i};const Jv=null;function jo(e){return O.isPlainObject(e)||O.isArray(e)}function Hm(e){return O.endsWith(e,"[]")?e.slice(0,-2):e}function wd(e,t,s){return e?e.concat(t).map(function(a,l){return a=Hm(a),!s&&l?"["+a+"]":a}).join(s?".":""):t}function Zv(e){return O.isArray(e)&&!e.some(jo)}const eb=O.toFlatObject(O,{},null,function(t){return/^is[A-Z]/.test(t)});function Ll(e,t,s){if(!O.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=O.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,b){return!O.isUndefined(b[j])});const r=s.metaTokens,a=s.visitor||f,l=s.dots,i=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(t);if(!O.isFunction(a))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(O.isDate(v))return v.toISOString();if(O.isBoolean(v))return v.toString();if(!c&&O.isBlob(v))throw new ue("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(v)||O.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,j,b){let m=v;if(v&&!b&&typeof v=="object"){if(O.endsWith(j,"{}"))j=r?j:j.slice(0,-2),v=JSON.stringify(v);else if(O.isArray(v)&&Zv(v)||(O.isFileList(v)||O.endsWith(j,"[]"))&&(m=O.toArray(v)))return j=Hm(j),m.forEach(function(h,k){!(O.isUndefined(h)||h===null)&&t.append(i===!0?wd([j],k,l):i===null?j:j+"[]",u(h))}),!1}return jo(v)?!0:(t.append(wd(b,j,l),u(v)),!1)}const x=[],d=Object.assign(eb,{defaultVisitor:f,convertValue:u,isVisitable:jo});function y(v,j){if(!O.isUndefined(v)){if(x.indexOf(v)!==-1)throw Error("Circular reference detected in "+j.join("."));x.push(v),O.forEach(v,function(m,g){(!(O.isUndefined(m)||m===null)&&a.call(t,m,O.isString(g)?g.trim():g,j,d))===!0&&y(m,j?j.concat(g):[g])}),x.pop()}}if(!O.isObject(e))throw new TypeError("data must be an object");return y(e),t}function kd(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Oc(e,t){this._pairs=[],e&&Ll(e,this,t)}const Wm=Oc.prototype;Wm.append=function(t,s){this._pairs.push([t,s])};Wm.toString=function(t){const s=t?function(r){return t.call(this,r,kd)}:kd;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function tb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Km(e,t,s){if(!t)return e;const r=s&&s.encode||tb;O.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let l;if(a?l=a(t,s):l=O.isURLSearchParams(t)?t.toString():new Oc(t,s).toString(r),l){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Sd{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){O.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Gm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sb=typeof URLSearchParams<"u"?URLSearchParams:Oc,nb=typeof FormData<"u"?FormData:null,rb=typeof Blob<"u"?Blob:null,ab={isBrowser:!0,classes:{URLSearchParams:sb,FormData:nb,Blob:rb},protocols:["http","https","file","blob","url","data"]},Dc=typeof window<"u"&&typeof document<"u",No=typeof navigator=="object"&&navigator||void 0,lb=Dc&&(!No||["ReactNative","NativeScript","NS"].indexOf(No.product)<0),ib=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ob=Dc&&window.location.href||"http://localhost",cb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Dc,hasStandardBrowserEnv:lb,hasStandardBrowserWebWorkerEnv:ib,navigator:No,origin:ob},Symbol.toStringTag,{value:"Module"})),tt={...cb,...ab};function ub(e,t){return Ll(e,new tt.classes.URLSearchParams,{visitor:function(s,r,a,l){return tt.isNode&&O.isBuffer(s)?(this.append(r,s.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function db(e){return O.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function pb(e){const t={},s=Object.keys(e);let r;const a=s.length;let l;for(r=0;r<a;r++)l=s[r],t[l]=e[l];return t}function Qm(e){function t(s,r,a,l){let i=s[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=l>=s.length;return i=!i&&O.isArray(a)?a.length:i,c?(O.hasOwnProp(a,i)?a[i]=[a[i],r]:a[i]=r,!o):((!a[i]||!O.isObject(a[i]))&&(a[i]=[]),t(s,r,a[i],l)&&O.isArray(a[i])&&(a[i]=pb(a[i])),!o)}if(O.isFormData(e)&&O.isFunction(e.entries)){const s={};return O.forEachEntry(e,(r,a)=>{t(db(r),a,s,0)}),s}return null}function fb(e,t,s){if(O.isString(e))try{return(t||JSON.parse)(e),O.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const Ur={transitional:Gm,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",a=r.indexOf("application/json")>-1,l=O.isObject(t);if(l&&O.isHTMLForm(t)&&(t=new FormData(t)),O.isFormData(t))return a?JSON.stringify(Qm(t)):t;if(O.isArrayBuffer(t)||O.isBuffer(t)||O.isStream(t)||O.isFile(t)||O.isBlob(t)||O.isReadableStream(t))return t;if(O.isArrayBufferView(t))return t.buffer;if(O.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ub(t,this.formSerializer).toString();if((o=O.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ll(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return l||a?(s.setContentType("application/json",!1),fb(t)):t}],transformResponse:[function(t){const s=this.transitional||Ur.transitional,r=s&&s.forcedJSONParsing,a=this.responseType==="json";if(O.isResponse(t)||O.isReadableStream(t))return t;if(t&&O.isString(t)&&(r&&!this.responseType||a)){const i=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?ue.from(o,ue.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tt.classes.FormData,Blob:tt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],e=>{Ur.headers[e]={}});const mb=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xb=e=>{const t={};let s,r,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),s=i.substring(0,a).trim().toLowerCase(),r=i.substring(a+1).trim(),!(!s||t[s]&&mb[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},Cd=Symbol("internals");function Gn(e){return e&&String(e).trim().toLowerCase()}function Ra(e){return e===!1||e==null?e:O.isArray(e)?e.map(Ra):String(e)}function hb(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const gb=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function di(e,t,s,r,a){if(O.isFunction(r))return r.call(this,t,s);if(a&&(t=s),!!O.isString(t)){if(O.isString(r))return t.indexOf(r)!==-1;if(O.isRegExp(r))return r.test(t)}}function yb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function vb(e,t){const s=O.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(a,l,i){return this[r].call(this,t,a,l,i)},configurable:!0})})}let mt=class{constructor(t){t&&this.set(t)}set(t,s,r){const a=this;function l(o,c,u){const f=Gn(c);if(!f)throw new Error("header name must be a non-empty string");const x=O.findKey(a,f);(!x||a[x]===void 0||u===!0||u===void 0&&a[x]!==!1)&&(a[x||c]=Ra(o))}const i=(o,c)=>O.forEach(o,(u,f)=>l(u,f,c));if(O.isPlainObject(t)||t instanceof this.constructor)i(t,s);else if(O.isString(t)&&(t=t.trim())&&!gb(t))i(xb(t),s);else if(O.isObject(t)&&O.isIterable(t)){let o={},c,u;for(const f of t){if(!O.isArray(f))throw TypeError("Object iterator must return a key-value pair");o[u=f[0]]=(c=o[u])?O.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}i(o,s)}else t!=null&&l(s,t,r);return this}get(t,s){if(t=Gn(t),t){const r=O.findKey(this,t);if(r){const a=this[r];if(!s)return a;if(s===!0)return hb(a);if(O.isFunction(s))return s.call(this,a,r);if(O.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Gn(t),t){const r=O.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||di(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let a=!1;function l(i){if(i=Gn(i),i){const o=O.findKey(r,i);o&&(!s||di(r,r[o],o,s))&&(delete r[o],a=!0)}}return O.isArray(t)?t.forEach(l):l(t),a}clear(t){const s=Object.keys(this);let r=s.length,a=!1;for(;r--;){const l=s[r];(!t||di(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const s=this,r={};return O.forEach(this,(a,l)=>{const i=O.findKey(r,l);if(i){s[i]=Ra(a),delete s[l];return}const o=t?yb(l):String(l).trim();o!==l&&delete s[l],s[o]=Ra(a),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return O.forEach(this,(r,a)=>{r!=null&&r!==!1&&(s[a]=t&&O.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[Cd]=this[Cd]={accessors:{}}).accessors,a=this.prototype;function l(i){const o=Gn(i);r[o]||(vb(a,i),r[o]=!0)}return O.isArray(t)?t.forEach(l):l(t),this}};mt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(mt.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});O.freezeMethods(mt);function pi(e,t){const s=this||Ur,r=t||s,a=mt.from(r.headers);let l=r.data;return O.forEach(e,function(o){l=o.call(s,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function Ym(e){return!!(e&&e.__CANCEL__)}function _n(e,t,s){ue.call(this,e??"canceled",ue.ERR_CANCELED,t,s),this.name="CanceledError"}O.inherits(_n,ue,{__CANCEL__:!0});function Xm(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new ue("Request failed with status code "+s.status,[ue.ERR_BAD_REQUEST,ue.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function bb(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function jb(e,t){e=e||10;const s=new Array(e),r=new Array(e);let a=0,l=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),f=r[l];i||(i=u),s[a]=c,r[a]=u;let x=l,d=0;for(;x!==a;)d+=s[x++],x=x%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),u-i<t)return;const y=f&&u-f;return y?Math.round(d*1e3/y):void 0}}function Nb(e,t){let s=0,r=1e3/t,a,l;const i=(u,f=Date.now())=>{s=f,a=null,l&&(clearTimeout(l),l=null),e(...u)};return[(...u)=>{const f=Date.now(),x=f-s;x>=r?i(u,f):(a=u,l||(l=setTimeout(()=>{l=null,i(a)},r-x)))},()=>a&&i(a)]}const ol=(e,t,s=3)=>{let r=0;const a=jb(50,250);return Nb(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,c=i-r,u=a(c),f=i<=o;r=i;const x={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&f?(o-i)/u:void 0,event:l,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(x)},s)},Ed=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},Pd=e=>(...t)=>O.asap(()=>e(...t)),wb=tt.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,tt.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(tt.origin),tt.navigator&&/(msie|trident)/i.test(tt.navigator.userAgent)):()=>!0,kb=tt.hasStandardBrowserEnv?{write(e,t,s,r,a,l){const i=[e+"="+encodeURIComponent(t)];O.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),O.isString(r)&&i.push("path="+r),O.isString(a)&&i.push("domain="+a),l===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Sb(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Cb(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Jm(e,t,s){let r=!Sb(t);return e&&(r||s==!1)?Cb(e,t):t}const Ad=e=>e instanceof mt?{...e}:e;function Gs(e,t){t=t||{};const s={};function r(u,f,x,d){return O.isPlainObject(u)&&O.isPlainObject(f)?O.merge.call({caseless:d},u,f):O.isPlainObject(f)?O.merge({},f):O.isArray(f)?f.slice():f}function a(u,f,x,d){if(O.isUndefined(f)){if(!O.isUndefined(u))return r(void 0,u,x,d)}else return r(u,f,x,d)}function l(u,f){if(!O.isUndefined(f))return r(void 0,f)}function i(u,f){if(O.isUndefined(f)){if(!O.isUndefined(u))return r(void 0,u)}else return r(void 0,f)}function o(u,f,x){if(x in t)return r(u,f);if(x in e)return r(void 0,u)}const c={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(u,f,x)=>a(Ad(u),Ad(f),x,!0)};return O.forEach(Object.keys({...e,...t}),function(f){const x=c[f]||a,d=x(e[f],t[f],f);O.isUndefined(d)&&x!==o||(s[f]=d)}),s}const Zm=e=>{const t=Gs({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=mt.from(i),t.url=Km(Jm(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),O.isFormData(s)){if(tt.hasStandardBrowserEnv||tt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(O.isFunction(s.getHeaders)){const c=s.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([f,x])=>{u.includes(f.toLowerCase())&&i.set(f,x)})}}if(tt.hasStandardBrowserEnv&&(r&&O.isFunction(r)&&(r=r(t)),r||r!==!1&&wb(t.url))){const c=a&&l&&kb.read(l);c&&i.set(a,c)}return t},Eb=typeof XMLHttpRequest<"u",Pb=Eb&&function(e){return new Promise(function(s,r){const a=Zm(e);let l=a.data;const i=mt.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=a,f,x,d,y,v;function j(){y&&y(),v&&v(),a.cancelToken&&a.cancelToken.unsubscribe(f),a.signal&&a.signal.removeEventListener("abort",f)}let b=new XMLHttpRequest;b.open(a.method.toUpperCase(),a.url,!0),b.timeout=a.timeout;function m(){if(!b)return;const h=mt.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),C={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:h,config:e,request:b};Xm(function(_){s(_),j()},function(_){r(_),j()},C),b=null}"onloadend"in b?b.onloadend=m:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(m)},b.onabort=function(){b&&(r(new ue("Request aborted",ue.ECONNABORTED,e,b)),b=null)},b.onerror=function(k){const C=k&&k.message?k.message:"Network Error",L=new ue(C,ue.ERR_NETWORK,e,b);L.event=k||null,r(L),b=null},b.ontimeout=function(){let k=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const C=a.transitional||Gm;a.timeoutErrorMessage&&(k=a.timeoutErrorMessage),r(new ue(k,C.clarifyTimeoutError?ue.ETIMEDOUT:ue.ECONNABORTED,e,b)),b=null},l===void 0&&i.setContentType(null),"setRequestHeader"in b&&O.forEach(i.toJSON(),function(k,C){b.setRequestHeader(C,k)}),O.isUndefined(a.withCredentials)||(b.withCredentials=!!a.withCredentials),o&&o!=="json"&&(b.responseType=a.responseType),u&&([d,v]=ol(u,!0),b.addEventListener("progress",d)),c&&b.upload&&([x,y]=ol(c),b.upload.addEventListener("progress",x),b.upload.addEventListener("loadend",y)),(a.cancelToken||a.signal)&&(f=h=>{b&&(r(!h||h.type?new _n(null,e,b):h),b.abort(),b=null)},a.cancelToken&&a.cancelToken.subscribe(f),a.signal&&(a.signal.aborted?f():a.signal.addEventListener("abort",f)));const g=bb(a.url);if(g&&tt.protocols.indexOf(g)===-1){r(new ue("Unsupported protocol "+g+":",ue.ERR_BAD_REQUEST,e));return}b.send(l||null)})},Ab=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let r=new AbortController,a;const l=function(u){if(!a){a=!0,o();const f=u instanceof Error?u:this.reason;r.abort(f instanceof ue?f:new _n(f instanceof Error?f.message:f))}};let i=t&&setTimeout(()=>{i=null,l(new ue(`timeout ${t} of ms exceeded`,ue.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(l):u.removeEventListener("abort",l)}),e=null)};e.forEach(u=>u.addEventListener("abort",l));const{signal:c}=r;return c.unsubscribe=()=>O.asap(o),c}},Rb=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let r=0,a;for(;r<s;)a=r+t,yield e.slice(r,a),r=a},Lb=async function*(e,t){for await(const s of Tb(e))yield*Rb(s,t)},Tb=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:r}=await t.read();if(s)break;yield r}}finally{await t.cancel()}},Rd=(e,t,s,r)=>{const a=Lb(e,t);let l=0,i,o=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:f}=await a.next();if(u){o(),c.close();return}let x=f.byteLength;if(s){let d=l+=x;s(d)}c.enqueue(new Uint8Array(f))}catch(u){throw o(u),u}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},Ld=64*1024,{isFunction:ua}=O,Mb=(({Request:e,Response:t})=>({Request:e,Response:t}))(O.global),{ReadableStream:Td,TextEncoder:Md}=O.global,_d=(e,...t)=>{try{return!!e(...t)}catch{return!1}},_b=e=>{e=O.merge.call({skipUndefined:!0},Mb,e);const{fetch:t,Request:s,Response:r}=e,a=t?ua(t):typeof fetch=="function",l=ua(s),i=ua(r);if(!a)return!1;const o=a&&ua(Td),c=a&&(typeof Md=="function"?(v=>j=>v.encode(j))(new Md):async v=>new Uint8Array(await new s(v).arrayBuffer())),u=l&&o&&_d(()=>{let v=!1;const j=new s(tt.origin,{body:new Td,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!j}),f=i&&o&&_d(()=>O.isReadableStream(new r("").body)),x={stream:f&&(v=>v.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!x[v]&&(x[v]=(j,b)=>{let m=j&&j[v];if(m)return m.call(j);throw new ue(`Response type '${v}' is not supported`,ue.ERR_NOT_SUPPORT,b)})});const d=async v=>{if(v==null)return 0;if(O.isBlob(v))return v.size;if(O.isSpecCompliantForm(v))return(await new s(tt.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(O.isArrayBufferView(v)||O.isArrayBuffer(v))return v.byteLength;if(O.isURLSearchParams(v)&&(v=v+""),O.isString(v))return(await c(v)).byteLength},y=async(v,j)=>{const b=O.toFiniteNumber(v.getContentLength());return b??d(j)};return async v=>{let{url:j,method:b,data:m,signal:g,cancelToken:h,timeout:k,onDownloadProgress:C,onUploadProgress:L,responseType:_,headers:w,withCredentials:T="same-origin",fetchOptions:M}=Zm(v),I=t||fetch;_=_?(_+"").toLowerCase():"text";let H=Ab([g,h&&h.toAbortSignal()],k),W=null;const J=H&&H.unsubscribe&&(()=>{H.unsubscribe()});let se;try{if(L&&u&&b!=="get"&&b!=="head"&&(se=await y(w,m))!==0){let N=new s(j,{method:"POST",body:m,duplex:"half"}),D;if(O.isFormData(m)&&(D=N.headers.get("content-type"))&&w.setContentType(D),N.body){const[V,Q]=Ed(se,ol(Pd(L)));m=Rd(N.body,Ld,V,Q)}}O.isString(T)||(T=T?"include":"omit");const X=l&&"credentials"in s.prototype,te={...M,signal:H,method:b.toUpperCase(),headers:w.normalize().toJSON(),body:m,duplex:"half",credentials:X?T:void 0};W=l&&new s(j,te);let S=await(l?I(W,M):I(j,te));const E=f&&(_==="stream"||_==="response");if(f&&(C||E&&J)){const N={};["status","statusText","headers"].forEach(Y=>{N[Y]=S[Y]});const D=O.toFiniteNumber(S.headers.get("content-length")),[V,Q]=C&&Ed(D,ol(Pd(C),!0))||[];S=new r(Rd(S.body,Ld,V,()=>{Q&&Q(),J&&J()}),N)}_=_||"text";let A=await x[O.findKey(x,_)||"text"](S,v);return!E&&J&&J(),await new Promise((N,D)=>{Xm(N,D,{data:A,headers:mt.from(S.headers),status:S.status,statusText:S.statusText,config:v,request:W})})}catch(X){throw J&&J(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new ue("Network Error",ue.ERR_NETWORK,v,W),{cause:X.cause||X}):ue.from(X,X&&X.code,v,W)}}},Ib=new Map,ex=e=>{let t=e?e.env:{};const{fetch:s,Request:r,Response:a}=t,l=[r,a,s];let i=l.length,o=i,c,u,f=Ib;for(;o--;)c=l[o],u=f.get(c),u===void 0&&f.set(c,u=o?new Map:_b(t)),f=u;return u};ex();const wo={http:Jv,xhr:Pb,fetch:{get:ex}};O.forEach(wo,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Id=e=>`- ${e}`,Ob=e=>O.isFunction(e)||e===null||e===!1,tx={getAdapter:(e,t)=>{e=O.isArray(e)?e:[e];const{length:s}=e;let r,a;const l={};for(let i=0;i<s;i++){r=e[i];let o;if(a=r,!Ob(r)&&(a=wo[(o=String(r)).toLowerCase()],a===void 0))throw new ue(`Unknown adapter '${o}'`);if(a&&(O.isFunction(a)||(a=a.get(t))))break;l[o||"#"+i]=a}if(!a){const i=Object.entries(l).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=s?i.length>1?`since :
`+i.map(Id).join(`
`):" "+Id(i[0]):"as no adapter specified";throw new ue("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:wo};function fi(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _n(null,e)}function Od(e){return fi(e),e.headers=mt.from(e.headers),e.data=pi.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),tx.getAdapter(e.adapter||Ur.adapter,e)(e).then(function(r){return fi(e),r.data=pi.call(e,e.transformResponse,r),r.headers=mt.from(r.headers),r},function(r){return Ym(r)||(fi(e),r&&r.response&&(r.response.data=pi.call(e,e.transformResponse,r.response),r.response.headers=mt.from(r.response.headers))),Promise.reject(r)})}const sx="1.12.2",Tl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Tl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Dd={};Tl.transitional=function(t,s,r){function a(l,i){return"[Axios v"+sx+"] Transitional option '"+l+"'"+i+(r?". "+r:"")}return(l,i,o)=>{if(t===!1)throw new ue(a(i," has been removed"+(s?" in "+s:"")),ue.ERR_DEPRECATED);return s&&!Dd[i]&&(Dd[i]=!0,console.warn(a(i," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(l,i,o):!0}};Tl.spelling=function(t){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Db(e,t,s){if(typeof e!="object")throw new ue("options must be an object",ue.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const l=r[a],i=t[l];if(i){const o=e[l],c=o===void 0||i(o,l,e);if(c!==!0)throw new ue("option "+l+" must be "+c,ue.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ue("Unknown option "+l,ue.ERR_BAD_OPTION)}}const La={assertOptions:Db,validators:Tl},Vt=La.validators;let Us=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Sd,response:new Sd}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Gs(this.defaults,s);const{transitional:r,paramsSerializer:a,headers:l}=s;r!==void 0&&La.assertOptions(r,{silentJSONParsing:Vt.transitional(Vt.boolean),forcedJSONParsing:Vt.transitional(Vt.boolean),clarifyTimeoutError:Vt.transitional(Vt.boolean)},!1),a!=null&&(O.isFunction(a)?s.paramsSerializer={serialize:a}:La.assertOptions(a,{encode:Vt.function,serialize:Vt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),La.assertOptions(s,{baseUrl:Vt.spelling("baseURL"),withXsrfToken:Vt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=l&&O.merge(l.common,l[s.method]);l&&O.forEach(["delete","get","head","post","put","patch","common"],v=>{delete l[v]}),s.headers=mt.concat(i,l);const o=[];let c=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(s)===!1||(c=c&&j.synchronous,o.unshift(j.fulfilled,j.rejected))});const u=[];this.interceptors.response.forEach(function(j){u.push(j.fulfilled,j.rejected)});let f,x=0,d;if(!c){const v=[Od.bind(this),void 0];for(v.unshift(...o),v.push(...u),d=v.length,f=Promise.resolve(s);x<d;)f=f.then(v[x++],v[x++]);return f}d=o.length;let y=s;for(;x<d;){const v=o[x++],j=o[x++];try{y=v(y)}catch(b){j.call(this,b);break}}try{f=Od.call(this,y)}catch(v){return Promise.reject(v)}for(x=0,d=u.length;x<d;)f=f.then(u[x++],u[x++]);return f}getUri(t){t=Gs(this.defaults,t);const s=Jm(t.baseURL,t.url,t.allowAbsoluteUrls);return Km(s,t.params,t.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(t){Us.prototype[t]=function(s,r){return this.request(Gs(r||{},{method:t,url:s,data:(r||{}).data}))}});O.forEach(["post","put","patch"],function(t){function s(r){return function(l,i,o){return this.request(Gs(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}Us.prototype[t]=s(),Us.prototype[t+"Form"]=s(!0)});let zb=class nx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(l){s=l});const r=this;this.promise.then(a=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](a);r._listeners=null}),this.promise.then=a=>{let l;const i=new Promise(o=>{r.subscribe(o),l=o}).then(a);return i.cancel=function(){r.unsubscribe(l)},i},t(function(l,i,o){r.reason||(r.reason=new _n(l,i,o),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new nx(function(a){t=a}),cancel:t}}};function $b(e){return function(s){return e.apply(null,s)}}function Fb(e){return O.isObject(e)&&e.isAxiosError===!0}const ko={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ko).forEach(([e,t])=>{ko[t]=e});function rx(e){const t=new Us(e),s=Im(Us.prototype.request,t);return O.extend(s,Us.prototype,t,{allOwnKeys:!0}),O.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return rx(Gs(e,a))},s}const Me=rx(Ur);Me.Axios=Us;Me.CanceledError=_n;Me.CancelToken=zb;Me.isCancel=Ym;Me.VERSION=sx;Me.toFormData=Ll;Me.AxiosError=ue;Me.Cancel=Me.CanceledError;Me.all=function(t){return Promise.all(t)};Me.spread=$b;Me.isAxiosError=Fb;Me.mergeConfig=Gs;Me.AxiosHeaders=mt;Me.formToJSON=e=>Qm(O.isHTMLForm(e)?new FormData(e):e);Me.getAdapter=tx.getAdapter;Me.HttpStatusCode=ko;Me.default=Me;const{Axios:Ej,AxiosError:Pj,CanceledError:Aj,isCancel:Rj,CancelToken:Lj,VERSION:Tj,all:Mj,Cancel:_j,isAxiosError:Ij,spread:Oj,toFormData:Dj,AxiosHeaders:zd,HttpStatusCode:zj,formToJSON:$j,getAdapter:Fj,mergeConfig:Bj}=Me,Bb=new Set(["localhost","127.0.0.1","0.0.0.0","::1"]),Ub=new Set(["bff","identity","ride","booking","search","payment","wallet","payouts","notification","messaging","config"]);function Vb(e){return e?!!(Bb.has(e)||Ub.has(e)||e.startsWith("127.")||/^172\.(1[6-9]|2[0-9]|3[0-1])\./.test(e)||/^10\./.test(e)||/^192\.168\./.test(e)):!1}function In(e,t,s,r=!1){const a=`http://localhost${t?`:${t}`:""}`,l=typeof window<"u"&&typeof window.location<"u",i=l?window.location.hostname:void 0,o=l?`${window.location.protocol}//${window.location.host}`:void 0;if(r||!!(s&&o&&i&&!Vb(i)))return`${o}${s}`;if(l&&i){const u=t&&t!==80&&t!==443?`:${t}`:"";return`${window.location.protocol}//${i}${u}`}return a}const qb=In(void 0,3003,"/api/search",!0),Hb=In(void 0,3004,"/api/booking"),ax=In(void 0,3002,"/api/ride"),Wb=In(void 0,3e3,"/api/payment"),Be=In(void 0,3e3,"/api/identity"),Vr=In(void 0,3012,"/api/messaging"),ce=Me.create();let dr,Ta;function So(e){dr=e||void 0}function da(){dr=void 0}function Kb(e){Ta=e}ce.interceptors.request.use(e=>{e.headers||(e.headers={});const t=e.headers,s=t.Authorization!==void 0||t.authorization!==void 0||t instanceof zd&&t.has("Authorization");return dr&&!s&&(t instanceof zd?t.set("Authorization",`Bearer ${dr}`):t.Authorization=`Bearer ${dr}`),e});ce.interceptors.response.use(e=>e,e=>{var t;return((t=e==null?void 0:e.response)==null?void 0:t.status)===401&&(Ta==null||Ta()),Promise.reject(e)});async function Gb(e,t={}){const{from:s,to:r,date:a,seats:l,priceMax:i,departureAfter:o,departureBefore:c,sort:u}=e,f=new URLSearchParams({from:s,to:r});a&&f.set("date",a),typeof l=="number"&&f.set("seats",String(l)),typeof i=="number"&&i>0&&f.set("priceMax",String(Math.floor(i))),o&&f.set("departureAfter",o),c&&f.set("departureBefore",c),u&&f.set("sort",u);const x=`${qb}/search?${f.toString()}`;let d,y;t.signal&&(d=Me.CancelToken.source(),t.signal.aborted?d.cancel("aborted"):(y=()=>d==null?void 0:d.cancel("aborted"),t.signal.addEventListener("abort",y)));try{const{data:v}=await ce.get(x,{withCredentials:!1,cancelToken:d==null?void 0:d.token});return v}finally{t.signal&&y&&t.signal.removeEventListener("abort",y)}}async function lx(e){const{data:t}=await ce.get(`${ax}/rides/${e}`);return t}async function Qb(e){const{data:t}=await ce.get(`${Vr}/conversations`,{params:{userId:e}});return t}async function Yb(e,t,s=100){const{data:r}=await ce.get(`${Vr}/conversations/${e}/messages`,{params:{userId:t,limit:s}});return r}async function Xb(e,t){const{data:s}=await ce.post(`${Vr}/conversations/${e}/read`,{userId:t});return s}async function Co(e){const{data:t}=await ce.post(`${Vr}/messages`,e);return t}async function Eo(e){const{data:t}=await ce.get(`${Vr}/notifications`,{params:{userId:e}});return t}async function Jb(e){const{data:t}=await ce.post(`${Hb}/bookings`,e);return t}async function Zb(e){const{data:t}=await ce.post(`${Wb}/payments/capture`,e);return t}async function e1(e){const{data:t}=await ce.get("/companies/me/vehicles",{params:e});return t}async function t1(e){const{data:t}=await ce.post("/companies/me/vehicles",e);return t}async function s1(e,t){const{data:s}=await ce.patch(`/companies/me/vehicles/${e}`,t);return s}async function n1(e){const{data:t}=await ce.delete(`/companies/me/vehicles/${e}`);return t}async function r1(e,t){const{data:s}=await ce.get(`/companies/me/vehicles/${e}/schedules`,{params:t});return s}async function a1(e,t){const{data:s}=await ce.post(`/companies/me/vehicles/${e}/schedules`,t);return s}async function l1(e,t,s){const{data:r}=await ce.patch(`/companies/me/vehicles/${e}/schedules/${t}`,s);return r}async function i1(e,t){const{data:s}=await ce.delete(`/companies/me/vehicles/${e}/schedules/${t}`);return s}async function $d(e,t){const{data:s}=await ce.get(`/admin/companies/${e}/vehicles`,{params:t});return s}async function o1(e,t,s){const{data:r}=await ce.get(`/admin/companies/${e}/vehicles/${t}/schedules`,{params:s});return r}async function c1(e){const{data:t}=await ce.post(`${Be}/auth/register/individual`,e);return t}async function u1(e){const{data:t}=await ce.post(`${Be}/auth/register/company`,e);return t}async function d1(e){const{data:t}=await ce.post(`${Be}/auth/login`,e);return t}async function p1(e){const{data:t}=await ce.post(`${Be}/auth/password/forgot`,e);return t}async function f1(e){const{data:t}=await ce.post(`${Be}/auth/password/reset`,e);return t}async function m1(e,t={}){const{data:s}=await ce.get(`${Be}/admin/accounts`,{headers:{Authorization:`Bearer ${e}`},params:t});return s}async function x1(e,t,s){const{data:r}=await ce.patch(`${Be}/admin/accounts/${t}/status`,{status:s},{headers:{Authorization:`Bearer ${e}`}});return r}async function h1(e,t,s){const{data:r}=await ce.patch(`${Be}/admin/accounts/${t}/role`,{role:s},{headers:{Authorization:`Bearer ${e}`}});return r}async function g1(e,t,s){const{data:r}=await ce.patch(`${Be}/admin/accounts/${t}/profile`,s,{headers:{Authorization:`Bearer ${e}`}});return r}async function y1(e,t){const{data:s}=await ce.get(`${Be}/admin/accounts/${t}/activity`,{headers:{Authorization:`Bearer ${e}`}});return s}async function Fd(e,t,s){const{data:r}=await ce.patch(`${Be}/admin/rides/${t}`,s,{headers:{Authorization:`Bearer ${e}`}});return r}async function Bd(e,t){const{data:s}=await ce.post(`${Be}/admin/rides/${t}/close`,{},{headers:{Authorization:`Bearer ${e}`}});return s}async function v1(e,t){const{data:s}=await ce.post(`${Be}/admin/rides/share`,t,{headers:{Authorization:`Bearer ${e}`}});return s}async function Ud(e,t){const{data:s}=await ce.get("/admin/rides",{headers:{Authorization:`Bearer ${e}`},params:t});return s}async function ix(e,t={}){const{data:s}=await ce.get("/me/bookings",{headers:{Authorization:`Bearer ${e}`},params:t});return s}async function b1(e,t={}){const{data:s}=await ce.get("/me/rides",{headers:{Authorization:`Bearer ${e}`},params:t});return s}async function ox(e){const{data:t}=await ce.post(`${Be}/auth/gmail/request`,e);return t}async function cx(e){const{data:t}=await ce.post(`${Be}/auth/gmail/verify`,e);return t}async function j1(e){const{data:t}=await ce.get(`${Be}/profiles/me`,{headers:{Authorization:`Bearer ${e}`}});return t}async function zc(e,t){const{data:s}=await ce.get(`${Be}/profiles/${e}/public`,{headers:{Authorization:`Bearer ${t}`}});return s}async function N1(e,t){const s={};t&&(s.Authorization=`Bearer ${t}`);const{data:r}=await ce.get(`${Be}/profiles/lookup`,{params:{email:e},headers:s});return r}async function ux(e,t){const{data:s}=await ce.patch(`${Be}/profiles/me/individual`,t,{headers:{Authorization:`Bearer ${e}`}});return s}async function w1(e,t){const{data:s}=await ce.patch(`${Be}/profiles/me/company`,t,{headers:{Authorization:`Bearer ${e}`}});return s}async function k1(e){const t={...e,seatsAvailable:e.seatsAvailable??e.seatsTotal},{data:s}=await ce.post(`${ax}/rides`,t);return s}const Po="kari_token",S1=()=>typeof window<"u"?window.localStorage.getItem(Po)??void 0:void 0,pa=e=>{typeof window>"u"||(e?window.localStorage.setItem(Po,e):window.localStorage.removeItem(Po))},cl=S1(),ne=pv((e,t)=>({results:[],loading:!1,passengerId:"usr-demo",token:cl,authLoading:!1,authReady:!cl,messageBadge:0,setPassenger:s=>e({passengerId:s}),setSearch:s=>e({lastSearch:s}),setResults:s=>e({results:s}),setLoading:s=>e({loading:s}),setError:s=>e({error:s}),setSession:(s,r)=>{pa(s),So(s),e({token:s,account:r,authLoading:!1,authReady:!0,authError:void 0,passengerId:r.id||"usr-demo"}),t().refreshMessageBadge()},clearSession:()=>{pa(void 0),da(),e({token:void 0,account:void 0,authReady:!0,authLoading:!1,authError:void 0,lastSearch:void 0,results:[],passengerId:"usr-demo",messageBadge:0})},initializeAuth:async()=>{const{authReady:s,authLoading:r}=t();if(s||r)return;const a=t().token;if(!a){da(),e({authReady:!0,authLoading:!1,authError:void 0});return}try{e({authLoading:!0,authError:void 0});const l=await j1(a);if(So(a),l.status&&l.status!=="ACTIVE"){pa(void 0),da(),e({token:void 0,account:void 0,authReady:!0,authLoading:!1,authError:"Compte suspendu. Contacte le support.",passengerId:"usr-demo"});return}e({account:l,authReady:!0,authLoading:!1,authError:void 0,passengerId:l.id||"usr-demo"}),await t().refreshMessageBadge()}catch(l){pa(void 0),da(),e({token:void 0,account:void 0,authReady:!0,authLoading:!1,authError:(l==null?void 0:l.message)||"Session invalide"})}},refreshMessageBadge:async()=>{const s=t().account;if(!(s!=null&&s.id)){e({messageBadge:0});return}try{const r=await Eo(s.id);e({messageBadge:r.unreadConversations})}catch{}}}));cl&&So(cl);Kb(()=>{const e=ne.getState();e.token&&e.clearSession()});const $c=[{id:"create_ride",label:"Publier un trajet",description:"Accder rapidement au formulaire de publication.",to:"/create"},{id:"view_messages",label:"Messages",description:"Consulter les conversations et notifications.",to:"/messages"},{id:"view_bookings",label:"Mes trajets rservs",description:"Retrouver lhistorique des rservations.",to:"/results"},{id:"explore_offers",label:"Explorer les offres",description:"Revenir  la recherche de trajets populaires.",to:"/"},{id:"profile_settings",label:"Prfrences",description:"Personnaliser ton exprience depuis la page profil.",to:"/profile"},{id:"manage_fleet",label:"Gestion de flotte",description:"Accder  la planification des vhicules (comptes entreprise).",to:"/company/fleet"}],dx=[{id:"default",label:"Classique",gradient:"from-[#f6fbff] via-white to-[#eef5ff]",accent:"text-sky-600"},{id:"sunset",label:"Coucher de soleil",gradient:"from-[#fff4ec] via-[#ffe5dc] to-[#fff8f3]",accent:"text-amber-600"},{id:"night",label:"Nuit sereine",gradient:"from-[#030712] via-[#0f172a] to-[#020617]",accent:"text-indigo-200"}],En={default:{gradient:"from-[#f6fbff] via-white to-[#eef5ff]",pattern:"bg-[radial-gradient(circle_at_20%_20%,rgba(14,165,233,0.12),transparent_60%)]",glow:"bg-sky-200/40",accent:"text-sky-600",hero:{badge:"bg-white/90 border border-sky-100/70 text-sky-600 shadow-sm shadow-sky-100/40",badgeIcon:"text-sky-500",title:"text-slate-900",text:"text-slate-600",card:"border border-white/60 bg-white/85 backdrop-blur-sm shadow-lg shadow-sky-100/40",cardText:"text-slate-600",iconWrap:"bg-sky-500/12 text-sky-600",iconColor:"text-sky-500",sectionTitle:"text-slate-900"},search:{panel:"border border-white/80 bg-white/95 shadow-2xl shadow-sky-100/70 backdrop-blur-xl",icon:"text-sky-500/80",fieldLg:"border-slate-200 focus:border-sky-200 focus:ring-sky-100",fieldSm:"border-slate-200 focus:border-sky-200 focus:ring-sky-100",button:"bg-sky-600 hover:bg-sky-700 text-white shadow-md shadow-sky-200/60",hint:"text-slate-500"},chips:{accent:"border-sky-200 bg-sky-50 text-sky-700",neutral:"border-slate-200 bg-white text-slate-500"},quickActions:{active:"border-sky-200 bg-sky-50 text-sky-700 shadow-sm",inactive:"border-slate-200 bg-white text-slate-600 hover:border-sky-200 hover:text-sky-600"},surface:"border border-slate-200 bg-white/85 backdrop-blur shadow-sm",surfaceMuted:"border border-slate-200 bg-slate-50/80"},sunset:{gradient:"from-[#fff4ec] via-[#ffe0d1] to-[#fff7f1]",pattern:"bg-[radial-gradient(circle_at_80%_10%,rgba(249,115,22,0.14),transparent_60%)]",glow:"bg-rose-200/40",accent:"text-amber-600",hero:{badge:"bg-white/90 border border-amber-200/70 text-amber-600 shadow-md shadow-amber-100/50",badgeIcon:"text-amber-500",title:"text-[#5b1f00]",text:"text-[#7c3a10]",card:"border border-white/60 bg-white/80 backdrop-blur-sm shadow-xl shadow-amber-100/60",cardText:"text-[#7c3a10]",iconWrap:"bg-amber-500/12 text-amber-600",iconColor:"text-amber-500",sectionTitle:"text-[#5b1f00]"},search:{panel:"border border-white/70 bg-white/95 shadow-2xl shadow-amber-100/70 backdrop-blur-xl",icon:"text-amber-500/80",fieldLg:"border-amber-100 focus:border-amber-300 focus:ring-amber-100",fieldSm:"border-amber-100 focus:border-amber-300 focus:ring-amber-100",button:"bg-amber-500 hover:bg-amber-600 text-white shadow-md shadow-amber-200/50",hint:"text-[#9f5f26]"},chips:{accent:"border-amber-200 bg-amber-50 text-amber-700",neutral:"border-[#f3d8bf] bg-white/85 text-[#9f5f26]"},quickActions:{active:"border-amber-200 bg-amber-50 text-amber-700 shadow-sm",inactive:"border-amber-100 bg-white/85 text-[#9f5f26] hover:border-amber-200 hover:text-amber-700"},surface:"border border-amber-100 bg-white/90 backdrop-blur shadow-sm",surfaceMuted:"border border-amber-100 bg-amber-50/80"},night:{gradient:"from-[#020617] via-[#0f172a] to-[#020617]",pattern:"bg-[radial-gradient(circle_at_10%_10%,rgba(129,140,248,0.18),transparent_65%)]",glow:"bg-indigo-500/20",accent:"text-indigo-200",hero:{badge:"bg-slate-900/80 border border-indigo-500/40 text-indigo-200 shadow-indigo-900/40",badgeIcon:"text-indigo-200",title:"text-white",text:"text-slate-300",card:"border border-indigo-500/30 bg-slate-900/75 backdrop-blur-xl shadow-2xl shadow-indigo-950/60",cardText:"text-slate-300",iconWrap:"bg-indigo-500/20 text-indigo-200",iconColor:"text-indigo-200",sectionTitle:"text-indigo-100"},search:{panel:"border border-indigo-500/40 bg-slate-900/80 shadow-2xl shadow-indigo-950/70 backdrop-blur-2xl",icon:"text-indigo-300/90",fieldLg:"border-slate-700 bg-slate-900/70 text-white placeholder:text-slate-400 focus:border-indigo-400 focus:ring-indigo-300/40",fieldSm:"border-slate-700 bg-slate-900/70 text-white placeholder:text-slate-400 focus:border-indigo-400 focus:ring-indigo-300/40",button:"bg-indigo-500 hover:bg-indigo-400 text-white shadow-lg shadow-indigo-900/60",hint:"text-indigo-200/70"},chips:{accent:"border-indigo-500/50 bg-indigo-500/15 text-indigo-100",neutral:"border-slate-700 bg-slate-900/70 text-slate-200"},quickActions:{active:"border-indigo-500/50 bg-indigo-500/20 text-indigo-100 shadow shadow-indigo-900/40",inactive:"border-slate-700 bg-slate-900/70 text-slate-200 hover:border-indigo-500/60 hover:text-indigo-100"},surface:"border border-indigo-500/40 bg-slate-900/75 backdrop-blur-xl shadow-lg",surfaceMuted:"border border-slate-800 bg-slate-900/70"}};function px(){const e=ne(u=>u.token),t=ne(u=>u.account),s=it(),[r,a]=p.useState(null),[l,i]=p.useState(null),o=p.useCallback(async u=>{var f,x,d;if(u!=null&&u.rideId){if(!e){i("Connecte-toi pour envoyer un message au conducteur.");return}if(!u.driverId){i("Impossible de contacter ce conducteur (identifiant absent).");return}if((t==null?void 0:t.id)===u.driverId){i("Tu es dj lauteur de ce trajet.");return}i(null),a(u.rideId);try{let y=null;try{y=await zc(u.driverId,e)}catch(b){const m=(f=b==null?void 0:b.response)==null?void 0:f.status;if(m&&m!==404)throw b}const v=(y==null?void 0:y.fullName)||(y==null?void 0:y.companyName)||(y==null?void 0:y.email)||u.driverLabel||"Conducteur KariGo",j={id:u.driverId,type:(y==null?void 0:y.type)??"INDIVIDUAL",label:v,email:y==null?void 0:y.email};s("/messages",{state:{contact:j,rideContext:{rideId:u.rideId,originCity:u.originCity,destinationCity:u.destinationCity,departureAt:u.departureAt}}})}catch(y){i(((d=(x=y==null?void 0:y.response)==null?void 0:x.data)==null?void 0:d.message)||(y==null?void 0:y.message)||"Contact impossible pour ce trajet.")}finally{a(null)}}},[t==null?void 0:t.id,e,s]),c=p.useCallback(()=>i(null),[]);return{contactDriver:o,contactingRideId:r,contactError:l,clearContactError:c}}const fx=new Map;function C1(e){return JSON.stringify({from:e.from,to:e.to,date:e.date??null,seats:e.seats??null,priceMax:e.priceMax??null,departureAfter:e.departureAfter??null,departureBefore:e.departureBefore??null,sort:e.sort??"soonest"})}function E1(e){return fx.get(e)}function P1(e,t){fx.set(e,t)}function mx(){const e=p.useRef(null),[t,s]=p.useTransition();return p.useEffect(()=>()=>{var a;return(a=e.current)==null?void 0:a.abort()},[]),{execute:p.useCallback(async(a,l)=>{var u,f,x;const i=C1(a),o=E1(i);if(o)return s(()=>l.onSuccess(o,{fromCache:!0})),{fromCache:!0,aborted:!1};(u=e.current)==null||u.abort();const c=new AbortController;e.current=c;try{const d=await Gb(a,{signal:c.signal});return s(()=>{P1(i,d),l.onSuccess(d,{fromCache:!1})}),{fromCache:!1,aborted:!1}}catch(d){if(c.signal.aborted||Me.isCancel(d))return{fromCache:!1,aborted:!0};const y=((x=(f=d==null?void 0:d.response)==null?void 0:f.data)==null?void 0:x.message)||(d==null?void 0:d.message)||"Erreur de recherche.";return l.onError(y),{fromCache:!1,aborted:!1}}},[s]),isPending:t}}const A1=[{from:"Abidjan",to:"Yamoussoukro"},{from:"Abidjan",to:"Bouak"},{from:"Bouak",to:"Abidjan"},{from:"Yamoussoukro",to:"Daloa"}];function R1(){var P,Z,ie,le,we;const e=it(),{lastSearch:t,setSearch:s,setResults:r,setLoading:a,setError:l,loading:i,results:o,error:c}=ne(),u=ne(q=>q.account),{contactDriver:f,contactingRideId:x,contactError:d,clearContactError:y}=px(),{execute:v,isPending:j}=mx(),b=p.useDeferredValue(o),m=u==null?void 0:u.homePreferences,g=(m==null?void 0:m.theme)??"default",h=En[g]??En.default,k=h.hero;h.chips;const C=h.quickActions,L=g==="night",_=h.surface,w=L?"text-slate-300":"text-slate-600",T=L?"text-white":"text-slate-900",M=L?"rounded-xl border border-slate-800 bg-slate-900/70 backdrop-blur px-4 py-4 text-slate-200":"rounded-xl border border-slate-200 bg-white px-4 py-4 text-slate-600 shadow-sm",I=L?"rounded-xl border border-slate-800 bg-slate-900/60 backdrop-blur px-4 py-4 text-slate-300":"rounded-xl border border-slate-200 bg-slate-50 px-4 py-4 text-slate-600",H=L?"rounded-xl border border-red-500/40 bg-red-500/15 px-4 py-3 text-red-200 shadow-lg shadow-red-900/30":"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-red-700",W=((P=m==null?void 0:m.heroMessage)==null?void 0:P.trim())||"Voyage sereinement entre les villes de Cte dIvoire",J=(m==null?void 0:m.showTips)??!0,se=(m==null?void 0:m.quickActions)??[],X=(m==null?void 0:m.favoriteRoutes)??[],te=$c.filter(q=>se.includes(q.id)&&(q.id!=="manage_fleet"||(u==null?void 0:u.type)==="COMPANY")),[S,E]=p.useState({from:(t==null?void 0:t.from)??"",fromLabel:((Z=t==null?void 0:t.fromMeta)==null?void 0:Z.label)??(t==null?void 0:t.from)??"",fromMeta:(t==null?void 0:t.fromMeta)??null,to:(t==null?void 0:t.to)??"",toLabel:((ie=t==null?void 0:t.toMeta)==null?void 0:ie.label)??(t==null?void 0:t.to)??"",toMeta:(t==null?void 0:t.toMeta)??null,date:(t==null?void 0:t.date)??"",seats:(t==null?void 0:t.seats)??1,priceMax:t==null?void 0:t.priceMax,departureAfter:t==null?void 0:t.departureAfter,departureBefore:t==null?void 0:t.departureBefore,sort:(t==null?void 0:t.sort)??"soonest"});function A(q){E(Pe=>({...Pe,...q}))}const N=(q,Pe)=>{var _e,fe;const G=Pe.trim();if(q&&q.city.toLowerCase()===G.toLowerCase())return q;const Ue=_c(G);return Ue?{city:Ue.name,label:((_e=q==null?void 0:q.label)==null?void 0:_e.trim())||Ue.name,lat:Ue.lat,lng:Ue.lng,mode:"city"}:{city:G,label:((fe=q==null?void 0:q.label)==null?void 0:fe.trim())||G,lat:q==null?void 0:q.lat,lng:q==null?void 0:q.lng,distanceKm:q==null?void 0:q.distanceKm,accuracyMeters:q==null?void 0:q.accuracyMeters,note:q==null?void 0:q.note,mode:(q==null?void 0:q.mode)??"manual"}};async function D(){const q=S.from.trim(),Pe=S.to.trim();if(!q||!Pe){l("Renseigne dpart et arrive");return}if(!hd(q)){l("Slectionne un point de dpart valide.");return}if(!hd(Pe)){l("Slectionne une arrive valide.");return}if(!S.seats||S.seats<=0){l("Nombre de siges invalide");return}if(S.departureAfter&&S.departureBefore&&S.departureAfter>S.departureBefore){l("Plage horaire incohrente. Aprs doit prcder avant.");return}const G={from:q,to:Pe,date:S.date||void 0,seats:S.seats,priceMax:typeof S.priceMax=="number"&&S.priceMax>0?S.priceMax:void 0,departureAfter:S.departureAfter||void 0,departureBefore:S.departureBefore||void 0,sort:S.sort||"soonest",fromMeta:N(S.fromMeta,q),toMeta:N(S.toMeta,Pe)};s(G),a(!0),l(void 0),(await v({from:G.from,to:G.to,date:G.date,seats:G.seats,priceMax:G.priceMax,departureAfter:G.departureAfter,departureBefore:G.departureBefore,sort:G.sort},{onSuccess:_e=>r(_e),onError:_e=>l(_e)})).aborted||a(!1)}const V=((le=t==null?void 0:t.fromMeta)==null?void 0:le.label)??(t==null?void 0:t.from)??"",Q=((we=t==null?void 0:t.toMeta)==null?void 0:we.label)??(t==null?void 0:t.to)??"",Y=b.length,oe=i||j;t!=null&&t.date&&new Date(t.date).toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"});const de=p.useRef(null),Oe=()=>{de.current&&de.current.scrollIntoView({behavior:"smooth",block:"start"})},B=(q,Pe=!1)=>{E(G=>({...G,from:q.from,fromLabel:q.from,fromMeta:N(G.fromMeta,q.from),to:q.to,toLabel:q.to,toMeta:N(G.toMeta,q.to)})),l(void 0),Pe&&Oe()},R=()=>{t&&(E(q=>{var Pe,G;return{...q,from:t.from,fromLabel:((Pe=t.fromMeta)==null?void 0:Pe.label)??t.from,fromMeta:N(q.fromMeta,t.from),to:t.to,toLabel:((G=t.toMeta)==null?void 0:G.label)??t.to,toMeta:N(q.toMeta,t.to),date:t.date??q.date,seats:t.seats??q.seats,priceMax:t.priceMax,departureAfter:t.departureAfter,departureBefore:t.departureBefore,sort:t.sort??q.sort}}),l(void 0),Oe())},K=(X.length?X:A1).slice(0,4),z=!!(t!=null&&t.from&&(t!=null&&t.to));return n.jsxs("div",{className:"min-h-[calc(100vh-56px)] bg-gradient-to-b from-slate-950/5 via-white to-white",children:[n.jsxs("section",{className:"relative isolate overflow-hidden section-block pb-6",children:[n.jsx("div",{className:`absolute inset-0 -z-20 bg-gradient-to-br ${h.gradient}`}),h.pattern&&n.jsx("div",{className:`absolute inset-0 -z-10 opacity-80 ${h.pattern}`}),n.jsx("div",{className:"absolute inset-y-0 right-0 -z-10 hidden lg:block",children:n.jsx("div",{className:`h-full w-72 translate-x-24 rounded-full blur-3xl ${h.glow}`})}),n.jsx("div",{className:"container-wide",children:n.jsxs("div",{className:"grid gap-10 lg:grid-cols-[minmax(0,0.45fr),minmax(0,1.65fr)] items-start",children:[n.jsxs("div",{className:"space-y-3 md:space-y-4 max-w-md",children:[n.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-4 py-1 text-xs font-semibold uppercase tracking-wide ${k.badge}`,children:[n.jsx(Lc,{size:14,className:k.badgeIcon}),"Trouve ton trajet en quelques secondes"]}),n.jsx("h1",{className:`text-2xl md:text-3xl font-bold leading-tight ${k.title}`,children:W}),n.jsx("p",{className:`text-sm md:text-base text-slate-500 ${k.text}`,children:"Slectionne un dpart, une arrive et compare instantanment les trajets disponibles sur KariGo."}),J&&n.jsx("div",{className:"h-2"}),n.jsx("div",{className:"h-4"})]}),n.jsxs("div",{className:"relative lg:pl-10 xl:pl-12 w-full max-w-[820px]",children:[n.jsxs("div",{ref:de,className:"rounded-3xl border-2 border-sky-200 bg-white shadow-lg shadow-sky-200/40 backdrop-blur-lg p-5 sm:p-7",children:[n.jsxs("div",{className:"mb-4 flex items-center justify-between text-slate-600 text-sm font-medium",children:[n.jsx("span",{children:"Planifie ton prochain trajet"}),n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-sky-100 px-3 py-1 text-xs font-semibold text-sky-600",children:[n.jsx(xd,{size:12})," Recherche rapide"]})]}),n.jsx($y,{from:S.from,fromLabel:S.fromLabel,fromMeta:S.fromMeta,to:S.to,toLabel:S.toLabel,toMeta:S.toMeta,date:S.date,seats:S.seats,priceMax:S.priceMax,departureAfter:S.departureAfter,departureBefore:S.departureBefore,sort:S.sort,loading:i,onChange:A,onSubmit:D,theme:g,searchTheme:h.search}),te.length>0&&n.jsx("div",{className:"mt-4 flex flex-wrap gap-2 text-xs",children:te.map(q=>n.jsxs(me,{to:q.to,className:`inline-flex shrink-0 items-center gap-2 rounded-full px-3 py-2 transition ${C.active}`,children:[n.jsx(xd,{size:14,className:k.iconColor}),q.label]},q.id))})]}),(z||K.length>0)&&n.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-sm",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Raccourcis intelligents"}),z&&n.jsx("button",{type:"button",onClick:R,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-600 transition hover:border-sky-200 hover:text-sky-600",children:"Reprendre la dernire recherche"})]}),K.length>0&&n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:K.map((q,Pe)=>n.jsxs("button",{type:"button",onClick:()=>B(q,!0),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-600 transition hover:border-sky-200 hover:text-sky-700",children:[q.from,"  ",q.to]},`${q.from}-${q.to}-${Pe}`))})]})]})]})})]}),n.jsx("section",{className:"section-block--compact pt-0 pb-12",children:n.jsxs("div",{className:"container-wide grid gap-8 lg:grid-cols-[minmax(0,1fr),320px]",children:[n.jsxs("div",{className:"space-y-5",children:[c&&n.jsx(Vd,{message:c,onDismiss:()=>l(void 0),toneClass:H}),t&&!oe&&n.jsxs("div",{className:`flex flex-wrap items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm ${w}`,children:[n.jsxs("span",{className:`font-semibold ${T}`,children:[Y," trajet(s)"]}),n.jsxs("span",{children:[V,"  ",Q]}),t.date&&n.jsxs("span",{children:[" ",new Date(t.date).toLocaleDateString()]}),t.seats&&n.jsxs("span",{children:[" ",t.seats," sige(s)"]})]}),d&&n.jsx(Vd,{message:d,onDismiss:y,toneClass:"rounded-2xl border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800"}),oe&&n.jsx("div",{className:`${I} animate-pulse`,children:"Recherche en cours"}),!oe&&Y>0&&n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:b.map(q=>n.jsx(Am,{...q,onBook:()=>e(`/booking/${q.rideId}`),onDetails:()=>e(`/ride/${q.rideId}`),onContact:u!=null&&u.id&&q.driverId?()=>f(q):void 0,contactBusy:x===q.rideId,variant:"dark"},q.rideId))}),!oe&&!c&&Y===0&&t&&n.jsx("div",{className:`${M} transition`,children:"Aucun trajet ne correspond encore  cette recherche. Essaie dajuster lhoraire ou publie ton propre trajet pour informer la communaut."}),!t&&!oe&&Y===0&&!c&&n.jsxs("div",{className:`${M} transition`,children:["Renseigne un ",n.jsx("span",{className:`font-medium ${T}`,children:"dpart"}),", une"," ",n.jsx("span",{className:`font-medium ${T}`,children:"arrive"})," et une"," ",n.jsx("span",{className:`font-medium ${T}`,children:"date"})," pour voir les trajets disponibles."]})]}),n.jsxs("aside",{className:"space-y-4",children:[n.jsxs("div",{className:`rounded-2xl px-4 py-5 ${_}`,children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Tc,{size:18,className:k.iconColor}),n.jsx("h2",{className:`text-sm font-semibold uppercase tracking-wide ${k.sectionTitle}`,children:"Trajets favoris"})]}),n.jsx("p",{className:`text-xs ${k.cardText}`,children:"Prremplis la recherche avec tes itinraires frquents."})]}),n.jsx("div",{className:"mt-3 scroll-chips text-sm sm:flex sm:flex-wrap sm:gap-2",children:X.length>0?X.map((q,Pe)=>n.jsxs("button",{type:"button",onClick:()=>B(q),className:`shrink-0 rounded-xl px-4 py-2 transition ${C.inactive}`,children:[q.from,"  ",q.to]},`${q.from}-${q.to}-${Pe}`)):n.jsx("p",{className:`text-xs ${k.cardText}`,children:"Ajoute des favoris depuis tes prfrences pour les retrouver ici."})})]}),n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white px-4 py-5 shadow-sm",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Besoin de publier ?"}),n.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Utilise la page ddie pour crer un trajet en masse, ajuster tes places et prvenir les passagers."}),n.jsxs(me,{to:"/create",className:"mt-4 inline-flex items-center gap-2 text-sm text-sky-600",children:["Publier un trajet",n.jsx(vt,{size:14})]})]}),n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-gradient-to-br from-slate-900 to-slate-800 px-4 py-5 text-white shadow-lg",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-white/70",children:"Nouveaut"}),n.jsx("p",{className:"mt-2 text-sm text-white/90",children:"Consulter tes rservations confirmes, passes et  venir depuis un espace ddi."}),n.jsxs(me,{to:"/my-trips",className:"mt-4 inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1.5 text-xs font-semibold text-white hover:bg-white/20",children:['Ouvrir "Mes trajets"',n.jsx(vt,{size:14})]})]})]})]})})]})}function Vd({message:e,onDismiss:t,toneClass:s}){const r=s||"rounded-xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700 shadow-sm";return n.jsxs("div",{className:`${r} flex items-start gap-3`,children:[n.jsx(ss,{size:18,className:"mt-0.5 shrink-0"}),n.jsx("span",{className:"flex-1",children:e}),t&&n.jsx("button",{type:"button",onClick:t,className:"text-xs font-semibold text-inherit underline-offset-4 hover:underline",children:"OK"})]})}function L1(){var A;const e=it(),{lastSearch:t,results:s,setResults:r,setLoading:a,loading:l,error:i,setError:o,setSearch:c}=ne(),u=ne(N=>N.account),f=((A=u==null?void 0:u.homePreferences)==null?void 0:A.theme)??"default",d=(En[f]??En.default).chips,y=f==="night"?"text-slate-300":"text-slate-600",{contactDriver:v,contactingRideId:j,contactError:b,clearContactError:m}=px(),{execute:g,isPending:h}=mx(),k=p.useDeferredValue(s),C=p.useCallback(()=>({priceMax:t!=null&&t.priceMax?String(t.priceMax):"",departureAfter:(t==null?void 0:t.departureAfter)??"",departureBefore:(t==null?void 0:t.departureBefore)??"",seats:(t==null?void 0:t.seats)??1,sort:(t==null?void 0:t.sort)??"soonest"}),[t]),[L,_]=p.useState(()=>C());p.useEffect(()=>{_(C())},[C]);const w=p.useCallback(async N=>{if(!N)return;c(N),a(!0),o(void 0),(await g(N,{onSuccess:V=>r(V),onError:V=>o(V)})).aborted||a(!1)},[g,c,a,o,r]),T=p.useCallback(async()=>{t&&await w(t)},[t,w]);if(p.useEffect(()=>{T()},[T]),!t)return n.jsx("section",{className:"py-14",children:n.jsx("div",{className:"container-wide",children:n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white px-6 py-10 text-center shadow-sm",children:[n.jsx(bt,{className:"mx-auto mb-4 h-10 w-10 text-slate-400"}),n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:"Commence par dfinir ton trajet"}),n.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Choisis un point de dpart, une destination et une date depuis la page daccueil pour voir les rsultats dtaills ici."}),n.jsx(me,{to:"/",className:"mt-6 inline-flex items-center justify-center rounded-full bg-slate-900 px-5 py-2 text-sm font-semibold text-white",children:"Ouvrir la recherche"})]})})});const M=t.sort==="cheapest"?"Tri : moins cher":t.sort==="seats"?"Tri : plus de places":"Tri : plus tt",I=t.departureAfter||t.departureBefore,W=k.length>0,J=l||h,se=p.useMemo(()=>{const N=Number(L.priceMax);return{priceMax:L.priceMax&&Number.isFinite(N)&&N>0?Math.floor(N):void 0,departureAfter:L.departureAfter||void 0,departureBefore:L.departureBefore||void 0,seats:Math.max(1,L.seats||1),sort:L.sort}},[L]),X=p.useMemo(()=>t?se.priceMax!==(t.priceMax??void 0)||(se.departureAfter||void 0)!==(t.departureAfter??void 0)||(se.departureBefore||void 0)!==(t.departureBefore??void 0)||se.seats!==(t.seats??1)||se.sort!==(t.sort??"soonest"):!1,[t,se]),te=async()=>{if(!t)return;const N={...t,priceMax:se.priceMax,departureAfter:se.departureAfter,departureBefore:se.departureBefore,seats:se.seats,sort:se.sort};await w(N)},S=()=>{t&&_(C())},E=[{value:"soonest",label:"Dpart"},{value:"cheapest",label:"Moins cher"},{value:"seats",label:"Places"}];return n.jsx("section",{className:"py-8",children:n.jsxs("div",{className:"container-wide space-y-6",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white px-5 py-5 shadow-sm",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-[220px]",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Trajet demand"}),n.jsxs("p",{className:"text-lg font-semibold text-slate-900",children:[t.from,"  ",t.to]})]}),n.jsxs("button",{type:"button",onClick:()=>void T(),disabled:J,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-sky-200 hover:text-sky-600 disabled:opacity-50",children:[n.jsx(At,{size:14}),"Actualiser"]})]}),n.jsxs("div",{className:`mt-4 flex flex-wrap gap-2 text-xs ${y}`,children:[n.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 ${d.neutral}`,children:[n.jsx(bt,{size:12}),t.from,"  ",t.to]}),t.date&&n.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 ${d.neutral}`,children:[n.jsx(Nt,{size:12})," ",new Date(t.date).toLocaleDateString("fr-FR")]}),t.seats&&n.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 ${d.accent}`,children:[t.seats," sige(s)"]}),t.priceMax&&n.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 ${d.accent}`,children:["Budget  ",t.priceMax.toLocaleString("fr-FR")," XOF"]}),I&&n.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 ${d.neutral}`,children:[n.jsx(fy,{size:12}),t.departureAfter?`Aprs ${t.departureAfter}`:"",t.departureBefore?` avant ${t.departureBefore}`:""]}),n.jsx("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 ${d.neutral}`,children:M})]})]}),t&&n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white px-5 py-5 shadow-sm",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Ajuster en direct"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Modifie tri, budget ou horaires sans quitter la page."})]}),n.jsxs("button",{type:"button",onClick:S,disabled:!X,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-600 transition hover:border-slate-300 disabled:opacity-40",children:[n.jsx(Sy,{size:14})," Rinitialiser"]})]}),n.jsxs("form",{className:"mt-4 space-y-4",onSubmit:N=>{N.preventDefault(),te()},children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Priorit"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(N=>{const D=L.sort===N.value;return n.jsxs("button",{type:"button",onClick:()=>_(V=>({...V,sort:N.value})),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1.5 text-xs font-semibold transition ${D?"border-sky-200 bg-sky-50 text-sky-700":"border-slate-200 bg-white text-slate-600 hover:border-slate-300"}`,children:[n.jsx(fd,{size:12})," ",N.label]},N.value)})})]}),n.jsxs("div",{className:"grid gap-3 lg:grid-cols-[repeat(3,minmax(0,1fr))]",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Siges"}),n.jsx("input",{type:"number",min:1,max:10,value:L.seats,onChange:N=>_(D=>({...D,seats:Math.max(1,Number(N.currentTarget.value)||1)})),className:"h-12 w-full rounded-xl border border-slate-200 px-3 text-sm focus:border-sky-300 focus:ring-2 focus:ring-sky-100"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Budget max (XOF)"}),n.jsx("input",{type:"number",min:0,step:500,value:L.priceMax,onChange:N=>_(D=>({...D,priceMax:N.currentTarget.value})),className:"h-12 w-full rounded-xl border border-slate-200 px-3 text-sm focus:border-sky-300 focus:ring-2 focus:ring-sky-100",placeholder:"15000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Plage horaire"}),n.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[n.jsx("input",{type:"time",value:L.departureAfter,onChange:N=>_(D=>({...D,departureAfter:N.currentTarget.value})),className:"h-12 w-full rounded-xl border border-slate-200 px-3 text-sm focus:border-sky-300 focus:ring-2 focus:ring-sky-100"}),n.jsx("input",{type:"time",value:L.departureBefore,onChange:N=>_(D=>({...D,departureBefore:N.currentTarget.value})),className:"h-12 w-full rounded-xl border border-slate-200 px-3 text-sm focus:border-sky-300 focus:ring-2 focus:ring-sky-100"})]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("button",{type:"submit",disabled:!X||J,className:"inline-flex items-center gap-2 rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white transition hover:bg-slate-800 disabled:opacity-40",children:[n.jsx(fd,{size:14})," Appliquer"]}),n.jsx("p",{className:"text-xs text-slate-500",children:X?"Rafrachit les rsultats instantanment.":"Filtres appliqus."})]})]})]}),b&&n.jsx(qd,{message:b,tone:"warning",onDismiss:m}),J&&n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:[...Array(4)].map((N,D)=>n.jsx("div",{className:"h-40 rounded-2xl border border-slate-100 bg-slate-50 animate-pulse"},D))}),i&&!J&&n.jsx(qd,{message:i,tone:"error",onDismiss:()=>o(void 0)}),!J&&!i&&W&&n.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:k.map(N=>n.jsx(Am,{...N,onBook:()=>e(`/booking/${N.rideId}`),onDetails:()=>e(`/ride/${N.rideId}`),onContact:u!=null&&u.id&&N.driverId?()=>v(N):void 0,contactBusy:j===N.rideId,variant:"dark"},N.rideId))}),!J&&!i&&!W&&n.jsxs("div",{className:"rounded-3xl border border-dashed border-slate-200 bg-white px-6 py-10 text-center text-slate-600",children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"Aucun trajet trouv"}),n.jsx("p",{className:"mt-2 text-sm",children:"Ajuste tes filtres ou propose un trajet pour informer les passagers intresss."}),n.jsxs("div",{className:"mt-5 flex flex-wrap items-center justify-center gap-3 text-sm",children:[n.jsx(me,{to:"/",className:"rounded-full border border-slate-200 px-4 py-2 text-slate-600 hover:border-sky-200 hover:text-sky-600",children:"Affiner la recherche"}),n.jsx(me,{to:"/create",className:"rounded-full bg-slate-900 px-4 py-2 font-semibold text-white hover:bg-slate-800",children:"Publier un trajet"})]})]})]})})}function qd({message:e,tone:t="error",onDismiss:s}){const r={error:"border-rose-200 bg-rose-50 text-rose-700",warning:"border-amber-200 bg-amber-50 text-amber-800"};return n.jsxs("div",{className:`rounded-3xl border px-4 py-3 text-sm ${r[t]} flex items-start gap-3`,children:[n.jsx(ss,{size:16,className:"mt-0.5"}),n.jsx("span",{className:"flex-1",children:e}),s&&n.jsx("button",{type:"button",onClick:s,className:"text-xs font-semibold underline-offset-4 hover:underline",children:"OK"})]})}const xx=[{id:"loading",label:"Chargement du paiement scuris",duration:900},{id:"validation",label:"Validation auprs de la banque",duration:1200}];function T1(e=xx){return e.map(t=>({id:t.id,label:t.label,status:"pending"}))}function M1(e={}){const{onUpdate:t,signal:s,steps:r=xx}=e,a={cancelled:!1,timers:[],rejectors:[]};let l=-1,i=T1(r);const o=()=>{a.timers.forEach(y=>clearTimeout(y)),a.timers=[],a.rejectors.forEach(y=>y()),a.rejectors=[]},c=()=>{a.cancelled||(a.cancelled=!0,o())},u=y=>{a.timers=a.timers.filter(v=>v!==y)},f=y=>{a.rejectors=a.rejectors.filter(v=>v!==y)},x=y=>new Promise((v,j)=>{if(a.cancelled){j(new Error("cancelled"));return}const b=setTimeout(()=>{u(b),f(m),a.cancelled?j(new Error("cancelled")):v()},y),m=()=>{u(b),f(m),j(new Error("cancelled"))};a.timers.push(b),a.rejectors.push(m)});return s&&(s.aborted?c():s.addEventListener("abort",c)),t==null||t({index:l,steps:i}),{promise:(async()=>{for(let y=0;y<r.length;y+=1){if(a.cancelled)throw new Error("cancelled");if(l=y,i=i.map((v,j)=>j<y?{...v,status:"done"}:j===y?{...v,status:"active"}:{...v,status:"pending"}),t==null||t({index:l,steps:i}),await x(r[y].duration),a.cancelled)throw new Error("cancelled");i=i.map((v,j)=>j<=y?{...v,status:"done"}:v),t==null||t({index:l,steps:i})}})().catch(y=>{if((y==null?void 0:y.message)!=="cancelled")throw y}).finally(()=>{s&&s.removeEventListener("abort",c),o()}),cancel:c,getCurrentIndex:()=>l,getSnapshot:()=>i}}function _1(){var S,E;const{rideId:e}=Ac(),t=it(),{results:s,passengerId:r}=ne(),a=p.useMemo(()=>s.find(A=>A.rideId===e),[e,s]),[l,i]=p.useState(a),[o,c]=p.useState(!1),[u,f]=p.useState();p.useEffect(()=>{a&&i(a)},[a]),p.useEffect(()=>{if(a||!e)return;let A=!1;return(async()=>{try{c(!0);const N=await lx(e);if(!N||N.error)throw new Error("Trajet introuvable");const D={rideId:N.id,originCity:N.originCity,destinationCity:N.destinationCity,departureAt:N.departureAt,pricePerSeat:N.pricePerSeat,seatsTotal:N.seatsTotal,seatsAvailable:N.seatsAvailable,driverId:N.driverId,status:N.status};A||i(D)}catch(N){A||f((N==null?void 0:N.message)||"Trajet introuvable")}finally{A||c(!1)}})(),()=>{A=!0}},[a,e]);const[x,d]=p.useState(1);p.useEffect(()=>{l&&l.seatsAvailable>0&&x>l.seatsAvailable&&d(l.seatsAvailable)},[l==null?void 0:l.seatsAvailable]);const[y,v]=p.useState(!1),[j,b]=p.useState(),[m,g]=p.useState(),[h,k]=p.useState(),[C,L]=p.useState(!1),[_,w]=p.useState(),[T,M]=p.useState(),[I,H]=p.useState([]),W=p.useRef(null);if(p.useEffect(()=>()=>{var A;(A=W.current)==null||A.cancel(),W.current=null},[]),o&&!l)return n.jsx("div",{className:"glass p-6 rounded-2xl",children:"Chargement du trajet"});if(!l)return n.jsx("div",{className:"glass p-6 rounded-2xl text-red-200",children:u||"Trajet introuvable."});const J=l.seatsAvailable<=0,se=J?0:x*l.pricePerSeat;async function X(){var A;if(k(void 0),g(void 0),w(void 0),M(void 0),b(void 0),H([]),(A=W.current)==null||A.cancel(),W.current=null,l.seatsAvailable<=0){k("Plus aucune place disponible pour ce trajet");return}try{v(!0);const N=await Jb({rideId:l.rideId,passengerId:r,seats:x});b(N),g(`Rservation ${N.id} confirme (${N.amount} XOF).`);const D=Math.max(0,((l==null?void 0:l.seatsAvailable)??0)-x);i(V=>V&&{...V,seatsAvailable:D}),d(V=>D>0?Math.min(V,D):1),ne.setState(V=>({results:V.results.map(Q=>Q.rideId===l.rideId?{...Q,seatsAvailable:D}:Q)}))}catch(N){k((N==null?void 0:N.message)||"Erreur pendant la rservation")}finally{v(!1)}}async function te(){var N;if(!j)return;M(void 0),w(void 0),(N=W.current)==null||N.cancel();const A=M1({onUpdate:({steps:D})=>H(D)});W.current=A;try{L(!0),await Zb({bookingId:j.id,amount:j.amount,holdId:j.holdId??void 0}),await A.promise,w("Paiement confirm ")}catch(D){A.cancel(),await A.promise.catch(()=>{});const V=A.getCurrentIndex();H(Q=>Q.map((Y,oe)=>V<0?oe===0&&Q.length?{...Y,status:"error"}:Y:oe===V?{...Y,status:"error"}:oe>V?{...Y,status:"pending"}:Y)),M((D==null?void 0:D.message)||"chec du paiement")}finally{W.current=null,L(!1)}}return n.jsxs("div",{className:"glass p-6 rounded-2xl space-y-5",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-xl font-semibold text-white",children:[l.originCity,"  ",l.destinationCity]}),n.jsxs("div",{className:"text-white/60 text-sm",children:["Dpart ",new Date(l.departureAt).toLocaleString(),"  ",l.seatsAvailable," sige(s) dispo"]})]}),n.jsx("button",{className:"px-4 py-2 rounded-xl bg-white/10 hover:bg-white/15 text-xs",onClick:()=>t(`/ride/${l.rideId}`),children:"Voir les dtails"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-white/70",children:"Siges"}),n.jsx("input",{type:"number",min:1,max:Math.max(1,l.seatsAvailable),value:x,onChange:A=>{const N=Number(A.target.value||1);d(Math.min(Math.max(1,N),Math.max(1,l.seatsAvailable)))},className:"px-3 py-2 rounded-xl bg-white/5 border border-white/10 w-24"})]}),J&&n.jsx("div",{className:"text-sm text-amber-300 bg-amber-900/30 border border-amber-800 rounded-xl px-3 py-2",children:"Plus aucune place disponible pour ce trajet."}),n.jsxs("div",{className:"text-emerald-300 font-semibold text-lg",children:["Total: ",se.toLocaleString()," XOF"]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{disabled:y||J,onClick:X,className:"px-5 py-3 rounded-xl bg-emerald-600 hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Rservation":"Confirmer la rservation"}),n.jsx("button",{className:"px-4 py-3 rounded-xl bg-white/10 hover:bg-white/15",onClick:()=>t(-1),children:"Retour"})]}),h&&n.jsx("div",{className:"text-red-300",children:h}),m&&n.jsx("div",{className:"rounded-xl border border-emerald-500/40 bg-emerald-500/10 px-4 py-3 text-emerald-200",children:m}),j&&n.jsxs("div",{className:"space-y-3 border border-white/10 rounded-2xl p-4 bg-white/5",children:[n.jsxs("div",{className:"text-sm text-white/70",children:["Numro de rservation",n.jsx("span",{className:"text-white font-medium",children:j.id})]}),n.jsxs("div",{className:"text-sm text-white/70",children:["Montant confirm",n.jsxs("span",{className:"text-white font-medium",children:[((E=(S=j.amount)==null?void 0:S.toLocaleString)==null?void 0:E.call(S))??j.amount," XOF"]})]}),j.holdId&&n.jsxs("div",{className:"text-sm text-white/70",children:["Hold portefeuille",n.jsx("span",{className:"text-white font-medium",children:j.holdId})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{className:"px-4 py-2 rounded-xl bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",onClick:te,disabled:C||!!_,children:C?"Paiement":"Payer maintenant"}),_&&n.jsx("span",{className:"text-emerald-300 text-sm",children:_}),T&&n.jsx("span",{className:"text-red-300 text-sm",children:T})]}),I.length>0&&n.jsxs("div",{className:"mt-3 rounded-2xl border border-white/10 bg-white/5 p-4 space-y-2",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-white/50",children:"Simulation du paiement"}),n.jsx("div",{className:"space-y-2",children:I.map(A=>n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${A.status==="done"?"bg-emerald-400":A.status==="active"?"bg-amber-300 animate-pulse":A.status==="error"?"bg-red-400":"bg-white/30"}`}),n.jsx("span",{className:A.status==="error"?"text-red-300":A.status==="done"?"text-emerald-200":A.status==="active"?"text-white":"text-white/70",children:A.label})]},A.id))})]})]})]})}const Hd=(e,t)=>{if(!e||!t)return"";const[s,r,a]=e.split("-").map(Number),[l,i]=t.split(":").map(Number);return new Date(Date.UTC(s,r-1,a,l,i,0,0)).toISOString()};function I1(){const e=it(),t=ne(T=>T.setSearch),s=ne(T=>T.setResults),r=ne(T=>T.setLoading),a=ne(T=>T.setError),l=ne(T=>T.account),[i,o]=p.useState({originCity:"Abidjan",destinationCity:"Yamoussoukro",date:"",time:"",pricePerSeat:2e3,seatsTotal:3}),[c,u]=p.useState(!1),[f,x]=p.useState(null),d=p.useMemo(()=>new Date().toISOString().slice(0,10),[]),y=T=>{o(M=>({...M,...T}))},v=T=>!T.originCity.trim()||!T.destinationCity.trim()?"Prcise la ville de dpart et darrive.":!T.date||!T.time?"Choisis une date et une heure de dpart.":!Number.isFinite(T.pricePerSeat)||T.pricePerSeat<=0?"Le prix par sige doit tre suprieur  0.":!Number.isFinite(T.seatsTotal)||T.seatsTotal<=0?"Le nombre de siges doit tre positif.":Hd(T.date,T.time)?null:"Date ou heure invalide.",j=async T=>{T.preventDefault(),x(null);const M=v(i);if(M){x({type:"error",message:M});return}if(!(l!=null&&l.id)){x({type:"error",message:"Connecte-toi pour publier un trajet."});return}const I=Hd(i.date,i.time),H=Math.round(i.seatsTotal),W={originCity:i.originCity.trim(),destinationCity:i.destinationCity.trim(),departureAt:I,pricePerSeat:Math.round(i.pricePerSeat),seatsTotal:H,seatsAvailable:H,driverId:l.id,driverLabel:_,driverPhotoUrl:l.profilePhotoUrl??void 0};try{u(!0),await k1(W),x({type:"success",message:"Trajet publi avec succs !"}),t({from:W.originCity,to:W.destinationCity,date:i.date||void 0}),s([]),a(void 0),r(!0),e("/results")}catch(J){x({type:"error",message:(J==null?void 0:J.message)||"chec de la cration du trajet."})}finally{u(!1)}},b=(f==null?void 0:f.type)==="success"?"bg-emerald-50 border border-emerald-200 text-emerald-700":"bg-red-50 border border-red-200 text-red-700",m=i.date&&i.time?`${i.date}T${i.time}`:void 0,g=m?new Date(m).toLocaleString("fr-FR",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):"Date et heure  confirmer",h=`${i.originCity||"Dpart ?"}  ${i.destinationCity||"Arrive ?"}`,k=`${i.seatsTotal} sige(s)`,C=`${Number(i.pricePerSeat||0).toLocaleString("fr-FR")} XOF`,_=(T=>{if(!T)return;const M=T.trim();if(M)return M.split(/\s+/)[0]})((l==null?void 0:l.fullName)||(l==null?void 0:l.companyName)||(l==null?void 0:l.email))||"Profil KariGo",w=[{id:1,label:"Itinraire"},{id:2,label:"Logistique"},{id:3,label:"Publication"}];return n.jsx("div",{className:"bg-slate-950/5 py-8",children:n.jsxs("div",{className:"container-wide space-y-8",children:[n.jsxs("div",{className:"space-y-3 text-center md:text-left",children:[n.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-slate-900/5 px-3 py-1 text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:[n.jsx(Lc,{size:12}),"Publication express"]}),n.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Publier un trajet en quelques tapes"}),n.jsx("p",{className:"text-sm text-slate-600 max-w-3xl",children:"Dfinis litinraire, prcise les dtails logistiques puis confirme la publication. La fiche est instantanment disponible dans la recherche et partageable par les administrateurs."})]}),f&&n.jsx("div",{className:`px-4 py-3 rounded-xl text-sm ${b}`,children:f.message}),n.jsxs("div",{className:"grid gap-8 lg:grid-cols-[minmax(0,1fr),320px]",children:[n.jsxs("form",{className:"space-y-6",onSubmit:j,children:[n.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white px-5 py-6 shadow-sm",children:n.jsx("div",{className:"flex items-center gap-3",children:w.map((T,M)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full border border-slate-200 text-xs font-semibold text-slate-600",children:T.id}),n.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:T.label}),M<w.length-1&&n.jsx("span",{className:"hidden sm:block h-px w-8 bg-slate-200"})]},T.id))})}),n.jsxs("section",{className:"rounded-3xl border border-slate-200 bg-white px-5 py-6 shadow-sm space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"1. Dfinir litinraire"}),n.jsx("span",{className:"text-xs text-slate-500",children:"Choisis des villes connues"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsx(il,{label:"Dpart",placeholder:"Ville de dpart",value:i.originCity,onChange:T=>y({originCity:T}),onSelect:T=>y({originCity:T})}),n.jsx(il,{label:"Arrive",placeholder:"Ville darrive",value:i.destinationCity,onChange:T=>y({destinationCity:T}),onSelect:T=>y({destinationCity:T})})]})]}),n.jsxs("section",{className:"rounded-3xl border border-slate-200 bg-white px-5 py-6 shadow-sm space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"2. Planifier le dpart"}),n.jsxs("span",{className:"text-xs text-slate-500",children:["Date limite ",d]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Date"}),n.jsx("input",{type:"date",className:"input w-full",min:d,value:i.date,onChange:T=>y({date:T.currentTarget.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Heure"}),n.jsx("input",{type:"time",className:"input w-full",value:i.time,onChange:T=>y({time:T.currentTarget.value}),required:!0})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Prix par sige (XOF)"}),n.jsx("input",{type:"number",min:0,step:100,className:"input w-full",value:i.pricePerSeat,onChange:T=>y({pricePerSeat:Number(T.currentTarget.value||0)}),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Nombre de siges"}),n.jsx("input",{type:"number",min:1,max:7,className:"input w-full",value:i.seatsTotal,onChange:T=>{const M=Number(T.currentTarget.value||1);y({seatsTotal:Math.max(1,Math.min(7,M))})},required:!0})]})]})]}),n.jsxs("section",{className:"rounded-3xl border border-slate-200 bg-white px-5 py-6 shadow-sm space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"3. Publier et partager"}),n.jsx("span",{className:"text-xs text-slate-500",children:"Rsum automatique envoy aux admins"})]}),n.jsxs("ul",{className:"text-sm text-slate-600 space-y-2",children:[n.jsx("li",{children:" Le trajet sera index dans la recherche et visible en admin."}),n.jsx("li",{children:" Tu peux dupliquer ce formulaire pour planifier une tourne complte."}),n.jsxs("li",{children:[" Le trajet sera automatiquement associ  ton profil ",(l==null?void 0:l.fullName)??(l==null?void 0:l.companyName)??""," pour assurer la traabilit et les changes."]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-2",children:[n.jsx("button",{type:"submit",disabled:c,className:"btn-primary px-5 py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Publication":"Publier le trajet"}),n.jsx("button",{type:"button",onClick:()=>e(-1),className:"px-4 py-3 rounded-xl border border-slate-300 text-slate-700 hover:bg-slate-100",children:"Annuler"})]})]})]}),n.jsxs("aside",{className:"space-y-4",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white px-5 py-6 shadow-sm",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Aperu du trajet"}),n.jsxs("div",{className:"mt-4 space-y-3 text-sm text-slate-600",children:[n.jsxs("div",{className:"rounded-2xl bg-slate-50 px-4 py-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Itinraire"}),n.jsxs("p",{className:"font-semibold text-slate-900 flex items-center gap-2",children:[n.jsx(bt,{size:14,className:"text-sky-500"}),h]})]}),n.jsxs("div",{className:"rounded-2xl bg-slate-50 px-4 py-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Dpart prvu"}),n.jsxs("p",{className:"font-semibold text-slate-900 flex items-center gap-2",children:[n.jsx(Nt,{size:14,className:"text-slate-500"}),g]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"rounded-2xl bg-slate-50 px-4 py-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Places"}),n.jsxs("p",{className:"font-semibold text-slate-900 flex items-center gap-2",children:[n.jsx(Mc,{size:14}),k]})]}),n.jsxs("div",{className:"rounded-2xl bg-slate-50 px-4 py-3",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Prix"}),n.jsx("p",{className:"font-semibold text-slate-900",children:C})]})]}),n.jsxs("div",{className:"rounded-2xl border border-dashed border-slate-200 px-4 py-3 text-xs text-slate-500",children:["Chauffeur associ : ",n.jsx("span",{className:"font-semibold text-slate-900",children:_})]})]})]}),n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-gradient-to-br from-slate-900 to-slate-800 px-5 py-6 text-white shadow-lg",children:[n.jsx("p",{className:"text-sm font-semibold",children:"Besoin de suivre les rservations ?"}),n.jsx("p",{className:"mt-2 text-xs text-white/80",children:"Les admins peuvent, depuis la page ddie, envoyer la liste complte des trajets par email ou les fermer en un clic."}),n.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 text-xs font-semibold",children:["Accessible aprs publication",n.jsx(vt,{size:14})]})]})]})]})]})})}const hx="kari_pending_acquisitions_v1";function O1(e){if(!e)return{};try{const t=JSON.parse(e);if(t&&typeof t=="object")return t}catch{return{}}return{}}function Ml(){if(typeof window>"u")return{};try{return O1(window.localStorage.getItem(hx))}catch{return{}}}function Fc(e){if(!(typeof window>"u"))try{window.localStorage.setItem(hx,JSON.stringify(e))}catch{}}function Bc(e){if(!(typeof window>"u"||!e))try{window.dispatchEvent(new CustomEvent("kari:pendingAcquisitions",{detail:{ownerId:e}}))}catch{}}function D1(e){return e?Ml()[e]??[]:[]}function gx(e,t){if(!e)return;const s=Ml(),r=s[e]??[],a=t.id??`${t.rideId}:${t.driverId}`,l=t.createdAt??new Date().toISOString(),i={id:a,createdAt:l,...t},o=r.filter(c=>c.id!==a);s[e]=[i,...o].slice(0,25),Fc(s),Bc(e)}function z1(e,t){if(!e)return;const s=Ml(),r=s[e];r&&(s[e]=r.filter(a=>a.id!==t),Fc(s),Bc(e))}function $1(e,t){if(!e||!t.length)return;const s=Ml(),r=s[e];if(!r)return;const a=new Set(t),l=r.filter(i=>!a.has(i.rideId));l.length!==r.length&&(s[e]=l,Fc(s),Bc(e))}const F1=e=>{if(!e)return;const t=e.trim();if(t)return t.split(/\s+/)[0]};function B1(){const{rideId:e}=Ac(),t=it(),s=ne(S=>S.results.find(E=>E.rideId===e)),r=ne(S=>S.token),a=ne(S=>S.account),l=ne(S=>S.refreshMessageBadge),[i,o]=p.useState(s),[c,u]=p.useState(!1),[f,x]=p.useState(),[d,y]=p.useState(null),[v,j]=p.useState(!1),[b,m]=p.useState(),[g,h]=p.useState(""),[k,C]=p.useState(!1),[L,_]=p.useState();p.useEffect(()=>{s&&o(s)},[s]),p.useEffect(()=>{if(s||!e)return;let S=!1;return(async()=>{try{u(!0);const E=await lx(e);if(!E||E.error)throw new Error("Trajet introuvable");const A={rideId:E.id,originCity:E.originCity,destinationCity:E.destinationCity,departureAt:E.departureAt,pricePerSeat:E.pricePerSeat,seatsTotal:E.seatsTotal,seatsAvailable:E.seatsAvailable,driverId:E.driverId,status:E.status};S||o(A)}catch(E){S||x((E==null?void 0:E.message)||"Trajet introuvable")}finally{S||u(!1)}})(),()=>{S=!0}},[s,e]);const w=S=>S?/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(S):!1;p.useEffect(()=>{if(!(i!=null&&i.driverId)||!r)return;if(!w(i.driverId)){y(null),m("Profil chauffeur indisponible pour ce trajet."),j(!1);return}let S=!1;return(async()=>{try{j(!0),m(void 0);const E=await zc(i.driverId,r);S||y(E)}catch(E){S||m((E==null?void 0:E.message)||"Impossible de charger le chauffeur.")}finally{S||j(!1)}})(),()=>{S=!0}},[i==null?void 0:i.driverId,r]);const T=p.useMemo(()=>i?new Date(i.departureAt).toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"}):"",[i==null?void 0:i.departureAt]),M=p.useMemo(()=>{if(i)return{rideId:i.rideId,originCity:i.originCity,destinationCity:i.destinationCity,departureAt:i.departureAt}},[i]),I=!!(d&&(a!=null&&a.id)&&(d==null?void 0:d.id)!==(a==null?void 0:a.id)&&r),H=!!(d!=null&&d.id&&r);if(c&&!i)return n.jsx("div",{className:"glass p-6 rounded-2xl",children:"Chargement du trajet"});if(!i)return n.jsx("div",{className:"glass p-6 rounded-2xl text-red-200",children:f||"Trajet introuvable (reviens via la recherche)."});const W=()=>{!d||!I||t("/messages",{state:{contact:{id:d.id,type:d.type,label:d.fullName??d.companyName??d.email??"Chauffeur",email:d.email},rideContext:M??void 0}})},J=async()=>{var E,A;if(!d||!I||!a)return;const S=g.trim();if(!S){_("cris un petit message pour le chauffeur.");return}_(void 0),C(!0);try{await Co({senderId:a.id,senderType:a.type,senderLabel:a.fullName??a.companyName??a.email,recipientId:d.id,recipientType:d.type,recipientLabel:d.fullName??d.companyName??d.email,body:S}),gx(a.id??"guest",{rideId:i.rideId,driverId:d.id,driverType:d.type,driverLabel:d.fullName??d.companyName??d.email??"Chauffeur KariGo",originCity:i.originCity,destinationCity:i.destinationCity,departureAt:i.departureAt,pricePerSeat:i.pricePerSeat,lastMessagePreview:S.slice(0,140)}),h(""),await l(),t("/messages",{state:{contact:{id:d.id,type:d.type,label:d.fullName??d.companyName??d.email??"Chauffeur",email:d.email},rideContext:M??void 0}})}catch(N){_(((A=(E=N==null?void 0:N.response)==null?void 0:E.data)==null?void 0:A.message)||(N==null?void 0:N.message)||"Impossible denvoyer le message.")}finally{C(!1)}},se=(d==null?void 0:d.profilePhotoUrl)||void 0,X=F1((d==null?void 0:d.fullName)??(d==null?void 0:d.companyName)??(d==null?void 0:d.email))||"Chauffeur KariGo",te=()=>{!H||!(d!=null&&d.id)||t(`/profile/${d.id}`)};return n.jsxs("div",{className:"glass p-6 rounded-2xl space-y-6",children:[n.jsxs("header",{className:"space-y-2",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-900/60",children:[n.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1 text-xs uppercase tracking-wide",children:"Trajet partag"}),n.jsxs("span",{className:"inline-flex items-center gap-2 text-xs text-slate-900/60",children:[n.jsx(ts,{size:14})," ",T]}),n.jsxs("span",{className:"inline-flex items-center gap-2 text-xs text-slate-900/60",children:[n.jsx(Nt,{size:14})," ",i.seatsAvailable,"/",i.seatsTotal," siges"]}),n.jsxs("span",{className:"inline-flex items-center gap-2 text-xs text-slate-900/60 capitalize",children:[n.jsx(Mr,{size:14})," ",i.status.toLowerCase()]})]}),n.jsxs("h1",{className:"flex flex-wrap items-center gap-2 text-3xl font-semibold text-slate-900",children:[n.jsx(bt,{size:24,className:"text-emerald-300"}),n.jsx("span",{children:i.originCity}),n.jsx(vt,{size:22,className:"text-slate-900/50"}),n.jsx("span",{children:i.destinationCity})]})]}),n.jsxs("section",{className:"grid gap-4 lg:grid-cols-[minmax(0,1.4fr),minmax(0,1fr)]",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white/5 p-5 text-slate-900/80 space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-start gap-4",children:[n.jsx("button",{type:"button",onClick:H?te:void 0,className:`relative h-20 w-20 overflow-hidden rounded-2xl border border-slate-200 bg-slate-100 ${H?"cursor-pointer hover:opacity-90 transition":"cursor-default"}`,children:se?n.jsx("img",{src:se,alt:`Photo de ${X}`,className:"h-full w-full object-cover"}):n.jsx("div",{className:"flex h-full w-full items-center justify-center text-xs text-slate-900/70",children:"Photo"})}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-900/60",children:(d==null?void 0:d.type)==="COMPANY"?"Trajet pro":"Conducteur particulier"}),n.jsx("div",{className:"text-xl font-semibold text-slate-900",children:X}),(d==null?void 0:d.tagline)&&n.jsx("p",{className:"text-sm text-slate-900/70",children:d.tagline}),d&&n.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-slate-900/70",children:[d.email&&n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx(Sm,{size:12}),d.email]}),d.contactPhone&&n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx(Cm,{size:12}),d.contactPhone]})]})]}),n.jsxs("div",{className:"flex flex-col items-end gap-2",children:[I&&n.jsxs("button",{onClick:W,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-900/90 hover:bg-slate-100",children:["Ouvrir la messagerie",n.jsx(vt,{size:14})]}),H&&n.jsxs("button",{type:"button",onClick:te,className:"inline-flex items-center gap-2 text-xs font-semibold text-slate-700 hover:text-slate-900",children:["Voir le profil du chauffeur",n.jsx(vt,{size:14})]})]})]}),(d==null?void 0:d.comfortPreferences)&&d.comfortPreferences.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-slate-900/80",children:d.comfortPreferences.map(S=>n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-slate-200 bg-slate-100 px-3 py-1",children:[n.jsx(Tc,{size:11})," ",S]},S))}),I&&n.jsxs("div",{className:"mt-3 space-y-2",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-900/60",children:"Envoyer un message"}),n.jsx("textarea",{className:"input w-full min-h-[90px] bg-slate-100 text-sm text-slate-900 placeholder:text-slate-900/60",placeholder:`Bonjour ${X}, je suis intress par ce trajet...`,value:g,onChange:S=>h(S.currentTarget.value)}),L&&n.jsx("div",{className:"text-xs text-rose-200",children:L}),n.jsx("button",{onClick:J,disabled:k,className:"btn-primary h-10 px-4 text-sm font-semibold disabled:opacity-60",children:k?"Envoi en cours":"Envoyer"})]})]}),n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white/5 p-5 text-slate-900/80 space-y-4",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-900/60",children:"Dtails du trajet"}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(bt,{size:16,className:"text-emerald-300"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase text-slate-900/50",children:"Dpart"}),n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:i.originCity})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(bt,{size:16,className:"text-emerald-300"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase text-slate-900/50",children:"Arrive"}),n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:i.destinationCity})]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-900/70",children:[n.jsx(Nt,{size:16,className:"text-emerald-300"}),n.jsx("span",{children:T})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-900/70",children:[n.jsx(Mr,{size:16,className:"text-emerald-300"}),n.jsxs("span",{children:[i.seatsAvailable,"/",i.seatsTotal," siges disponibles"]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-emerald-300 text-2xl font-bold",children:[i.pricePerSeat.toLocaleString()," XOF",n.jsx("span",{className:"text-base text-slate-900/60",children:"/ sige"})]})]}),n.jsx("button",{onClick:()=>t(`/booking/${i.rideId}`),className:"w-full rounded-xl bg-emerald-500 px-4 py-3 text-center text-sm font-semibold text-slate-900 transition hover:bg-emerald-400",children:"Rserver ce trajet"}),I&&n.jsx("button",{onClick:W,className:"w-full rounded-xl border border-slate-200 px-4 py-3 text-center text-sm font-semibold text-slate-900 transition hover:bg-slate-100",children:"crire au conducteur"})]})]}),v&&n.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-100 px-4 py-3 text-sm text-slate-900/80",children:"Chargement des informations du conducteur"}),b&&n.jsx("div",{className:"rounded-xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:b}),n.jsx("button",{onClick:()=>t(-1),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-900/80 hover:bg-slate-100",children:"Retour"})]})}function yx(e){var t,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=yx(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function gs(){for(var e,t,s=0,r="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=yx(e))&&(r&&(r+=" "),r+=t);return r}function vx({className:e,compact:t}){return n.jsxs("span",{className:gs("inline-flex items-center gap-2 font-black tracking-tight text-slate-900",e),"aria-label":"KariGo",children:[n.jsx("span",{className:"grid h-9 w-9 place-items-center rounded-xl bg-gradient-to-br from-sky-500 to-cyan-600 text-white shadow-lg shadow-sky-500/40",children:n.jsxs("svg",{"aria-hidden":!0,viewBox:"0 0 32 32",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 20.5v-4c0-3 2.4-5.4 5.4-5.5l10-.3c3-.1 5.6 2.3 5.6 5.3v4.5M6.5 22h-2a2 2 0 0 0-2 2v2h5M25.5 22h2a2 2 0 0 1 2 2v2h-5"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 14.5h1m4 0h1m4 0h1M8 20.5h6m12.5 3a3 3 0 1 1-6 0m-9 0a3 3 0 1 1-6 0"})]})}),!t&&n.jsxs("span",{className:"text-xl sm:text-2xl",children:["Kari",n.jsx("span",{className:"text-sky-600",children:"Go"})]})]})}function _l({title:e,subtitle:t,hero:s,footer:r,children:a}){const l=p.useId();return n.jsx("main",{className:"auth-shell",role:"main","aria-labelledby":l,children:n.jsxs("section",{className:"auth-panel",children:[n.jsx("aside",{className:"auth-panel__hero",children:s}),n.jsxs("div",{className:"auth-panel__content",children:[n.jsxs("header",{className:"auth-panel__header",children:[n.jsx(vx,{}),n.jsxs("div",{className:"auth-panel__heading",id:l,children:[n.jsx("h1",{children:e}),t&&n.jsx("p",{children:t})]})]}),n.jsx("section",{className:"auth-panel__body",children:a}),r&&n.jsx("footer",{className:"auth-panel__footer",children:r})]})]})})}function pr({className:e}){return n.jsxs("svg",{viewBox:"0 0 512 512",role:"img","aria-label":"Logo Gmail",className:gs("h-8 w-8",e),children:[n.jsx("path",{fill:"#fbbc04",d:"M64 128h64v256H64z"}),n.jsx("path",{fill:"#34a853",d:"M448 128v256h-64V180z"}),n.jsx("path",{fill:"#ea4335",d:"M448 128H64l192 160z"}),n.jsx("path",{fill:"#4285f4",d:"M128 384V180l128 108 128-108v204z"})]})}function U1(){const e=it(),t=ne(N=>N.token),s=ne(N=>N.authReady),r=ne(N=>N.authLoading),a=ne(N=>N.initializeAuth),l=ne(N=>N.setSession),i=ne(N=>N.clearSession),o=ne(N=>N.authError),[c,u]=p.useState("password"),[f,x]=p.useState(""),[d,y]=p.useState(""),[v,j]=p.useState(!1),[b,m]=p.useState(),[g,h]=p.useState("email"),[k,C]=p.useState(""),[L,_]=p.useState(""),[w,T]=p.useState(!1),[M,I]=p.useState(!1),[H,W]=p.useState(),J=N=>N.replace(/\D+/g,"").slice(0,8);p.useEffect(()=>{s||a()},[s,a]),p.useEffect(()=>{t&&s&&e("/",{replace:!0})},[t,s,e]);const se=()=>{h("email"),C(""),_(""),T(!1),I(!1),W(void 0),m(void 0)},X=async N=>{var D,V;if(N.preventDefault(),m(void 0),!f||!d){m("Renseigne email et mot de passe.");return}try{j(!0);const Q=await d1({email:f,password:d});l(Q.token,Q.account),e("/",{replace:!0})}catch(Q){const Y=(V=(D=Q==null?void 0:Q.response)==null?void 0:D.data)==null?void 0:V.message;m(Y==="account_suspended"?"Ton compte est suspendu. Contacte un administrateur.":Y||(Q==null?void 0:Q.message)||"Connexion impossible."),i()}finally{j(!1)}},te=async N=>{var V,Q;N.preventDefault(),m(void 0),W(void 0);const D=k.trim().toLowerCase();if(!D.endsWith("@gmail.com")){m("Utilise une adresse Gmail.");return}try{T(!0),await ox({email:D}),h("code"),W("Code envoy. Vrifie Gmail ou tes spams.")}catch(Y){m(((Q=(V=Y==null?void 0:Y.response)==null?void 0:V.data)==null?void 0:Q.message)||(Y==null?void 0:Y.message)||"Impossible denvoyer le code.")}finally{T(!1)}},S=async N=>{var V,Q;N.preventDefault(),m(void 0),W(void 0);const D=J(L);if(!D){m("Entre le code reu par email.");return}try{I(!0);const Y=await cx({email:k.trim().toLowerCase(),code:D});l(Y.token,Y.account),e("/",{replace:!0})}catch(Y){const oe=(Q=(V=Y==null?void 0:Y.response)==null?void 0:V.data)==null?void 0:Q.message;m(oe==="account_suspended"?"Ton compte est suspendu. Contacte un administrateur.":oe||(Y==null?void 0:Y.message)||"Code invalide.")}finally{I(!1)}},E=!s||r,A=p.useMemo(()=>n.jsxs("div",{className:"space-y-6","aria-hidden":"true",children:[n.jsxs("span",{className:"auth-panel__badge",children:[n.jsx(al,{size:16}),"Connexion scurise"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h2",{className:"text-3xl font-semibold tracking-tight leading-tight",children:"Connecte-toi en quelques secondes"}),n.jsx("p",{className:"text-sm leading-relaxed text-white/85",children:"Choisis un mot de passe ou reois un code Gmail pour accder  KariGo."})]}),n.jsxs("ul",{className:"auth-panel__list text-white/90",children:[n.jsxs("li",{children:[n.jsx("span",{className:"icon text-white",style:{background:"rgba(15,23,42,.18)"},children:n.jsx(pr,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"Code Gmail express"}),n.jsx("p",{className:"text-sm text-white/80",children:"Un code  usage unique, sans mot de passe."})]})]}),n.jsxs("li",{children:[n.jsx("span",{className:"icon text-white",style:{background:"rgba(15,23,42,.18)"},children:n.jsx(Tr,{size:18})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"Alertes instantanes"}),n.jsx("p",{className:"text-sm text-white/80",children:"Notifications de rservation ds quelles arrivent."})]})]})]})]}),[]);return n.jsxs(_l,{title:"Connexion",subtitle:"Accde  ton interface conducteur ou passager.",hero:A,footer:n.jsxs(n.Fragment,{children:["Pas encore de compte ?"," ",n.jsx(me,{to:"/register",className:"text-sky-600 font-semibold",children:"Inscription"})]}),children:[n.jsxs("div",{className:"card highlight p-5 sm:p-6 lg:p-8 space-y-6 sm:space-y-7",children:[n.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3 bg-slate-100/80 p-1.5 sm:p-2 rounded-2xl text-sm",role:"tablist","aria-label":"Modes de connexion",children:[n.jsxs("button",{className:gs("w-full sm:flex-1 rounded-xl px-4 py-2 flex items-center justify-center gap-2 transition text-center",c==="password"?"bg-white shadow-sm shadow-sky-100/60 text-slate-900":"text-slate-500 hover:text-slate-700"),onClick:()=>{u("password"),m(void 0)},type:"button",role:"tab","aria-selected":c==="password","aria-controls":"login-password-panel",id:"login-password-tab",children:[n.jsx(km,{size:16,className:c==="password"?"text-sky-500":"text-slate-400 transition"}),n.jsx("span",{className:"font-medium",children:"Mot de passe"})]}),n.jsxs("button",{className:gs("w-full sm:flex-1 rounded-xl px-4 py-2 flex items-center justify-center gap-2 transition text-center",c==="gmail"?"bg-white shadow-sm shadow-sky-100/60 text-slate-900":"text-slate-500 hover:text-slate-700"),onClick:()=>{u("gmail"),se()},type:"button",role:"tab","aria-selected":c==="gmail","aria-controls":"login-gmail-panel",id:"login-gmail-tab",children:[n.jsx(pr,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Code Gmail"})]})]}),c==="password"&&n.jsxs("form",{onSubmit:X,className:"space-y-5 sm:space-y-6",id:"login-password-panel",role:"tabpanel","aria-labelledby":"login-password-tab",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Email"}),n.jsx("input",{type:"email",className:"input w-full",value:f,onChange:N=>x(N.currentTarget.value),placeholder:"utilisateur@karigo.ci",required:!0})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Mot de passe"}),n.jsx("input",{type:"password",className:"input w-full",value:d,onChange:N=>y(N.currentTarget.value),placeholder:"",required:!0}),n.jsx("div",{className:"text-right",children:n.jsx(me,{to:"/forgot-password",className:"text-xs font-semibold text-sky-600 hover:text-sky-700",children:"Mot de passe oubli ?"})})]}),(b||o)&&n.jsxs("div",{className:"flex items-start gap-2 rounded-2xl border border-red-200 bg-red-50/90 px-4 py-3 text-sm text-red-600",role:"alert","aria-live":"polite",children:[n.jsx(ss,{size:18,className:"mt-0.5 shrink-0"}),n.jsx("span",{children:b||o})]}),n.jsx("button",{type:"submit",disabled:v||E,className:"btn-primary w-full h-11 disabled:opacity-60 disabled:cursor-not-allowed",children:v||E?"Connexion":"Se connecter"})]}),c==="gmail"&&n.jsxs("div",{className:"space-y-5 sm:space-y-6",id:"login-gmail-panel",role:"tabpanel","aria-labelledby":"login-gmail-tab",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-600",children:[n.jsx(pr,{className:"h-6 w-6 shrink-0"}),n.jsx("p",{children:"Entre ton adresse Gmail pour recevoir un code unique valable quelques minutes."})]}),g==="email"&&n.jsxs("form",{className:"space-y-4 sm:space-y-5",onSubmit:te,children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Adresse Gmail"}),n.jsx("input",{type:"email",className:"input w-full",value:k,onChange:N=>C(N.currentTarget.value),placeholder:"tonadresse@gmail.com",required:!0})]}),(b||o)&&n.jsxs("div",{className:"flex items-start gap-2 rounded-2xl border border-red-200 bg-red-50/90 px-4 py-3 text-sm text-red-600",role:"alert","aria-live":"polite",children:[n.jsx(ss,{size:18,className:"mt-0.5 shrink-0"}),n.jsx("span",{children:b||o})]}),n.jsx("button",{type:"submit",disabled:w||E,className:"btn-primary w-full h-11 disabled:opacity-60 disabled:cursor-not-allowed",children:w||E?"Envoi":"Envoyer un code"})]}),g==="code"&&n.jsxs("form",{className:"space-y-4 sm:space-y-5",onSubmit:S,children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-slate-600",children:["Code reu sur ",k]}),n.jsx("input",{type:"text",className:"input w-full text-center tracking-widest text-lg",value:L,onChange:N=>_(J(N.currentTarget.value)),maxLength:8,autoComplete:"one-time-code",required:!0})]}),(b||o)&&n.jsxs("div",{className:"flex items-start gap-2 rounded-2xl border border-red-200 bg-red-50/90 px-4 py-3 text-sm text-red-600",children:[n.jsx(ss,{size:18,className:"mt-0.5 shrink-0"}),n.jsx("span",{children:b||o})]}),H&&n.jsxs("div",{className:"flex items-start gap-3 rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-600",children:[n.jsx(Tr,{size:18,className:"mt-0.5 shrink-0 text-sky-600"}),n.jsx("span",{children:H})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsx("button",{type:"submit",disabled:M||E,className:"btn-primary flex-1 h-11 disabled:opacity-60 disabled:cursor-not-allowed",children:M||E?"Vrification":"Valider le code"}),n.jsx("button",{type:"button",className:"px-4 py-2 rounded-xl border border-slate-300 text-slate-600 hover:bg-slate-100 text-xs font-medium",onClick:()=>{h("email"),_(""),W(void 0),m(void 0)},children:"Changer demail"})]})]})]})]}),n.jsxs("div",{className:"mt-4 text-center text-xs text-slate-500",children:["Juste curieux ?"," ",n.jsx(me,{to:"/",className:"font-semibold text-sky-600",children:"Continuer en visiteur"})]})]})}function V1(){const e=it(),t=ne(G=>G.token),s=ne(G=>G.authReady),r=ne(G=>G.authLoading),a=ne(G=>G.initializeAuth),l=ne(G=>G.setSession),i=ne(G=>G.clearSession),[o,c]=p.useState("password"),[u,f]=p.useState("individual"),[x,d]=p.useState(""),[y,v]=p.useState(""),[j,b]=p.useState(""),[m,g]=p.useState(""),[h,k]=p.useState(""),[C,L]=p.useState(""),[_,w]=p.useState(""),[T,M]=p.useState(""),[I,H]=p.useState(""),[W,J]=p.useState(""),[se,X]=p.useState(!1),[te,S]=p.useState("email"),[E,A]=p.useState(""),[N,D]=p.useState(""),[V,Q]=p.useState(!1),[Y,oe]=p.useState(!1),[de,Oe]=p.useState(),[B,R]=p.useState(),K=G=>G.replace(/\D+/g,"").slice(0,8),z=()=>[j.trim(),m.trim()].filter(Boolean).join(" ");p.useEffect(()=>{s||a()},[s,a]),p.useEffect(()=>{t&&s&&e("/",{replace:!0})},[t,s,e]),p.useEffect(()=>{u==="company"&&o==="gmail"&&c("password")},[u,o]);const P=()=>{S("email"),A(""),D(""),Q(!1),oe(!1),Oe(void 0),R(void 0)},Z=async G=>{var Ue,_e;if(G.preventDefault(),R(void 0),!x||!y){R("Renseigne un email et un mot de passe.");return}try{if(X(!0),u==="individual"){if(!j.trim()||!m.trim()){R("Renseigne ton prnom et ton nom."),X(!1);return}const fe=z(),ge=h?h.split(",").map(os=>os.trim()).filter(Boolean):void 0,Ae=await c1({email:x,password:y,fullName:fe,comfortPreferences:ge,tagline:C||void 0});l(Ae.token,Ae.account)}else{if(!_.trim()){R("Renseigne le nom de la compagnie."),X(!1);return}const fe=await u1({email:x,password:y,companyName:_,registrationNumber:T||void 0,contactName:I||void 0,contactPhone:W||void 0});l(fe.token,fe.account)}e("/",{replace:!0})}catch(fe){R(((_e=(Ue=fe==null?void 0:fe.response)==null?void 0:Ue.data)==null?void 0:_e.message)||(fe==null?void 0:fe.message)||"Inscription impossible."),i()}finally{X(!1)}},ie=async G=>{var _e,fe;if(G.preventDefault(),R(void 0),Oe(void 0),u==="individual"&&(!j.trim()||!m.trim())){R("Ajoute ton prnom et ton nom avant de continuer.");return}const Ue=E.trim().toLowerCase();if(!Ue.endsWith("@gmail.com")){R("Utilise une adresse Gmail valide.");return}try{Q(!0),await ox({email:Ue}),S("code"),Oe("Code envoy sur ta bote Gmail.")}catch(ge){R(((fe=(_e=ge==null?void 0:ge.response)==null?void 0:_e.data)==null?void 0:fe.message)||(ge==null?void 0:ge.message)||"Impossible denvoyer le code.")}finally{Q(!1)}},le=async G=>{var _e,fe;G.preventDefault(),R(void 0),Oe(void 0);const Ue=K(N);if(!Ue){R("Entre le code reu par email.");return}try{oe(!0);const ge=await cx({email:E.trim().toLowerCase(),code:Ue});let Ae=ge.account;if(u==="individual"){const os=z();if(os)try{Ae=await ux(ge.token,{fullName:os})}catch($){console.warn("Impossible de mettre  jour le profil aprs lOTP :",$)}}l(ge.token,Ae),e("/",{replace:!0})}catch(ge){R(((fe=(_e=ge==null?void 0:ge.response)==null?void 0:_e.data)==null?void 0:fe.message)||(ge==null?void 0:ge.message)||"Code invalide.")}finally{oe(!1)}},we=!s||r,q=G=>G?n.jsxs("div",{className:"flex items-start gap-2 rounded-2xl border border-red-200 bg-red-50/90 px-4 py-3 text-sm text-red-600",children:[n.jsx(ss,{size:18,className:"mt-0.5 shrink-0"}),n.jsx("span",{children:G})]}):null,Pe=p.useMemo(()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("span",{className:"auth-panel__badge",children:[n.jsx(Lc,{size:16}),"Onboarding express"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h2",{className:"text-3xl font-semibold tracking-tight leading-tight",children:"Construis un profil qui inspire confiance"}),n.jsx("p",{className:"text-sm leading-relaxed text-white/85",children:"KariGo taccompagne de linscription  la mise en relation avec des passagers ou chauffeurs fiables. Un parcours unique pour les voyageurs comme pour les compagnies."})]}),n.jsxs("ul",{className:"auth-panel__list text-white/90",children:[n.jsxs("li",{children:[n.jsx("span",{className:"icon text-white",style:{background:"rgba(15,23,42,.2)"},children:n.jsx(vo,{size:18})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"Profil voyageur"}),n.jsx("p",{className:"text-sm text-white/80",children:"Personnalise ton exprience, partage tes prfrences de confort et rserve en toute srnit."})]})]}),n.jsxs("li",{children:[n.jsx("span",{className:"icon text-white",style:{background:"rgba(15,23,42,.2)"},children:n.jsx(od,{size:18})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"Compte compagnie"}),n.jsx("p",{className:"text-sm text-white/80",children:"Centralise ton quipe, publie des trajets rguliers et offre un suivi premium  tes passagers."})]})]}),n.jsxs("li",{children:[n.jsx("span",{className:"icon text-white",style:{background:"rgba(15,23,42,.2)"},children:n.jsx(al,{size:18})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"Scurit intgre"}),n.jsx("p",{className:"text-sm text-white/80",children:"Mot de passe robuste ou code Gmail  usage unique: choisis la mthode adapte  ton organisation."})]})]})]})]}),[]);return n.jsx(_l,{title:"Crer un compte",subtitle:"Slectionne ton profil et choisis la mthode qui correspond  ton organisation.",hero:Pe,footer:n.jsxs(n.Fragment,{children:["Dj inscrit ?"," ",n.jsx(me,{to:"/login",className:"text-sky-600 font-semibold",children:"Connexion"})]}),children:n.jsxs("div",{className:"card highlight p-6 space-y-6",children:[n.jsxs("div",{className:"grid gap-5 lg:grid-cols-2",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Type de profil"}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 bg-slate-100/80 p-1.5 rounded-2xl text-sm",children:[n.jsxs("button",{className:gs("flex-1 basis-32 rounded-xl px-4 py-2 flex items-center justify-center gap-2 transition",u==="individual"?"bg-white shadow-sm shadow-sky-100/60 text-slate-900":"text-slate-500 hover:text-slate-700"),onClick:()=>{f("individual"),R(void 0)},type:"button",children:[n.jsx(vo,{size:18,className:u==="individual"?"text-sky-500":"text-slate-400 transition"}),n.jsx("span",{className:"font-medium",children:"Voyageur"})]}),n.jsxs("button",{className:gs("flex-1 basis-32 rounded-xl px-4 py-2 flex items-center justify-center gap-2 transition",u==="company"?"bg-white shadow-sm shadow-sky-100/60 text-slate-900":"text-slate-500 hover:text-slate-700"),onClick:()=>{f("company"),R(void 0)},type:"button",children:[n.jsx(od,{size:18,className:u==="company"?"text-sky-500":"text-slate-400 transition"}),n.jsx("span",{className:"font-medium",children:"Compagnie"})]})]}),n.jsx("p",{className:"text-xs text-slate-500",children:u==="individual"?"Parfait pour planifier tes trajets personnels, dfinir des prfrences et suivre tes rservations.":"Pens pour les quipes et flottes professionnelles qui souhaitent grer plusieurs trajets."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Mthode dinscription"}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 bg-slate-100/80 p-1.5 rounded-2xl text-sm",children:[n.jsxs("button",{className:gs("flex-1 basis-32 rounded-xl px-4 py-2 flex items-center justify-center gap-2 transition",o==="password"?"bg-white shadow-sm shadow-sky-100/60 text-slate-900":"text-slate-500 hover:text-slate-700"),onClick:()=>{c("password"),P()},type:"button",children:[n.jsx(al,{size:18,className:o==="password"?"text-sky-500":"text-slate-400 transition"}),n.jsx("span",{className:"font-medium",children:"Mot de passe"})]}),n.jsxs("button",{className:gs("flex-1 basis-32 rounded-xl px-4 py-2 flex items-center justify-center gap-2 transition",o==="gmail"?"bg-white shadow-sm shadow-sky-100/60 text-slate-900":"text-slate-500 hover:text-slate-700"),onClick:()=>{c("gmail"),P()},type:"button",children:[n.jsx(pr,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Gmail + OTP"})]})]}),n.jsx("p",{className:"text-xs text-slate-500",children:o==="password"?"Cre un mot de passe que tu pourras modifier  tout moment dans ton espace compte.":"Nous envoyons un code unique sur ton adresse Gmail pour valider la cration sans mot de passe."})]})]}),o==="password"?n.jsxs("form",{onSubmit:Z,className:"space-y-5",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Email"}),n.jsx("input",{type:"email",className:"input w-full",value:x,onChange:G=>d(G.currentTarget.value),placeholder:"contact@karigo.ci",required:!0})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Mot de passe"}),n.jsx("input",{type:"password",className:"input w-full",value:y,onChange:G=>v(G.currentTarget.value),placeholder:"",required:!0})]})]}),u==="individual"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Prnom"}),n.jsx("input",{type:"text",className:"input w-full",value:j,onChange:G=>b(G.currentTarget.value),placeholder:"Prnom",required:!0})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Nom"}),n.jsx("input",{type:"text",className:"input w-full",value:m,onChange:G=>g(G.currentTarget.value),placeholder:"Nom",required:!0})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Phrase daccroche (optionnel)"}),n.jsx("input",{type:"text",className:"input w-full",value:C,onChange:G=>L(G.currentTarget.value),placeholder:"Toujours  lheure, trajet confortable garanti"}),n.jsx("p",{className:"text-xs text-slate-400",children:"Optionnel  visible sur ton profil quand tu proposes un trajet."})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Prfrences de confort (spares par des virgules)"}),n.jsx("input",{type:"text",className:"input w-full",value:h,onChange:G=>k(G.currentTarget.value),placeholder:"Climatisation, musique douce, bouteille deau"}),n.jsx("p",{className:"text-xs text-slate-400",children:"Exemple: Climatisation, Wi-Fi, Snacks."})]})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Nom de la compagnie"}),n.jsx("input",{type:"text",className:"input w-full",value:_,onChange:G=>w(G.currentTarget.value),placeholder:"KariGo Transports",required:!0})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Numro dimmatriculation (optionnel)"}),n.jsx("input",{type:"text",className:"input w-full",value:T,onChange:G=>M(G.currentTarget.value),placeholder:"RC-123456"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Contact principal (optionnel)"}),n.jsx("input",{type:"text",className:"input w-full",value:I,onChange:G=>H(G.currentTarget.value),placeholder:"Responsable flotte"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Tlphone du contact (optionnel)"}),n.jsx("input",{type:"tel",className:"input w-full",value:W,onChange:G=>J(G.currentTarget.value),placeholder:"+225 01 23 45 67 89"})]})]})]}),q(B),n.jsx("button",{type:"submit",disabled:se||we,className:"btn-primary w-full h-11 disabled:opacity-60 disabled:cursor-not-allowed",children:se||we?"Cration":"Crer le compte"})]}):n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{className:"flex items-start gap-3 rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-600",children:[n.jsx(pr,{className:"h-6 w-6 shrink-0"}),n.jsx("p",{children:"Renseigne une adresse Gmail pour recevoir un code unique. Aprs validation, ton compte KariGo est cr et tu pourras complter les informations manquantes dans ton espace profil."})]}),u==="individual"&&n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Prnom"}),n.jsx("input",{type:"text",className:"input w-full",value:j,onChange:G=>b(G.currentTarget.value),placeholder:"Prnom",required:!0})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Nom"}),n.jsx("input",{type:"text",className:"input w-full",value:m,onChange:G=>g(G.currentTarget.value),placeholder:"Nom",required:!0})]})]}),te==="email"?n.jsxs("form",{className:"space-y-4",onSubmit:ie,children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Adresse Gmail"}),n.jsx("input",{type:"email",className:"input w-full",value:E,onChange:G=>A(G.currentTarget.value),placeholder:"tonadresse@gmail.com",required:!0})]}),q(B),n.jsx("button",{type:"submit",disabled:V||we,className:"btn-primary w-full h-11 disabled:opacity-60 disabled:cursor-not-allowed",children:V||we?"Envoi":"Recevoir un code"})]}):n.jsxs("form",{className:"space-y-4",onSubmit:le,children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-slate-600",children:["Code reu sur ",E]}),n.jsx("input",{type:"text",className:"input w-full text-center tracking-widest text-lg",value:N,onChange:G=>D(K(G.currentTarget.value)),maxLength:8,autoComplete:"one-time-code",required:!0})]}),q(B),de&&n.jsxs("div",{className:"flex items-start gap-3 rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-600",children:[n.jsx(Tr,{size:18,className:"mt-0.5 shrink-0 text-sky-600"}),n.jsx("span",{children:de})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsx("button",{type:"submit",disabled:Y||we,className:"btn-primary flex-1 h-11 disabled:opacity-60 disabled:cursor-not-allowed",children:Y||we?"Vrification":"Valider le code"}),n.jsx("button",{type:"button",className:"px-4 py-2 rounded-xl border border-slate-300 text-slate-600 hover:bg-slate-100 text-xs font-medium",onClick:()=>{S("email"),D(""),Oe(void 0),R(void 0)},children:"Changer demail"})]})]})]})]})})}function q1(){const e=ne(d=>d.authReady),t=ne(d=>d.initializeAuth);p.useEffect(()=>{e||t()},[e,t]);const[s,r]=p.useState(""),[a,l]=p.useState(!1),[i,o]=p.useState(),[c,u]=p.useState(),f=async d=>{var v,j;d.preventDefault(),u(void 0),o(void 0);const y=s.trim().toLowerCase();if(!y){u("Indique ton adresse email.");return}try{l(!0),await p1({email:y}),o("Si un compte est associ  cette adresse, un lien de rinitialisation vient de ttre envoy.")}catch(b){u(((j=(v=b==null?void 0:b.response)==null?void 0:v.data)==null?void 0:j.message)||(b==null?void 0:b.message)||"Impossible denvoyer lemail.")}finally{l(!1)}},x=p.useMemo(()=>n.jsxs("div",{className:"space-y-6","aria-hidden":"true",children:[n.jsxs("span",{className:"auth-panel__badge",children:[n.jsx(Ay,{size:16}),"Assistance scurit"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h2",{className:"text-3xl font-semibold tracking-tight leading-tight",children:"Mot de passe oubli ?"}),n.jsx("p",{className:"text-sm leading-relaxed text-white/85",children:"Reois un lien scuris pour choisir un nouveau mot de passe KariGo."})]}),n.jsxs("ul",{className:"auth-panel__list text-white/90",children:[n.jsxs("li",{children:[n.jsx("span",{className:"icon text-white",style:{background:"rgba(15,23,42,.18)"},children:n.jsx(Tr,{size:18})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"Lien valable quelques minutes"}),n.jsx("p",{className:"text-sm text-white/80",children:"Il suffit douvrir lemail pour continuer."})]})]}),n.jsxs("li",{children:[n.jsx("span",{className:"icon text-white",style:{background:"rgba(15,23,42,.18)"},children:n.jsx(ss,{size:18})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"Aucun risque"}),n.jsx("p",{className:"text-sm text-white/80",children:"Ignore lemail si tu nes pas  lorigine."})]})]})]})]}),[]);return n.jsx(_l,{title:"Rinitialisation",subtitle:"On va taider  retrouver laccs  ton compte.",hero:x,footer:n.jsxs(n.Fragment,{children:["Tu connais ton mot de passe ?"," ",n.jsx(me,{to:"/login",className:"text-sky-600 font-semibold",children:"Retour  la connexion"})]}),children:n.jsxs("form",{className:"card highlight p-5 sm:p-6 lg:p-8 space-y-5",onSubmit:f,children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Adresse email"}),n.jsx("input",{type:"email",className:"input w-full",value:s,onChange:d=>r(d.currentTarget.value),placeholder:"utilisateur@karigo.ci",required:!0})]}),i&&n.jsxs("div",{className:"flex items-start gap-3 rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-700",children:[n.jsx(Tr,{size:18,className:"mt-0.5 shrink-0"}),n.jsx("span",{children:i})]}),c&&n.jsxs("div",{className:"flex items-start gap-3 rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-600",children:[n.jsx(ss,{size:18,className:"mt-0.5 shrink-0"}),n.jsx("span",{children:c})]}),n.jsx("button",{type:"submit",disabled:a,className:"btn-primary w-full h-11 disabled:opacity-60 disabled:cursor-not-allowed",children:a?"Envoi":"Recevoir un lien"}),n.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Pense  vrifier tes spams si tu ne vois rien arriver dans les prochaines minutes."})]})})}function H1(){const[e]=ey(),t=e.get("token")??"",s=ne(w=>w.authReady),r=ne(w=>w.initializeAuth),a=ne(w=>w.setSession);p.useEffect(()=>{s||r()},[s,r]);const l=it(),[i,o]=p.useState(t),[c,u]=p.useState(!!t),[f,x]=p.useState(""),[d,y]=p.useState(""),[v,j]=p.useState(!1),[b,m]=p.useState(),[g,h]=p.useState();p.useEffect(()=>{t&&(o(t),u(!0))},[t]);const k=p.useMemo(()=>{if(!i)return"";const[w="",T=""]=i.split(":"),M=w.slice(0,6),I=T.slice(-4);return`${M||""}${I||""}`},[i]),C=w=>{switch(w){case"reset_expired":return"Le lien a expir. Relance une demande depuis la page Mot de passe oubli.";case"reset_invalid":case"reset_used":case"reset_blocked":return"Ce lien ne peut pas tre utilis. Fais-en gnrer un nouveau.";case"account_suspended":return"Ton compte est suspendu. Contacte un administrateur.";default:return w||"Impossible de mettre  jour ton mot de passe."}},L=async w=>{var M,I;w.preventDefault(),m(void 0),h(void 0);const T=i.trim();if(!T){m("Colle le lien reu par email.");return}if(!f||f.length<8){m("Choisis un mot de passe dau moins 8 caractres.");return}if(f!==d){m("Les mots de passe ne correspondent pas.");return}try{j(!0);const H=await f1({token:T,password:f});a(H.token,H.account),h("Mot de passe mis  jour. Redirection en cours"),setTimeout(()=>{l("/",{replace:!0})},500)}catch(H){m(C(((I=(M=H==null?void 0:H.response)==null?void 0:M.data)==null?void 0:I.message)||(H==null?void 0:H.message)))}finally{j(!1)}},_=p.useMemo(()=>n.jsxs("div",{className:"space-y-6","aria-hidden":"true",children:[n.jsxs("span",{className:"auth-panel__badge",children:[n.jsx(al,{size:16}),"Scurise ton accs"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h2",{className:"text-3xl font-semibold tracking-tight leading-tight",children:"Choisis un nouveau mot de passe"}),n.jsx("p",{className:"text-sm leading-relaxed text-white/85",children:"Le lien reu par email permet de valider que tu es bien le propritaire du compte."})]}),n.jsxs("ul",{className:"auth-panel__list text-white/90",children:[n.jsxs("li",{children:[n.jsx("span",{className:"icon text-white",style:{background:"rgba(15,23,42,.18)"},children:n.jsx(km,{size:18})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"Un seul lien par demande"}),n.jsx("p",{className:"text-sm text-white/80",children:"Il expire automatiquement pour protger ton compte."})]})]}),n.jsxs("li",{children:[n.jsx("span",{className:"icon text-white",style:{background:"rgba(15,23,42,.18)"},children:n.jsx(cd,{size:18})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"Accs immdiat"}),n.jsx("p",{className:"text-sm text-white/80",children:"Une fois valid, tu es directement connect."})]})]})]})]}),[]);return n.jsx(_l,{title:"Nouveau mot de passe",subtitle:"Colle le lien reu pour finaliser la rinitialisation.",hero:_,footer:n.jsxs(n.Fragment,{children:["Tu nas pas reu demail ?"," ",n.jsx(me,{to:"/forgot-password",className:"text-sky-600 font-semibold",children:"Relancer lenvoi"})]}),children:n.jsxs("form",{className:"card highlight p-5 sm:p-6 lg:p-8 space-y-5",onSubmit:L,children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Jeton de rinitialisation"}),c?n.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-700",children:[n.jsxs("div",{className:"flex items-center gap-2 font-semibold text-slate-800",children:[n.jsx(py,{size:16}),"Jeton scuris dtect"]}),n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:k}),n.jsx("button",{type:"button",className:"self-start text-xs font-semibold text-sky-600 hover:text-sky-700",onClick:()=>{o(""),u(!1)},children:"Utiliser un autre lien"})]}):n.jsx("input",{type:"text",className:"input w-full",value:i,onChange:w=>o(w.currentTarget.value),placeholder:"Ex: 123e4567-...:abcd1234",required:!0})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Nouveau mot de passe"}),n.jsx("input",{type:"password",className:"input w-full",value:f,onChange:w=>x(w.currentTarget.value),placeholder:"",minLength:8,required:!0})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Confirmation"}),n.jsx("input",{type:"password",className:"input w-full",value:d,onChange:w=>y(w.currentTarget.value),placeholder:"",minLength:8,required:!0})]}),g&&n.jsxs("div",{className:"flex items-start gap-3 rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-700",children:[n.jsx(cd,{size:18,className:"mt-0.5 shrink-0"}),n.jsx("span",{children:g})]}),b&&n.jsxs("div",{className:"flex items-start gap-3 rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-600",children:[n.jsx(ss,{size:18,className:"mt-0.5 shrink-0"}),n.jsx("span",{children:b})]}),n.jsx("button",{type:"submit",disabled:v,className:"btn-primary w-full h-11 disabled:opacity-60 disabled:cursor-not-allowed",children:v?"Validation":"Mettre  jour"})]})})}function Qn(e){if(!e)return"";try{return new Date(e).toLocaleString("fr-FR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"short"})}catch{return e}}function W1(e){return e.split(" ").map(t=>t.charAt(0)).join("").slice(0,2).toUpperCase()}function fa(e){var t,s,r,a;return((s=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:s.message)||((a=(r=e==null?void 0:e.response)==null?void 0:r.data)==null?void 0:a.error)||(e==null?void 0:e.message)||"Erreur inattendue"}function mi(e){return`Bonjour, je suis intress par votre trajet ${e.originCity}  ${e.destinationCity} prvu ${e.dateLabel}  ${e.timeLabel}. Est-ce que des siges sont toujours disponibles ?`}function K1(){const e=ne(P=>P.account),t=ne(P=>P.token),s=ne(P=>P.refreshMessageBadge),r=Ms(),a=it(),l=(e==null?void 0:e.id)??"",i=(e==null?void 0:e.type)??"INDIVIDUAL",o=(e==null?void 0:e.fullName)??(e==null?void 0:e.companyName)??(e==null?void 0:e.email)??"Moi",c=(e==null?void 0:e.id)??"guest",[u,f]=p.useState([]),[x,d]=p.useState(null),[y,v]=p.useState([]),[j,b]=p.useState(null),[m,g]=p.useState(!1),[h,k]=p.useState(!1),[C,L]=p.useState(!1),[_,w]=p.useState(!1),[T,M]=p.useState(""),[I,H]=p.useState(""),[W,J]=p.useState(""),[se,X]=p.useState(null),[te,S]=p.useState(null),[E,A]=p.useState(null),[N,D]=p.useState(""),[V,Q]=p.useState(!1),Y=p.useMemo(()=>u.find(P=>P.id===x)??null,[u,x]),oe=p.useMemo(()=>{if(!N.trim())return u;const P=N.trim().toLowerCase();return u.filter(Z=>{var we,q;const ie=((we=Z.otherParticipant.label)==null?void 0:we.toLowerCase())??"",le=((q=Z.lastMessagePreview)==null?void 0:q.toLowerCase())??"";return ie.includes(P)||le.includes(P)})},[N,u]),de=p.useMemo(()=>{if(!E)return null;const P=new Date(E.departureAt);return{...E,dateLabel:P.toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"}),timeLabel:P.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}},[E]);p.useEffect(()=>{const P=r.state;if(P!=null&&P.contact&&(S(P.contact),P.contact.email&&H(Z=>Z||P.contact.email||""),Q(!0)),P!=null&&P.rideContext&&(A(P.rideContext),!W.trim())){const Z={...P.rideContext,dateLabel:new Date(P.rideContext.departureAt).toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"}),timeLabel:new Date(P.rideContext.departureAt).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})};J(mi(Z)),M(mi(Z))}(P!=null&&P.contact||P!=null&&P.rideContext)&&a(r.pathname,{replace:!0})},[r.state,r.pathname,a,W]),p.useEffect(()=>{l&&Oe()},[l]),p.useEffect(()=>{!x||!l||B(x)},[x,l]),p.useEffect(()=>{x||v([])},[x]);const Oe=async()=>{if(l){g(!0),X(null);try{const[P,Z]=await Promise.all([Qb(l),Eo(l)]);f(P),b(Z),d(ie=>{var le;if(ie&&P.some(we=>we.id===ie))return ie;if(te){const we=P.find(q=>q.otherParticipant.id===te.id);if(we)return we.id}return((le=P[0])==null?void 0:le.id)??null}),te&&!P.some(ie=>ie.otherParticipant.id===te.id)&&te.email&&Q(!0)}catch(P){X(fa(P))}finally{g(!1)}}},B=async P=>{k(!0),X(null);try{const Z=await Yb(P,l);v(Z),await Xb(P,l).catch(()=>{}),await s();const ie=await Eo(l);b(ie)}catch(Z){X(fa(Z))}finally{k(!1)}},R=async()=>{if(!Y||!T.trim())return;const P=Y.otherParticipant;L(!0),X(null);try{const Z=await Co({senderId:l,senderType:i,senderLabel:o,recipientId:P.id,recipientType:P.type,recipientLabel:P.label??"Destinataire",body:T.trim()});M(""),v(ie=>[...ie,Z.message]),f(ie=>{const le=ie.filter(we=>we.id!==Z.conversation.id);return[Z.conversation,...le]}),d(Z.conversation.id),await s()}catch(Z){X(fa(Z))}finally{L(!1)}},K=async()=>{if(!(!I.trim()||!W.trim()||!l||!t)){w(!0),X(null);try{const P=await N1(I.trim(),t);if(P.id===l)throw new Error("Tu ne peux pas te contacter toi-mme.");const Z=await Co({senderId:l,senderType:i,senderLabel:o,recipientId:P.id,recipientType:P.type,recipientLabel:P.fullName??P.companyName??P.email,body:W.trim()});H(""),J(""),Q(!1),S(null),A(null),v([Z.message]),E&&gx(c,{rideId:E.rideId,driverId:P.id,driverType:P.type,driverLabel:P.fullName??P.companyName??P.email??"Conducteur KariGo",originCity:E.originCity,destinationCity:E.destinationCity,departureAt:E.departureAt,lastMessagePreview:W.trim().slice(0,140)}),f(ie=>{const le=ie.filter(we=>we.id!==Z.conversation.id);return[Z.conversation,...le]}),d(Z.conversation.id),await s()}catch(P){X(fa(P))}finally{w(!1)}}},z=P=>{M(P)};return e?n.jsx("div",{className:"min-h-[calc(100vh-80px)] bg-slate-50/40 py-6",children:n.jsxs("div",{className:"container-wide space-y-5",children:[n.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Messagerie KariGo"}),n.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Mes conversations"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Discute avec les conducteurs ou passagers pour finaliser les dtails dun trajet."})]}),j&&n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-600 flex items-center gap-3 shadow-sm",children:[n.jsx(id,{size:18,className:"text-sky-500"}),n.jsx("span",{className:"font-semibold text-slate-900",children:j.unreadConversations}),"conv. non lues /"," ",n.jsx("span",{className:"font-semibold text-slate-900",children:j.unreadMessages})," messages"]})]}),se&&n.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:se}),n.jsxs("div",{className:"grid gap-5 xl:grid-cols-[320px,minmax(0,1fr),300px]",children:[n.jsxs("aside",{className:"rounded-3xl border border-slate-200 bg-white p-4 shadow-sm space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase text-slate-500 font-semibold",children:"Contacts"}),n.jsxs("p",{className:"text-xs text-slate-400",children:[u.length," conversation(s)"]})]}),n.jsxs("button",{onClick:Oe,className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-600 hover:border-sky-200 hover:text-sky-600",children:[n.jsx(At,{size:14}),"Sync"]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Em,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),n.jsx("input",{className:"input pl-9 text-sm",placeholder:"Rechercher un contact",value:N,onChange:P=>D(P.currentTarget.value)})]}),n.jsxs("div",{className:"max-h-[420px] overflow-y-auto pr-1 space-y-1",children:[m&&n.jsx("p",{className:"text-xs text-slate-400 px-1",children:"Chargement"}),!m&&oe.length===0&&n.jsx("p",{className:"text-sm text-slate-500 px-1",children:"Aucun change pour le moment."}),oe.map(P=>{const Z=P.otherParticipant.label??P.otherParticipant.id,ie=W1(Z);return n.jsx("button",{onClick:()=>d(P.id),className:`w-full rounded-2xl border px-3 py-2 text-left transition ${P.id===x?"border-sky-300 bg-sky-50":"border-slate-200 hover:bg-slate-50"}`,children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-9 w-9 rounded-full bg-slate-100 text-slate-600 grid place-items-center font-semibold",children:ie||n.jsx(cy,{size:18})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm font-semibold text-slate-800",children:[n.jsx("span",{className:"truncate",children:Z}),P.unreadCount>0&&n.jsx("span",{className:"rounded-full bg-sky-500 px-2 text-[11px] font-semibold text-white",children:P.unreadCount})]}),n.jsx("p",{className:"text-xs text-slate-500 line-clamp-1",children:P.lastMessagePreview??"Aucun message"}),n.jsx("p",{className:"text-[11px] text-slate-400",children:Qn(P.lastMessageAt)})]})]})},P.id)})]}),n.jsxs("div",{className:"border-t border-slate-100 pt-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase text-slate-500",children:[n.jsx(yy,{size:14}),"Nouveau message"]}),n.jsx("button",{type:"button",onClick:()=>Q(P=>!P),className:"w-full rounded-2xl border border-dashed border-slate-300 px-3 py-2 text-sm font-semibold text-slate-600 hover:border-slate-400",children:V?"Fermer le formulaire":"Contact direct"}),V&&n.jsxs("div",{className:"space-y-2",children:[te&&n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:["Prrempli pour"," ",n.jsx("span",{className:"font-semibold text-slate-800",children:te.label??te.email??te.id})]}),n.jsx("input",{className:"input text-sm",placeholder:"Email du destinataire",value:I,onChange:P=>H(P.currentTarget.value)}),n.jsx("textarea",{className:"input h-24 text-sm",placeholder:"Ton message",value:W,onChange:P=>J(P.currentTarget.value)}),n.jsxs("button",{onClick:K,disabled:_||!I.trim()||!W.trim()||!t,className:"btn-primary w-full h-10 flex items-center justify-center gap-2 disabled:opacity-60",children:[n.jsx(by,{size:16}),"Dmarrer"]})]})]})]}),n.jsx("section",{className:"rounded-3xl border border-slate-200 bg-white shadow-sm flex flex-col min-h-[600px]",children:Y?n.jsxs(n.Fragment,{children:[n.jsxs("header",{className:"border-b border-slate-100 px-5 py-4 flex items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Discussion"}),n.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:Y.otherParticipant.label??Y.otherParticipant.id}),n.jsx("p",{className:"text-xs text-slate-500",children:Y.otherParticipant.type==="COMPANY"?"Compte entreprise":"Compte particulier"})]}),n.jsxs("div",{className:"text-xs text-slate-400",children:["Dernier message ",Qn(Y.lastMessageAt)]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto px-5 py-4 space-y-3 bg-slate-50/40",children:[h&&n.jsx("div",{className:"text-xs text-slate-400",children:"Chargement des messages"}),y.length===0&&!h&&n.jsx("div",{className:"text-sm text-slate-500",children:"Commence la conversation avec un premier message."}),y.map(P=>{const Z=P.senderId===l,ie=P.status==="READ";return n.jsx("div",{className:`flex ${Z?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`rounded-2xl px-4 py-3 max-w-[75%] text-sm shadow-sm ${Z?"bg-sky-500 text-white":"bg-white text-slate-800 border border-slate-100"}`,children:[n.jsx("p",{className:"whitespace-pre-line",children:P.body}),n.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px] opacity-80 gap-4",children:[n.jsx("span",{children:Qn(P.createdAt)}),Z&&n.jsx(oy,{size:14,className:ie?"text-white":"text-white/60"})]})]})},P.id)})]}),n.jsxs("footer",{className:"border-t border-slate-100 px-5 py-4 space-y-3",children:[de&&n.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-500",children:[n.jsx("span",{children:"Ajoute un extrait :"}),n.jsxs("button",{type:"button",onClick:()=>z(mi(de)),className:"rounded-full border border-slate-200 px-3 py-1 text-slate-600 hover:border-sky-200 hover:text-sky-600",children:["Trajet ",de.originCity,"  ",de.destinationCity]})]}),n.jsxs("div",{className:"flex items-end gap-3",children:[n.jsx("textarea",{className:"input flex-1 min-h-[64px]",placeholder:"crire un message",value:T,onChange:P=>M(P.currentTarget.value)}),n.jsxs("button",{onClick:R,disabled:C||!T.trim(),className:"btn-primary h-12 px-4 flex items-center gap-2 disabled:opacity-60",children:[n.jsx(Rc,{size:18}),"Envoyer"]})]})]})]}):n.jsx("div",{className:"flex flex-1 items-center justify-center text-slate-500 px-6 text-center",children:"Slectionne une conversation ou ouvre un nouveau message pour changer avec un conducteur."})}),n.jsxs("aside",{className:"rounded-3xl border border-slate-200 bg-white p-5 shadow-sm space-y-4",children:[Y?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Contact"}),n.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:Y.otherParticipant.label??Y.otherParticipant.id}),n.jsx("p",{className:"text-xs text-slate-500",children:Y.otherParticipant.type==="COMPANY"?"Professionnel":"Particulier"})]}),n.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 px-4 py-3 text-sm text-slate-600 space-y-2",children:[n.jsxs("p",{children:["Dernier message le"," ",n.jsx("span",{className:"font-semibold text-slate-800",children:Qn(Y.lastMessageAt)})]}),n.jsxs("p",{children:["Total messages:"," ",n.jsx("span",{className:"font-semibold text-slate-800",children:Y.lastMessagePreview&&y.length||""})]})]})]}):n.jsx("div",{className:"text-sm text-slate-500",children:"Aucun contact slectionn. Choisis un trajet pour afficher ses informations."}),de&&n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-4 py-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase text-slate-500 font-semibold",children:[n.jsx(ly,{size:14}),"Trajet concern"]}),n.jsxs("div",{className:"text-sm text-slate-700 font-semibold",children:[de.originCity,"  ",de.destinationCity]}),n.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-2",children:[n.jsx(Nt,{size:14}),de.dateLabel,"  ",de.timeLabel]}),n.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-2",children:[n.jsx(bt,{size:14}),"ID: ",de.rideId.slice(0,8).toUpperCase()]}),n.jsxs(me,{to:`/ride/${de.rideId}`,className:"inline-flex items-center gap-2 rounded-full border border-slate-300 px-3 py-1.5 text-xs font-semibold text-slate-600 hover:border-sky-200 hover:text-sky-600",children:["Ouvrir le dtail",n.jsx(vt,{size:14})]})]}),j&&j.items.length>0&&n.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 px-4 py-3 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase text-slate-500",children:[n.jsx(id,{size:14,className:"text-sky-500"}),"Derniers vnements"]}),n.jsx("ul",{className:"space-y-2 text-sm text-slate-600",children:j.items.slice(0,3).map(P=>{var Z;return n.jsxs("li",{className:"text-xs",children:[n.jsx("span",{className:"font-semibold text-slate-800",children:((Z=P.sender)==null?void 0:Z.label)??"Contact"})," ","- ",P.preview??"Nouveau message"," (",Qn(P.createdAt),")"]},P.id)})})]})]})]})]})}):n.jsx("div",{className:"container-wide py-8",children:"Connecte-toi pour accder aux messages."})}const Uc={ACTIVE:"Actif",SUSPENDED:"Suspendu"},Il={USER:"Utilisateur",ADMIN:"Administrateur"},qr={INDIVIDUAL:"Particulier",COMPANY:"Entreprise"},G1=new Intl.DateTimeFormat("fr-FR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Q1=new Intl.DateTimeFormat("fr-FR",{year:"numeric",month:"short",day:"numeric"}),Yn=20,xi=5,Y1={recipient_scope_requires_account:"Slectionne un compte KariGo existant ou passe la porte sur Catalogue global.",recipient_required:"Renseigne une adresse destinataire valide.",ride_fetch_failed:"Impossible de rcuprer les trajets  partager pour le moment."};function Qs(e,t=!0){if(!e)return"";try{return t?G1.format(new Date(e)):Q1.format(new Date(e))}catch{return e}}function Wd(e){return`${(Number.isFinite(e)?e:0).toLocaleString("fr-FR")} FCFA`}function X1(){const e=ne(F=>F.token),t=ne(F=>F.account),[s,r]=p.useState({status:"ALL",type:"ALL",search:""}),[a,l]=p.useState(""),[i,o]=p.useState(0),[c,u]=p.useState(!1),[f,x]=p.useState(),[d,y]=p.useState(),[v,j]=p.useState(),[b,m]=p.useState(),[g,h]=p.useState(),[k,C]=p.useState(!1),[L,_]=p.useState(),[w,T]=p.useState(),[M,I]=p.useState(!1),[H,W]=p.useState(),[J,se]=p.useState({}),[X,te]=p.useState({loading:!1,data:[]}),[S,E]=p.useState({loading:!1,data:[]}),A=(t==null?void 0:t.email)??"",N=Array.isArray(X.data)?X.data.length:0,D=Array.isArray(S.data)?S.data.length:0,V=X.summary,Q=S.summary,Y=(t==null?void 0:t.role)==="ADMIN",oe=(d==null?void 0:d.total)??0,de=(d==null?void 0:d.data)??[],Oe=s.status!=="ALL"||s.type!=="ALL"||!!s.search,B=s.status==="ALL"?"Tous les statuts":Uc[s.status],R=s.type==="ALL"?"Tous les types":qr[s.type],K=!c&&de.length===0,z=p.useCallback(async()=>{var F,re;if(e){u(!0),x(void 0);try{const xe=await m1(e,{status:s.status==="ALL"?void 0:s.status,type:s.type==="ALL"?void 0:s.type,search:s.search||void 0,offset:i*Yn,limit:Yn});y(xe)}catch(xe){x(((re=(F=xe==null?void 0:xe.response)==null?void 0:F.data)==null?void 0:re.message)||(xe==null?void 0:xe.message)||"Impossible de charger les comptes.")}finally{u(!1)}}},[s,i,e]);p.useEffect(()=>{o(0)},[s.status,s.type,s.search]),p.useEffect(()=>{Y&&z()},[Y,z]),p.useEffect(()=>{m(void 0),h(void 0),_(void 0),C(!1)},[s.status,s.type,s.search]);const P=p.useMemo(()=>d?Math.max(1,Math.ceil(d.total/Yn)):1,[d]),Z=p.useMemo(()=>{if(b)return d==null?void 0:d.data.find(F=>F.id===b)},[d,b]),ie=p.useMemo(()=>{var re;const F=(re=d==null?void 0:d.stats)==null?void 0:re.byStatus;return[{value:"ALL",label:"Tous",count:(d==null?void 0:d.total)??0},{value:"ACTIVE",label:"Actifs",count:(F==null?void 0:F.ACTIVE)??0},{value:"SUSPENDED",label:"Suspendus",count:(F==null?void 0:F.SUSPENDED)??0}]},[d]),le=p.useMemo(()=>{if(d!=null&&d.data)return d.data.reduce((F,re)=>(F[re.type]=(F[re.type]??0)+1,F),{INDIVIDUAL:0,COMPANY:0})},[d==null?void 0:d.data]),we=p.useMemo(()=>[{value:"ALL",label:"Tous",count:(d==null?void 0:d.total)??0},{value:"INDIVIDUAL",label:"Particuliers",count:le==null?void 0:le.INDIVIDUAL},{value:"COMPANY",label:"Entreprises",count:le==null?void 0:le.COMPANY}],[d==null?void 0:d.total,le]),q=oe===0?0:i*Yn+1,Pe=Math.min(oe,(i+1)*Yn);if(!e)return n.jsx(rl,{to:"/login",replace:!0});if(!Y)return n.jsx(rl,{to:"/",replace:!0});const G=F=>{F.preventDefault();const re=a.trim();l(re),r(xe=>({...xe,search:re}))},Ue=()=>{r({status:"ALL",type:"ALL",search:""}),l("")},_e=async()=>{await z()},fe=p.useCallback(async(F,{preserveSelection:re=!1}={})=>{var xe,pe,be,je;if(e){re||m(F),h(void 0),_(void 0),T(void 0),W(void 0),se({}),C(!0);try{const xt=await y1(e,F);if(h(xt),xt.account.type==="COMPANY"){I(!0);try{const Mt=await $d(xt.account.id,{status:"ALL"});T(Mt)}catch(Mt){W(((pe=(xe=Mt==null?void 0:Mt.response)==null?void 0:xe.data)==null?void 0:pe.message)||(Mt==null?void 0:Mt.message)||"Impossible de charger la flotte.")}finally{I(!1)}}else T(void 0)}catch(xt){_(((je=(be=xt==null?void 0:xt.response)==null?void 0:be.data)==null?void 0:je.message)||(xt==null?void 0:xt.message)||"Impossible de charger lactivit.")}finally{C(!1)}}},[e]),ge=p.useCallback(async(F,re)=>{if(!e)return;const xe=await g1(e,F,re);return y(pe=>pe&&{...pe,data:pe.data.map(be=>be.id===xe.id?{...be,...xe}:be)}),h(pe=>pe&&{...pe,account:xe}),xe},[e]),Ae=p.useCallback(async()=>{var re,xe;const F=g==null?void 0:g.account;if(!(!F||F.type!=="COMPANY")){I(!0),W(void 0);try{const pe=await $d(F.id,{status:"ALL"});T(pe)}catch(pe){W(((xe=(re=pe==null?void 0:pe.response)==null?void 0:re.data)==null?void 0:xe.message)||(pe==null?void 0:pe.message)||"Impossible de charger la flotte.")}finally{I(!1)}}},[g==null?void 0:g.account]),os=p.useCallback(async(F,re="upcoming")=>{const xe=g==null?void 0:g.account;if(!(!xe||xe.type!=="COMPANY")){se(pe=>{var be;return{...pe,[F]:{loading:!0,items:((be=pe[F])==null?void 0:be.items)??[],window:re}}});try{const pe=await o1(xe.id,F,{window:re});se(be=>({...be,[F]:{loading:!1,items:pe.data,window:re}}))}catch(pe){se(be=>{var je,xt,Mt;return{...be,[F]:{loading:!1,items:((je=be[F])==null?void 0:je.items)??[],window:re,error:((Mt=(xt=pe==null?void 0:pe.response)==null?void 0:xt.data)==null?void 0:Mt.message)||(pe==null?void 0:pe.message)||"Impossible de charger les plannings."}}})}}},[g==null?void 0:g.account]),$=p.useCallback(async()=>{var re,xe,pe,be;if(!e||(t==null?void 0:t.role)!=="ADMIN")return;const F=new Date().toISOString();te(je=>({...je,loading:!0,error:void 0})),E(je=>({...je,loading:!0,error:void 0}));try{const je=await Ud(e,{departureAfter:F,sort:"departure_asc",limit:200});te({loading:!1,data:je.data,summary:je.summary,error:void 0})}catch(je){te({loading:!1,data:[],summary:void 0,error:((xe=(re=je==null?void 0:je.response)==null?void 0:re.data)==null?void 0:xe.message)||(je==null?void 0:je.message)||"Impossible de charger les trajets  venir."})}try{const je=await Ud(e,{departureBefore:F,sort:"departure_desc",limit:200});E({loading:!1,data:je.data,summary:je.summary,error:void 0})}catch(je){E({loading:!1,data:[],summary:void 0,error:((be=(pe=je==null?void 0:je.response)==null?void 0:pe.data)==null?void 0:be.message)||(je==null?void 0:je.message)||"Impossible de charger les trajets passs."})}},[e,t==null?void 0:t.role]);p.useEffect(()=>{(t==null?void 0:t.role)==="ADMIN"&&$()},[t==null?void 0:t.role,$]);const ve=p.useCallback(async(F,re)=>{if(!e||!b)return;const xe=await Fd(e,F,re);return await fe(b,{preserveSelection:!0}),xe},[e,b,fe]),Ve=p.useCallback(async F=>{if(!e||!b)return;const re=await Bd(e,F);return await fe(b,{preserveSelection:!0}),re},[e,b,fe]),Xe=p.useCallback(async(F,re)=>{if(!e)return;const xe=await Fd(e,F,re);return await $(),b&&await fe(b,{preserveSelection:!0}),xe},[e,$,b,fe]),Qt=p.useCallback(async F=>{if(!e)return;const re=await Bd(e,F);return await $(),b&&await fe(b,{preserveSelection:!0}),re},[e,$,b,fe]),On=p.useCallback(async F=>{if(!e)throw new Error("missing_token");return v1(e,F)},[e]),Tt=async F=>{var xe,pe;if(!e)return;const re=F.status==="ACTIVE"?"SUSPENDED":"ACTIVE";j(F.id),x(void 0);try{await x1(e,F.id,re),await _e(),b===F.id&&await fe(F.id,{preserveSelection:!0})}catch(be){x(((pe=(xe=be==null?void 0:be.response)==null?void 0:xe.data)==null?void 0:pe.message)||(be==null?void 0:be.message)||"Impossible de modifier le statut.")}finally{j(void 0)}},Hr=async F=>{var xe,pe;if(!e)return;const re=F.role==="ADMIN"?"USER":"ADMIN";j(F.id),x(void 0);try{await h1(e,F.id,re),await _e(),b===F.id&&await fe(F.id,{preserveSelection:!0})}catch(be){x(((pe=(xe=be==null?void 0:be.response)==null?void 0:xe.data)==null?void 0:pe.message)||(be==null?void 0:be.message)||"Impossible de modifier le rle.")}finally{j(void 0)}},Dn=async F=>{await fe(F.id,{preserveSelection:!1})},zn=F=>F.id===(t==null?void 0:t.id),$n=F=>F.id===(t==null?void 0:t.id);return n.jsxs("section",{className:"max-w-7xl mx-auto px-4 py-10 space-y-10",children:[n.jsxs("header",{className:"rounded-3xl border border-slate-200 bg-white/90 p-8 lg:p-10 shadow-xl shadow-sky-100/40 backdrop-blur space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"inline-flex items-center gap-2 rounded-full bg-sky-100 px-3 py-1 text-[11px] font-semibold text-sky-700",children:"Tableau de bord administrateur"}),n.jsx("h1",{className:"text-3xl lg:text-4xl font-semibold text-slate-900",children:"Supervise les comptes et garde le contrle sur les trajets publis."}),n.jsx("p",{className:"text-sm text-slate-500 lg:max-w-2xl",children:"Gre les accs, ajuste les profils et actionne les dcisions mtier sans quitter cette page. Le tableau de bord se veut fluide, lisible et orient actions rapides."})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 w-full lg:max-w-xl",children:[n.jsx(hi,{title:"Comptes actifs",value:(d==null?void 0:d.stats.byStatus.ACTIVE)??0,tone:"green"}),n.jsx(hi,{title:"Comptes suspendus",value:(d==null?void 0:d.stats.byStatus.SUSPENDED)??0,tone:"amber"}),n.jsx(hi,{title:"Administrateurs",value:(d==null?void 0:d.stats.byRole.ADMIN)??0,tone:"sky"})]})]}),n.jsxs("form",{onSubmit:G,className:"grid gap-4 lg:grid-cols-[minmax(0,1fr),auto] items-end bg-slate-900/3 rounded-2xl p-4 border border-slate-100",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase text-slate-500",children:"Recherche globale"}),n.jsxs("div",{className:"mt-1 flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2 shadow-sm focus-within:ring-2 focus-within:ring-sky-200",children:[n.jsx("input",{type:"search",className:"flex-1 border-none bg-transparent text-sm text-slate-700 focus:outline-none",placeholder:"Email, nom, entreprise",value:a,onChange:F=>l(F.target.value)}),s.search&&n.jsx("button",{type:"button",onClick:()=>{l(""),r(F=>({...F,search:""}))},className:"text-xs font-semibold text-slate-400 hover:text-slate-600",children:"Effacer"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsx(Kd,{label:"Statut",value:s.status,options:ie,onChange:F=>r(re=>({...re,status:F}))}),n.jsx(Kd,{label:"Type de compte",value:s.type,options:we,onChange:F=>r(re=>({...re,type:F}))})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 justify-end",children:[n.jsx("button",{type:"button",onClick:()=>{r({status:"ALL",type:"ALL",search:""}),l("")},className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300",children:"Rinitialiser"}),n.jsx("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-full bg-sky-600 px-5 py-2 text-xs font-semibold text-white shadow-sm transition hover:bg-sky-700",children:"Appliquer"})]})]})]}),(t==null?void 0:t.role)==="ADMIN"&&n.jsxs("section",{className:"grid gap-6 xl:grid-cols-[minmax(0,1fr),minmax(320px,1fr)]",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white px-5 py-6 shadow-sm",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Catalogue global"}),n.jsxs("p",{className:"text-lg font-semibold text-slate-900",children:[N+D," trajets suivis"]}),n.jsxs("p",{className:"text-sm text-slate-500",children:[(V==null?void 0:V.upcoming)??N,"  venir  ",D," archivs"]})]}),n.jsxs("button",{type:"button",onClick:()=>void $(),disabled:X.loading||S.loading,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-sky-200 hover:text-sky-600 disabled:opacity-50",children:[n.jsx(At,{size:14})," Rafrachir"]})]}),n.jsxs("div",{className:"mt-4 grid gap-3 text-sm text-slate-600 sm:grid-cols-3",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 px-4 py-3",children:[n.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Places proposes"}),n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:((V==null?void 0:V.seatsTotal)??0).toLocaleString("fr-FR")})]}),n.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 px-4 py-3",children:[n.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Rservations"}),n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:(((V==null?void 0:V.seatsBooked)??0)+((Q==null?void 0:Q.seatsBooked)??0)).toLocaleString("fr-FR")})]}),n.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 px-4 py-3",children:[n.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Prix moyen"}),n.jsxs("p",{className:"text-lg font-semibold text-slate-900",children:[((V==null?void 0:V.averagePrice)??(Q==null?void 0:Q.averagePrice)??0).toLocaleString("fr-FR")," ","F CFA"]})]})]})]}),n.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[n.jsx(Ao,{title:"Trajets  venir",rides:X.data,summary:X.summary,loading:X.loading,error:X.error,enableDigest:!1,onUpdateRide:Xe,onCloseRide:Qt,onRefresh:$}),n.jsx(Ao,{title:"Trajets passs",rides:S.data,summary:S.summary,loading:S.loading,error:S.error,enableDigest:!1,onUpdateRide:Xe,onCloseRide:Qt,onRefresh:$})]})]}),n.jsx(nj,{defaultRecipient:A,disabled:X.loading||S.loading,onShare:On})]}),f&&n.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 text-sm text-rose-700 px-4 py-3",children:f}),n.jsxs("div",{className:"grid gap-6 xl:grid-cols-[minmax(0,520px),minmax(0,1fr)]",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white shadow-sm",children:[n.jsxs("div",{className:"flex flex-col gap-3 border-b border-slate-100 px-5 py-5 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Rsultats"}),n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:c?"Recherche en cours":`${oe.toLocaleString("fr-FR")} comptes`}),n.jsxs("div",{className:"mt-1 flex flex-wrap gap-2 text-[11px] font-semibold text-slate-500",children:[n.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2.5 py-0.5",children:B}),n.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2.5 py-0.5",children:R}),s.search&&n.jsxs("span",{className:"inline-flex items-center rounded-full bg-amber-50 px-2.5 py-0.5 text-amber-700",children:[" ",s.search," "]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold text-slate-600",children:[n.jsxs("button",{type:"button",onClick:()=>void _e(),disabled:c,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 transition hover:border-sky-200 hover:text-sky-600 disabled:opacity-50",children:[n.jsx(At,{size:14})," Rafrachir"]}),n.jsx("button",{type:"button",onClick:()=>m(void 0),disabled:!b,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 transition hover:border-slate-300 disabled:opacity-40",children:"Effacer la slection"})]})]}),n.jsx("div",{className:"hidden lg:block overflow-x-auto px-5",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-slate-50 text-slate-600 uppercase text-xs tracking-wide",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left px-4 py-3 font-semibold",children:"Email"}),n.jsx("th",{className:"text-left px-4 py-3 font-semibold",children:"Profil"}),n.jsx("th",{className:"text-left px-4 py-3 font-semibold",children:"Statut"}),n.jsx("th",{className:"text-left px-4 py-3 font-semibold",children:"Rle"}),n.jsx("th",{className:"text-left px-4 py-3 font-semibold",children:"Dernire connexion"}),n.jsx("th",{className:"text-left px-4 py-3 font-semibold",children:"Connexions"}),n.jsx("th",{className:"text-left px-4 py-3 font-semibold",children:"Cr le"}),n.jsx("th",{className:"text-left px-4 py-3 font-semibold",children:"Actions"})]})}),n.jsxs("tbody",{children:[c&&n.jsx("tr",{children:n.jsx("td",{colSpan:8,className:"px-4 py-6 text-center text-slate-500",children:"Chargement"})}),!c&&de.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:8,className:"px-4 py-6 text-center text-slate-500",children:"Aucun compte  afficher."})}),!c&&de.map(F=>n.jsx(J1,{item:F,selected:b===F.id,disabledStatus:zn(F),disabledRole:$n(F),loadingId:v,onSelect:re=>void fe(re.id),onView:re=>void Dn(re),onToggleStatus:re=>void Tt(re),onToggleRole:re=>void Hr(re)},F.id))]})]})}),n.jsxs("div",{className:"lg:hidden space-y-3 px-5 py-5",children:[c&&n.jsx("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-center text-sm text-slate-500",children:"Chargement"}),!c&&de.map(F=>n.jsx(Z1,{item:F,selected:b===F.id,disabledStatus:zn(F),disabledRole:$n(F),loadingId:v,onSelect:re=>void fe(re.id),onView:re=>void Dn(re),onToggleStatus:re=>void Tt(re),onToggleRole:re=>void Hr(re)},F.id))]}),K&&n.jsxs("div",{className:"border-t border-slate-100 px-5 py-6 text-center text-sm text-slate-500 space-y-3",children:[n.jsx("p",{children:"Aucun compte ne correspond aux filtres slectionns."}),n.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 text-xs font-semibold",children:[Oe&&n.jsx("button",{type:"button",onClick:Ue,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-slate-600 transition hover:border-slate-300",children:"Rinitialiser les filtres"}),n.jsx("button",{type:"button",onClick:()=>void _e(),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-slate-600 transition hover:border-slate-300",children:"Recharger"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-600",children:[n.jsx("div",{children:oe===0?"Aucun rsultat":`Affichage ${q.toLocaleString("fr-FR")}${Pe.toLocaleString("fr-FR")} sur ${oe.toLocaleString("fr-FR")}`}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"px-3 py-1.5 border border-slate-300 rounded-lg bg-white hover:bg-slate-100 disabled:opacity-40",onClick:()=>o(F=>Math.max(0,F-1)),disabled:i===0||c,children:"Prcdent"}),n.jsx("button",{className:"px-3 py-1.5 border border-slate-300 rounded-lg bg-white hover:bg-slate-100 disabled:opacity-40",onClick:()=>o(F=>Math.min(P-1,F+1)),disabled:i>=P-1||c,children:"Suivant"})]})]}),Z&&n.jsx(ej,{account:Z,busyId:v,disableStatus:zn(Z),disableRole:$n(Z),onView:()=>void Dn(Z),onToggleStatus:()=>void Tt(Z),onToggleRole:()=>void Hr(Z)})]}),n.jsx("div",{children:b?n.jsx(tj,{title:"Trajets du compte",account:(g==null?void 0:g.account)??Z,activity:g,loading:k,error:L,onRefresh:()=>fe(b,{preserveSelection:!0}),onSave:async F=>ge(b,F),fleet:w,fleetLoading:M,fleetError:H,onReloadFleet:Ae,fleetSchedules:J,onLoadSchedules:os,onUpdateRide:ve,onCloseRide:Ve,onShareRides:On}):n.jsxs("div",{className:"rounded-3xl border border-dashed border-slate-300 bg-white p-10 text-center text-slate-500",children:[n.jsx("h3",{className:"text-lg font-semibold text-slate-700",children:"Slectionne un compte"}),n.jsx("p",{className:"mt-2 text-sm",children:"Choisis un utilisateur dans la liste pour afficher ses informations dtailles, ses trajets et ses statistiques."})]})})]})]})}function Vc({status:e}){const t=e==="ACTIVE"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700";return n.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ${t}`,children:Uc[e]})}function hi({title:e,value:t,tone:s}){const r={green:"bg-emerald-50 text-emerald-700 border-emerald-100",amber:"bg-amber-50 text-amber-700 border-amber-100",sky:"bg-sky-50 text-sky-700 border-sky-100"};return n.jsxs("div",{className:`rounded-xl border px-4 py-5 ${r[s]} shadow-sm`,children:[n.jsx("p",{className:"text-xs uppercase font-semibold tracking-wide opacity-80",children:e}),n.jsx("p",{className:"text-2xl font-semibold mt-2",children:t})]})}function Kd({label:e,value:t,options:s,onChange:r}){return n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:e}),n.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(a=>{const l=a.value===t;return n.jsxs("button",{type:"button",onClick:()=>r(a.value),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1.5 text-xs font-semibold transition ${l?"border-sky-200 bg-sky-50 text-sky-700 shadow-sm":"border-slate-200 bg-white text-slate-600 hover:border-slate-300"}`,children:[a.label,typeof a.count=="number"&&n.jsx("span",{className:"rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-500",children:a.count})]},a.value)})})]})}function J1({item:e,selected:t,disabledStatus:s,disabledRole:r,loadingId:a,onSelect:l,onView:i,onToggleStatus:o,onToggleRole:c}){return n.jsxs("tr",{onClick:()=>l(e),className:`transition cursor-pointer ${t?"bg-sky-50/70":"hover:bg-slate-50"}`,children:[n.jsx("td",{className:"px-4 py-4 align-top",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:e.email}),n.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2.5 py-0.5 text-[11px] font-medium text-slate-600",children:qr[e.type]})]})}),n.jsx("td",{className:"px-4 py-4 text-sm text-slate-600 align-top",children:e.type==="INDIVIDUAL"?e.fullName||"":e.companyName||e.contactName||""}),n.jsx("td",{className:"px-4 py-4 align-top",children:n.jsx(Vc,{status:e.status})}),n.jsx("td",{className:"px-4 py-4 align-top",children:n.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-[11px] font-semibold ${e.role==="ADMIN"?"bg-sky-100 text-sky-700":"bg-slate-100 text-slate-600"}`,children:Il[e.role]})}),n.jsxs("td",{className:"px-4 py-4 text-sm text-slate-500 align-top",children:[Qs(e.lastLoginAt),n.jsxs("div",{className:"text-xs text-slate-400",children:[e.loginCount??0," connexions"]})]}),n.jsx("td",{className:"px-4 py-4 align-top",children:n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("button",{onClick:u=>{u.stopPropagation(),i(e)},className:"inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-600 transition hover:border-sky-200 hover:text-sky-600",children:"Voir"}),n.jsx("button",{onClick:u=>{u.stopPropagation(),o(e)},disabled:s||a===e.id,className:"inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-600 transition hover:border-amber-200 hover:text-amber-600 disabled:opacity-50",children:e.status==="ACTIVE"?"Suspendre":"Ractiver"}),n.jsx("button",{onClick:u=>{u.stopPropagation(),c(e)},disabled:r||a===e.id,className:"inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-600 transition hover:border-sky-200 hover:text-sky-600 disabled:opacity-50",children:e.role==="ADMIN"?"Retirer admin":"Promouvoir admin"})]})})]})}function Z1({item:e,selected:t,disabledStatus:s,disabledRole:r,loadingId:a,onSelect:l,onView:i,onToggleStatus:o,onToggleRole:c}){return n.jsxs("button",{type:"button",onClick:()=>l(e),className:`w-full text-left rounded-2xl border ${t?"border-sky-200 bg-sky-50/60":"border-slate-200 bg-white"} p-4 shadow-sm transition hover:border-sky-200 hover:bg-sky-50/50`,children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:e.email}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:e.type==="INDIVIDUAL"?e.fullName||"":e.companyName||e.contactName||""}),n.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2 text-xs text-slate-500",children:[n.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2 py-0.5",children:qr[e.type]}),n.jsx(Vc,{status:e.status}),n.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2 py-0.5",children:Il[e.role]})]})]}),n.jsxs("div",{className:"text-xs text-slate-400 text-right",children:[n.jsx("p",{children:Qs(e.lastLoginAt)}),n.jsxs("p",{children:[e.loginCount??0," connexions"]})]})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2 text-xs font-semibold",children:[n.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),i(e)},className:"inline-flex items-center justify-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-slate-600 transition hover:border-sky-200 hover:text-sky-600",children:"Voir"}),n.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),o(e)},disabled:s||a===e.id,className:"inline-flex items-center justify-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-slate-600 transition hover:border-amber-200 hover:text-amber-600 disabled:opacity-50",children:e.status==="ACTIVE"?"Suspendre":"Ractiver"}),n.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),c(e)},disabled:r||a===e.id,className:"inline-flex items-center justify-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-slate-600 transition hover:border-sky-200 hover:text-sky-600 disabled:opacity-50",children:e.role==="ADMIN"?"Retirer":"Promouvoir"})]})]})}function ej({account:e,busyId:t,disableStatus:s,disableRole:r,onView:a,onToggleStatus:l,onToggleRole:i}){const o=e.status==="ACTIVE"?"Suspendre":"Ractiver",c=e.role==="ADMIN"?"Retirer admin":"Promouvoir admin";return n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white px-5 py-4 shadow-sm",children:[n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Slection actuelle"}),n.jsx("p",{className:"text-base font-semibold text-slate-900",children:e.email}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-500",children:[n.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2 py-0.5",children:qr[e.type]}),n.jsx(Vc,{status:e.status}),n.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-[11px] font-semibold ${e.role==="ADMIN"?"bg-sky-100 text-sky-700":"bg-slate-100 text-slate-600"}`,children:Il[e.role]})]})]}),e.profilePhotoUrl&&n.jsx("img",{src:e.profilePhotoUrl,alt:e.fullName||e.companyName||e.email,className:"h-14 w-14 rounded-2xl object-cover border border-slate-200"})]}),n.jsxs("div",{className:"mt-4 grid gap-2 sm:grid-cols-3 text-xs font-semibold",children:[n.jsx("button",{type:"button",onClick:a,className:"inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 px-3 py-2 text-slate-600 transition hover:border-sky-200 hover:text-sky-600",children:"Voir la fiche"}),n.jsx("button",{type:"button",onClick:l,disabled:s||t===e.id,className:"inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 px-3 py-2 text-slate-600 transition hover:border-amber-200 hover:text-amber-600 disabled:opacity-50",children:o}),n.jsx("button",{type:"button",onClick:i,disabled:r||t===e.id,className:"inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 px-3 py-2 text-slate-600 transition hover:border-sky-200 hover:text-sky-600 disabled:opacity-50",children:c})]})]})}function tj({title:e,account:t,activity:s,loading:r,error:a,onRefresh:l,onSave:i,fleet:o,fleetLoading:c,fleetError:u,onReloadFleet:f,fleetSchedules:x,onLoadSchedules:d,onUpdateRide:y,onCloseRide:v,onShareRides:j}){const[b,m]=p.useState(""),[g,h]=p.useState(!1),[k,C]=p.useState(""),[L,_]=p.useState(""),[w,T]=p.useState(""),[M,I]=p.useState(""),[H,W]=p.useState(""),[J,se]=p.useState(""),[X,te]=p.useState(""),[S,E]=p.useState([]),[A,N]=p.useState([]),[D,V]=p.useState("default"),[Q,Y]=p.useState(""),[oe,de]=p.useState(!0),[Oe,B]=p.useState(!1),[R,K]=p.useState(),[z,P]=p.useState();p.useEffect(()=>{if(!t)return;m(t.profilePhotoUrl??""),h(!1),C(t.tagline??""),t.type==="INDIVIDUAL"?(T(t.fullName??""),_((t.comfortPreferences??[]).join(", "))):(I(t.companyName??""),W(t.registrationNumber??""),se(t.contactName??""),te(t.contactPhone??""),_(""),T(""));const $=t.homePreferences;E((($==null?void 0:$.favoriteRoutes)??[]).map(ve=>({from:ve.from,to:ve.to}))),N(($==null?void 0:$.quickActions)??[]),V(($==null?void 0:$.theme)??"default"),Y(($==null?void 0:$.heroMessage)??""),de(($==null?void 0:$.showTips)??!0),K(void 0),P(void 0)},[t]);const Z=p.useMemo(()=>L.split(",").map($=>$.trim()).filter(Boolean),[L]),ie=()=>{E($=>$.length>=xi?$:[...$,{from:"",to:""}])},le=$=>{E(ve=>ve.filter((Ve,Xe)=>Xe!==$))},we=($,ve,Ve)=>{E(Xe=>{const Qt=[...Xe];return Qt[$]={...Qt[$],[ve]:Ve},Qt})},q=$=>{N(ve=>ve.includes($)?ve.filter(Ve=>Ve!==$):[...ve,$])},Pe=()=>{const $=S.map(Ve=>({from:Ve.from.trim(),to:Ve.to.trim()})).filter(Ve=>Ve.from&&Ve.to).slice(0,xi),ve={};return $.length&&(ve.favoriteRoutes=$),A.length&&(ve.quickActions=A),D&&(ve.theme=D),Q.trim()&&(ve.heroMessage=Q.trim()),ve.showTips=oe,Object.keys(ve).length?ve:void 0},G=async $=>{var ve,Ve;if($.preventDefault(),!!t){B(!0),K(void 0),P(void 0);try{const Xe=b.trim(),Qt=k.trim(),On=Qt.length===0,Tt={tagline:On?void 0:Qt,removeTagline:On,profilePhotoUrl:g?void 0:Xe||void 0,removeProfilePhoto:g||!Xe&&!!t.profilePhotoUrl,homePreferences:Pe()};if(t.type==="INDIVIDUAL")Tt.fullName=w.trim()||void 0,Tt.comfortPreferences=Z;else{Tt.companyName=M.trim()||void 0;const Dn=H.trim();Tt.registrationNumber=Dn||void 0;const zn=J.trim();Tt.contactName=zn||void 0;const $n=X.trim();Tt.contactPhone=$n||void 0}await i(Tt)&&(P("Profil mis  jour."),h(!1),l())}catch(Xe){K(((Ve=(ve=Xe==null?void 0:Xe.response)==null?void 0:ve.data)==null?void 0:Ve.message)||(Xe==null?void 0:Xe.message)||"Erreur lors de la mise  jour.")}finally{B(!1)}}},Ue=(s==null?void 0:s.rides.items)??[],_e=(s==null?void 0:s.bookings.items)??[],fe=s==null?void 0:s.rides.summary,ge=s==null?void 0:s.bookings.summary,Ae=s==null?void 0:s.metrics,os=e??"Activit du compte";return n.jsxs("section",{className:"bg-white border border-slate-200 rounded-3xl shadow-sm p-6 lg:p-8 space-y-6",children:[n.jsxs("header",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"inline-flex items-center gap-2 rounded-full bg-sky-100 px-3 py-1 text-[11px] font-semibold text-sky-700",children:(t==null?void 0:t.type)==="COMPANY"?"Compte entreprise":"Compte particulier"}),n.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:os}),n.jsx("p",{className:"text-sm text-slate-500",children:"Ajuste les informations cls, personnalise laccueil et garde un il sur les trajets partags."})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs font-semibold text-slate-500",children:[r&&n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1.5",children:[n.jsx(At,{size:12,className:"animate-spin"})," Chargement"]}),n.jsxs("button",{type:"button",onClick:l,disabled:!t||r,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-slate-600 transition hover:border-sky-200 hover:text-sky-600 disabled:opacity-50",children:[n.jsx(At,{size:14})," Rafrachir"]})]})]}),a&&n.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 text-sm text-rose-700 px-4 py-3",children:a}),t&&n.jsxs("form",{onSubmit:G,className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-[auto,1fr]",children:[n.jsx("div",{className:"relative h-24 w-24 overflow-hidden rounded-2xl border border-slate-200 bg-slate-100",children:g?n.jsx("div",{className:"flex h-full w-full items-center justify-center text-xs text-slate-400",children:"Photo supprime"}):b||t.profilePhotoUrl?n.jsx("img",{src:g?"":b||t.profilePhotoUrl||"",alt:"Photo de profil",className:"h-full w-full object-cover",onError:()=>m("")}):n.jsx("div",{className:"flex h-full w-full items-center justify-center text-xs text-slate-400",children:"Pas de photo"})}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[n.jsxs("div",{className:"text-sm text-slate-600",children:[n.jsx("p",{className:"font-medium text-slate-800",children:"Email"}),n.jsx("p",{children:t.email})]}),n.jsxs("div",{className:"text-sm text-slate-600",children:[n.jsx("p",{className:"font-medium text-slate-800",children:"Type"}),n.jsx("p",{children:qr[t.type]})]}),n.jsxs("div",{className:"text-sm text-slate-600",children:[n.jsx("p",{className:"font-medium text-slate-800",children:"Rle"}),n.jsx("p",{children:Il[t.role]})]}),n.jsxs("div",{className:"text-sm text-slate-600",children:[n.jsx("p",{className:"font-medium text-slate-800",children:"Statut"}),n.jsx("p",{children:Uc[t.status]})]})]}),n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase text-slate-500",children:"Photo (URL)"}),n.jsx("input",{type:"url",value:b,onChange:$=>{m($.target.value),h(!1)},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200",placeholder:"https://"})]}),n.jsxs("div",{className:"flex items-end gap-3",children:[n.jsx("button",{type:"button",className:"mt-6 rounded-lg border border-slate-300 px-3 py-2 text-xs text-slate-600 hover:bg-slate-100",onClick:()=>{h(!0),m("")},children:"Retirer la photo"}),n.jsx("span",{className:"mt-6 text-xs text-slate-500",children:"Prconise une image carre (600600) accessible publiquement."})]})]})]})]}),n.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:t.type==="INDIVIDUAL"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase text-slate-500",children:"Nom complet"}),n.jsx("input",{value:w,onChange:$=>T($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200",placeholder:"Nom Prnom"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase text-slate-500",children:"Prfrences de confort"}),n.jsx("textarea",{value:L,onChange:$=>_($.target.value),rows:2,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200",placeholder:"Musique douce, Pause caf"}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Spare chaque prfrence par une virgule."})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase text-slate-500",children:"Entreprise"}),n.jsx("input",{value:M,onChange:$=>I($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200",placeholder:"Nom de lorganisation"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase text-slate-500",children:"N denregistrement"}),n.jsx("input",{value:H,onChange:$=>W($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200",placeholder:"RCCM / SIRET"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase text-slate-500",children:"Contact principal"}),n.jsx("input",{value:J,onChange:$=>se($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200",placeholder:"Nom du rfrent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase text-slate-500",children:"Tlphone"}),n.jsx("input",{value:X,onChange:$=>te($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200",placeholder:"+225"})]})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase text-slate-500",children:"Accroche"}),n.jsx("textarea",{value:k,onChange:$=>C($.target.value),rows:2,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200",placeholder:"Message court affich sur le profil"})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase text-slate-500",children:"Thme daccueil"}),n.jsx("select",{value:D,onChange:$=>V($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200",children:dx.map($=>n.jsx("option",{value:$.id,children:$.label},$.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase text-slate-500",children:"Message daccueil"}),n.jsx("input",{value:Q,onChange:$=>Y($.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200",placeholder:"Texte mis en avant sur la page daccueil"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Raccourcis rapides"}),n.jsx("div",{className:"flex flex-wrap gap-3",children:$c.map($=>{const ve=A.includes($.id);return n.jsx("button",{type:"button",onClick:()=>q($.id),className:`rounded-xl border px-4 py-2 text-sm transition ${ve?"border-sky-400 bg-sky-50 text-sky-700":"border-slate-200 bg-white text-slate-600 hover:border-sky-200 hover:text-sky-600"}`,children:$.label},$.id)})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Trajets favoris"}),n.jsx("button",{type:"button",className:"text-xs font-medium text-sky-600 hover:text-sky-700",onClick:ie,disabled:S.length>=xi,children:"Ajouter un trajet"})]}),S.length===0&&n.jsx("p",{className:"text-sm text-slate-500",children:"Ajoute des itinraires rcurrents pour les proposer directement depuis la page daccueil."}),S.map(($,ve)=>n.jsxs("div",{className:"grid gap-3 rounded-xl border border-slate-200 bg-slate-50 px-3 py-3 sm:grid-cols-[repeat(2,minmax(0,1fr)),auto]",children:[n.jsx("input",{value:$.from,onChange:Ve=>we(ve,"from",Ve.target.value),placeholder:"Ville de dpart",className:"rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200"}),n.jsx("input",{value:$.to,onChange:Ve=>we(ve,"to",Ve.target.value),placeholder:"Ville darrive",className:"rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200"}),n.jsx("button",{type:"button",onClick:()=>le(ve),className:"rounded-lg border border-slate-300 px-3 py-2 text-xs text-slate-500 hover:bg-slate-100",children:"Supprimer"})]},`${$.from}-${$.to}-${ve}`))]}),n.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-600",children:[n.jsx("input",{type:"checkbox",checked:oe,onChange:$=>de($.target.checked),className:"h-4 w-4 rounded border-slate-300 text-sky-600 focus:ring-sky-200"}),"Afficher les encarts de conseils sur la page daccueil"]}),R&&n.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:R}),z&&n.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-700",children:z}),n.jsx("div",{className:"flex items-center justify-end",children:n.jsx("button",{type:"submit",disabled:Oe,className:"rounded-xl bg-sky-600 px-5 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-sky-700 disabled:opacity-50",children:Oe?"Enregistrement":"Enregistrer les modifications"})})]}),!r&&!a&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(ma,{label:"Trajets publis",value:(s==null?void 0:s.rides.total)??0,hint:`${(fe==null?void 0:fe.published)??0} actifs`}),n.jsx(ma,{label:"Dparts  venir",value:(Ae==null?void 0:Ae.rides.upcoming)??0,hint:`${(Ae==null?void 0:Ae.rides.past)??0} passs`}),n.jsx(ma,{label:"Places rserves",value:(Ae==null?void 0:Ae.rides.seatsReserved)??0,hint:`/${(Ae==null?void 0:Ae.rides.seatsPublished)??0} proposes`}),n.jsx(ma,{label:"Rservations",value:(s==null?void 0:s.bookings.total)??0,hint:`${(ge==null?void 0:ge.seatsTotal)??0} places`})]}),(t==null?void 0:t.type)==="COMPANY"&&n.jsx(sj,{fleet:o,fleetLoading:c,fleetError:u,onReloadFleet:f,scheduleState:x,onLoadSchedules:d}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[2fr,1fr] gap-6",children:[n.jsx(Ao,{title:"Trajets du compte",account:t,rides:Ue,summary:fe,metrics:Ae==null?void 0:Ae.rides,loading:r,onUpdateRide:y,onCloseRide:v,onShareRides:j,digestRecipient:t==null?void 0:t.email}),n.jsx(aj,{title:"Rservations",emptyMessage:"Aucune rservation enregistre pour ce compte.",items:_e,getKey:$=>$.id,renderItem:$=>n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-slate-800",children:["Rservation #",$.id.slice(0,8).toUpperCase()]}),n.jsxs("p",{className:"text-xs text-slate-500",children:["Cre ",Qs($.createdAt),"  ",$.seats," places"]})]}),n.jsxs("div",{className:"text-sm text-slate-600 text-right",children:[n.jsx("span",{className:"block",children:Wd($.amount)}),n.jsxs("span",{className:"block text-xs text-slate-400",children:["Statut : ",$.status]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"rounded-xl border border-slate-200 p-4 bg-slate-50",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3 uppercase tracking-wide",children:"Statuts de rservation"}),n.jsx("ul",{className:"space-y-2 text-sm text-slate-600",children:ge&&Object.keys(ge.byStatus).length>0?Object.entries(ge.byStatus).map(([$,ve])=>n.jsxs("li",{className:"flex items-center justify-between",children:[n.jsx("span",{children:$}),n.jsx("span",{className:"font-medium",children:ve})]},$)):n.jsx("li",{className:"text-slate-500 text-sm",children:"Aucune donne"})})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 p-4 bg-slate-50",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3 uppercase tracking-wide",children:"Totaux financiers"}),n.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[n.jsxs("li",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Montant rserv (hors frais)"}),n.jsx("span",{className:"font-semibold",children:Wd((ge==null?void 0:ge.amountTotal)??0)})]}),n.jsxs("li",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Places rserves"}),n.jsx("span",{className:"font-semibold",children:(ge==null?void 0:ge.seatsTotal)??0})]})]})]})]})]})]})}function sj({fleet:e,fleetLoading:t,fleetError:s,onReloadFleet:r,scheduleState:a,onLoadSchedules:l}){const i=Array.isArray(e==null?void 0:e.data)?e.data:[],o=e==null?void 0:e.summary,c=i.length,u=(o==null?void 0:o.active)??0,f=(o==null?void 0:o.fleetSeats)??0,x=(o==null?void 0:o.upcomingTrips)??0;return n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 space-y-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"Flotte entreprise"}),n.jsxs("button",{type:"button",onClick:()=>r==null?void 0:r(),className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 px-3 py-1.5 text-xs text-slate-600 hover:bg-slate-100 disabled:opacity-50",disabled:t||!r,children:[n.jsx(At,{size:14})," Rafrachir"]})]}),s&&n.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-4 py-2 text-xs text-rose-700",children:s}),t?n.jsx("p",{className:"text-sm text-slate-500",children:"Chargement de la flotte"}):e?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-3 sm:grid-cols-4 text-xs text-slate-600",children:[n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-3",children:[n.jsx("p",{className:"uppercase font-semibold text-slate-500",children:"Vhicules"}),n.jsx("p",{className:"mt-1 text-lg font-semibold text-slate-800",children:c})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-3",children:[n.jsx("p",{className:"uppercase font-semibold text-slate-500",children:"Actifs"}),n.jsx("p",{className:"mt-1 text-lg font-semibold text-emerald-600",children:u})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-3",children:[n.jsx("p",{className:"uppercase font-semibold text-slate-500",children:"Capacit"}),n.jsxs("p",{className:"mt-1 text-lg font-semibold text-slate-800",children:[f," siges"]})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-3",children:[n.jsx("p",{className:"uppercase font-semibold text-slate-500",children:"Dparts  venir"}),n.jsx("p",{className:"mt-1 text-lg font-semibold text-slate-800",children:x})]})]}),n.jsx("div",{className:"space-y-4",children:i.map(d=>{var b,m;const y=a==null?void 0:a[d.id],v=(y==null?void 0:y.items)??d.upcomingSchedules??[],j=d.status==="ACTIVE"?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-600";return n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-4 py-4 space-y-3",children:[n.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[d.label," ",n.jsxs("span",{className:"text-xs text-slate-500",children:["(",d.plateNumber,")"]})]}),n.jsxs("p",{className:"text-xs text-slate-500",children:[d.category,"  ",d.seats," siges",d.brand?`  ${d.brand} ${d.model??""}`:""]})]}),n.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-[11px] font-semibold ${j}`,children:d.status==="ACTIVE"?"Actif":"Inactif"})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-slate-500",children:[n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx(ts,{size:12}),((b=d.metrics)==null?void 0:b.upcomingTrips)??0," dpart(s) planifis"]}),((m=d.metrics)==null?void 0:m.nextDepartureAt)&&n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx(Nt,{size:12}),"Prochain : ",Qs(d.metrics.nextDepartureAt)]}),d.amenities&&d.amenities.length>0&&n.jsxs("span",{className:"inline-flex items-center gap-1",children:["quipements : ",d.amenities.join(", ")]})]}),n.jsx("div",{className:"space-y-2",children:v.length===0?n.jsx("p",{className:"text-xs text-slate-500",children:"Aucun dpart enregistr. Utilise la page Gestion de flotte pour programmer les prochains voyages."}):v.slice(0,3).map(g=>n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs text-slate-600",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[n.jsxs("span",{className:"font-medium text-slate-700",children:[g.originCity,"  ",g.destinationCity]}),n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx(bt,{size:11}),Qs(g.departureAt)]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-[11px] text-slate-500 mt-1",children:[n.jsxs("span",{children:[g.plannedSeats," siges"]}),n.jsxs("span",{children:["Statut : ",g.status]}),g.pricePerSeat>0&&n.jsxs("span",{children:[g.pricePerSeat.toLocaleString()," XOF / sige"]})]})]},g.id))}),l&&n.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[n.jsx("button",{type:"button",onClick:()=>l==null?void 0:l(d.id,"upcoming"),disabled:!l,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 px-3 py-1.5 text-xs text-slate-600 hover:bg-slate-100 disabled:opacity-50",children:y!=null&&y.loading?"Chargement":"Voir  venir"}),n.jsx("button",{type:"button",onClick:()=>l==null?void 0:l(d.id,"past"),disabled:!l,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 px-3 py-1.5 text-xs text-slate-600 hover:bg-slate-100 disabled:opacity-50",children:"Historique"})]}),(y==null?void 0:y.error)&&n.jsx("p",{className:"text-[11px] text-amber-600",children:y.error}),y&&y.window==="past"&&y.items.length>0&&n.jsx("p",{className:"text-[11px] text-slate-500",children:"Affichage des trajets passs (dernier chargement)."})]},d.id)})})]}):n.jsx("p",{className:"text-sm text-slate-500",children:"Aucune donne de flotte disponible pour ce compte."})]})}function Ao({title:e,account:t,rides:s,summary:r,metrics:a,loading:l,error:i,enableDigest:o=!0,digestRecipient:c,onAfterMutation:u,onUpdateRide:f,onCloseRide:x,onShareRides:d,onRefresh:y}){const[v,j]=p.useState(null),[b,m]=p.useState(null),[g,h]=p.useState(!1),[k,C]=p.useState(),[L,_]=p.useState(),w=Array.isArray(s)?s:[],T=e.toLowerCase().includes("venir")?"Aucun trajet planifi pour cette priode.":"Aucun trajet disponible pour ce filtre.",[M,I]=p.useState(!1),[H,W]=p.useState(!1),[J,se]=p.useState({}),X=c??(t==null?void 0:t.email)??"",te=o&&!!d&&!!X,[S,E]=p.useState({status:"ALL",limit:25,includeUpcomingOnly:!0,attachCsv:!0,includeInsights:!0,targetScope:(t==null?void 0:t.type)==="INDIVIDUAL"?"ACCOUNT_ONLY":"ALL",message:""}),A=async()=>{if(y){I(!0);try{await y()}finally{I(!1)}}};p.useEffect(()=>{j(null),m(null),_(void 0)},[t==null?void 0:t.id]),p.useEffect(()=>{if(!te){se({});return}E(B=>({...B,targetScope:(t==null?void 0:t.type)==="INDIVIDUAL"?"ACCOUNT_ONLY":B.targetScope})),se({})},[t==null?void 0:t.id,t==null?void 0:t.type,te]),p.useEffect(()=>{if(!v)return;const B=w.find(R=>R.id===v);B&&m({originCity:B.originCity,destinationCity:B.destinationCity,departureLocal:rj(B.departureAt),seatsTotal:String(B.seatsTotal),seatsAvailable:String(B.seatsAvailable),pricePerSeat:String(B.pricePerSeat),status:B.status})},[v,w]);const N=(r==null?void 0:r.occupancyRate)??0,D=Math.round(N*1e3)/10,V=(r==null?void 0:r.topRoutes)??[],Q=B=>{v===B?(j(null),m(null)):(j(B),_(void 0))},Y=async B=>{var R,K;if(B.preventDefault(),!(!v||!b||!f)){h(!0),_(void 0);try{const z=Number(b.seatsTotal),P=Number(b.seatsAvailable),Z=Number(b.pricePerSeat);if(!Number.isFinite(z)||z<=0)throw new Error("Nombre de places invalide");if(!Number.isFinite(P)||P<0)throw new Error("Places restantes invalides");const ie={originCity:b.originCity.trim(),destinationCity:b.destinationCity.trim(),seatsTotal:z,seatsAvailable:P,pricePerSeat:Z,status:b.status};if(b.departureLocal){const le=new Date(b.departureLocal);if(Number.isNaN(le.getTime()))throw new Error("Date de dpart invalide");ie.departureAt=le.toISOString()}await f(v,ie),u&&await u(),_({kind:"success",message:"Trajet mis  jour."}),j(null),m(null)}catch(z){const P=((K=(R=z==null?void 0:z.response)==null?void 0:R.data)==null?void 0:K.message)||(z==null?void 0:z.message)||"Mise  jour impossible.";_({kind:"error",message:P})}finally{h(!1)}}},oe=async B=>{var R,K;if(x){C(B),_(void 0);try{await x(B),u&&await u(),_({kind:"success",message:"Trajet cltur."})}catch(z){const P=((K=(R=z==null?void 0:z.response)==null?void 0:R.data)==null?void 0:K.message)||(z==null?void 0:z.message)||"Impossible de clturer le trajet.";_({kind:"error",message:P})}finally{C(void 0)}}},de=async B=>{var R,K;if(B.preventDefault(),!(!d||!(t!=null&&t.email))){W(!0),se({});try{const z=await d({recipient:t.email,status:S.status,limit:S.limit,includeUpcomingOnly:S.includeUpcomingOnly,attachCsv:S.attachCsv,includeInsights:S.includeInsights,targetScope:S.targetScope,driverId:S.targetScope==="ACCOUNT_ONLY"&&t.id?t.id:void 0,message:S.message.trim()?S.message.trim():void 0});z.reason==="empty"||z.count===0?se({error:"Aucun trajet correspondant aux filtres n'a t trouv.",insights:z.insights}):z.delivered?se({success:`Digest envoy (${z.count??0} trajets).`,insights:z.insights}):se({error:"Le digest n'a pas pu tre dlivr (vrifie la configuration SMTP).",insights:z.insights})}catch(z){const P=((K=(R=z==null?void 0:z.response)==null?void 0:R.data)==null?void 0:K.message)||(z==null?void 0:z.message)||"Envoi impossible.",Z=Y1[P]??P;se({error:Z})}finally{W(!1)}}},Oe=!f;return n.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-4 space-y-4 shadow-sm",children:[n.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-600",children:e}),n.jsx("p",{className:"text-xs text-slate-500",children:te?"Ajuste les trajets, clture les publications ou partage un digest personnalis.":"Visualise et ajuste les trajets directement depuis cet espace."})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-500",children:[y&&n.jsxs("button",{type:"button",onClick:()=>void A(),disabled:M||l,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1.5 font-semibold text-slate-600 hover:border-sky-200 hover:text-sky-600 disabled:opacity-50",children:[n.jsx(At,{size:12})," Recharger"]}),te&&X&&n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-2 py-1",children:[n.jsx(bt,{size:12})," ",X]})]})]}),n.jsxs("div",{className:"grid gap-3 sm:grid-cols-3 text-sm text-slate-600",children:[n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-3",children:[n.jsx("p",{className:"uppercase text-xs font-semibold text-slate-500",children:"Dparts  venir"}),n.jsx("p",{className:"mt-1 text-lg font-semibold text-slate-800",children:(r==null?void 0:r.upcoming)??(a==null?void 0:a.upcoming)??0})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-3",children:[n.jsx("p",{className:"uppercase text-xs font-semibold text-slate-500",children:"Remplissage moyen"}),n.jsx("p",{className:"mt-1 text-lg font-semibold text-slate-800",children:Number.isFinite(D)?`${D.toFixed(1)} %`:"0 %"})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-3",children:[n.jsx("p",{className:"uppercase text-xs font-semibold text-slate-500",children:"Prix moyen"}),n.jsxs("p",{className:"mt-1 text-lg font-semibold text-slate-800",children:[((r==null?void 0:r.averagePrice)??0).toLocaleString("fr-FR")," F CFA"]})]})]}),i&&n.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700 flex flex-wrap items-center justify-between gap-2",children:[n.jsx("span",{children:i}),y&&n.jsx("button",{type:"button",onClick:()=>void A(),disabled:M||l,className:"rounded-full border border-rose-300 px-3 py-1 font-semibold text-rose-700 hover:bg-rose-100 disabled:opacity-50",children:"Ressayer"})]}),L&&n.jsx("div",{className:`rounded-lg border px-3 py-2 text-xs ${L.kind==="success"?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-rose-200 bg-rose-50 text-rose-700"}`,children:L.message}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left",children:"Itinraire"}),n.jsx("th",{className:"px-3 py-2 text-left",children:"Dpart"}),n.jsx("th",{className:"px-3 py-2 text-center",children:"Places"}),n.jsx("th",{className:"px-3 py-2 text-right",children:"Prix"}),n.jsx("th",{className:"px-3 py-2 text-center",children:"Statut"}),n.jsx("th",{className:"px-3 py-2 text-right",children:"Actions"})]})}),n.jsx("tbody",{children:l?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-3 py-4 text-center text-slate-500",children:"Chargement des trajets"})}):w.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-3 py-4 text-center text-slate-500",children:T})}):w.map(B=>{const R=B.seatsTotal-B.seatsAvailable,K=v===B.id;return n.jsxs("tr",{className:`border-t border-slate-100 ${K?"bg-sky-50/60":"bg-white"}`,children:[n.jsxs("td",{className:"px-3 py-2",children:[n.jsxs("div",{className:"font-medium text-slate-800",children:[B.originCity,"  ",B.destinationCity]}),n.jsxs("div",{className:"text-xs text-slate-500",children:["#",B.id.slice(0,8)]})]}),n.jsx("td",{className:"px-3 py-2 text-slate-600",children:Qs(B.departureAt)}),n.jsxs("td",{className:"px-3 py-2 text-center text-slate-600",children:[R,"/",B.seatsTotal]}),n.jsxs("td",{className:"px-3 py-2 text-right text-slate-600",children:[B.pricePerSeat.toLocaleString("fr-FR")," F"]}),n.jsx("td",{className:"px-3 py-2 text-center",children:n.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-[11px] font-semibold ${B.status==="PUBLISHED"?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-600"}`,children:B.status==="PUBLISHED"?"Publi":"Cltur"})}),n.jsxs("td",{className:"px-3 py-2 text-right space-x-2",children:[n.jsxs("button",{type:"button",onClick:()=>Q(B.id),className:"inline-flex items-center gap-1 rounded-lg border border-slate-200 px-2 py-1 text-xs text-slate-600 hover:border-sky-200 hover:text-sky-600",children:[n.jsx(wy,{size:12})," Modifier"]}),n.jsxs("button",{type:"button",onClick:()=>oe(B.id),disabled:B.status==="CLOSED"||k===B.id,className:"inline-flex items-center gap-1 rounded-lg border border-slate-200 px-2 py-1 text-xs text-slate-600 hover:border-rose-200 hover:text-rose-600 disabled:opacity-50",children:[n.jsx(uy,{size:12})," Clturer"]})]})]},B.id)})})]})}),v&&b&&n.jsxs("form",{onSubmit:Y,className:"rounded-xl border border-slate-200 bg-slate-50 p-4 space-y-3",children:[n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-500",children:"Origine"}),n.jsx("input",{value:b.originCity,onChange:B=>m(R=>R&&{...R,originCity:B.target.value}),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-500",children:"Destination"}),n.jsx("input",{value:b.destinationCity,onChange:B=>m(R=>R&&{...R,destinationCity:B.target.value}),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-500",children:"Dpart"}),n.jsx("input",{type:"datetime-local",value:b.departureLocal,onChange:B=>m(R=>R&&{...R,departureLocal:B.target.value}),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-500",children:"Places totales"}),n.jsx("input",{type:"number",min:1,value:b.seatsTotal,onChange:B=>m(R=>R&&{...R,seatsTotal:B.target.value}),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-500",children:"Places restantes"}),n.jsx("input",{type:"number",min:0,value:b.seatsAvailable,onChange:B=>m(R=>R&&{...R,seatsAvailable:B.target.value}),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-500",children:"Prix / place"}),n.jsx("input",{type:"number",min:0,value:b.pricePerSeat,onChange:B=>m(R=>R&&{...R,pricePerSeat:B.target.value}),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-500",children:"Statut"}),n.jsxs("select",{value:b.status,onChange:B=>m(R=>R&&{...R,status:B.target.value}),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200",children:[n.jsx("option",{value:"PUBLISHED",children:"Publi"}),n.jsx("option",{value:"CLOSED",children:"Cltur"})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n.jsxs("button",{type:"submit",disabled:g||Oe,className:"inline-flex items-center gap-2 rounded-lg bg-sky-600 px-3 py-2 font-semibold text-white hover:bg-sky-700 disabled:opacity-50",children:[n.jsx(Ey,{size:14})," Enregistrer"]}),n.jsx("button",{type:"button",onClick:()=>{j(null),m(null)},className:"inline-flex items-center gap-2 rounded-lg border border-slate-300 px-3 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Annuler"})]})]}),te&&n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 space-y-3",children:[n.jsxs("form",{onSubmit:de,className:"space-y-3",children:[n.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Partager par email"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Envoie un digest synthtique au contact slectionn (CSV en pice jointe)."})]}),n.jsxs("button",{type:"submit",disabled:H||!d||!(t!=null&&t.email),className:"inline-flex items-center gap-2 rounded-lg bg-sky-600 px-3 py-2 text-xs font-semibold text-white hover:bg-sky-700 disabled:opacity-50",children:[n.jsx(Rc,{size:14})," Envoyer le digest"]})]}),n.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-500",children:"Statut"}),n.jsxs("select",{value:S.status,onChange:B=>E(R=>({...R,status:B.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200",children:[n.jsx("option",{value:"ALL",children:"Tous"}),n.jsx("option",{value:"PUBLISHED",children:"Publies"}),n.jsx("option",{value:"CLOSED",children:"Clotures"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-500",children:"Limite"}),n.jsx("input",{type:"number",min:1,max:500,value:S.limit,onChange:B=>E(R=>({...R,limit:Math.max(1,Math.min(500,Number(B.target.value)||0))})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-500",children:"Porte"}),n.jsxs("select",{value:S.targetScope,onChange:B=>E(R=>({...R,targetScope:B.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200",children:[n.jsx("option",{value:"ACCOUNT_ONLY",children:"Trajets du compte"}),n.jsx("option",{value:"ALL",children:"Catalogue global"})]})]})]}),n.jsxs("div",{className:"grid gap-3 sm:grid-cols-3 text-xs text-slate-600",children:[n.jsxs("label",{className:"inline-flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:S.includeUpcomingOnly,onChange:B=>E(R=>({...R,includeUpcomingOnly:B.target.checked}))}),"Trajets  venir uniquement"]}),n.jsxs("label",{className:"inline-flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:S.attachCsv,onChange:B=>E(R=>({...R,attachCsv:B.target.checked}))}),"Joindre le CSV"]}),n.jsxs("label",{className:"inline-flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:S.includeInsights,onChange:B=>E(R=>({...R,includeInsights:B.target.checked}))}),"Inclure les insights"]})]}),n.jsx("textarea",{value:S.message,onChange:B=>E(R=>({...R,message:B.target.value})),rows:2,placeholder:"Ajoute un message personnalis (facultatif)",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200"})]}),H&&n.jsx("p",{className:"text-xs text-slate-500",children:"Prparation et envoi du digest"}),J.success&&n.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-700",children:J.success}),J.error&&n.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:J.error}),te&&J.insights&&S.includeInsights&&n.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs text-slate-600",children:[J.insights.nextDeparture?n.jsxs("p",{children:["Prochain dpart mis en avant :"," ",n.jsxs("strong",{children:[J.insights.nextDeparture.originCity," "," ",J.insights.nextDeparture.destinationCity]})," ","(",Qs(J.insights.nextDeparture.departureAt),")."]}):n.jsx("p",{children:"Aucun dpart  venir n'a t identifi."}),J.insights.topRoutes&&J.insights.topRoutes.length>0&&n.jsxs("p",{className:"mt-1",children:["Itinraires populaires :"," ",J.insights.topRoutes.map(B=>`${B.origin}  ${B.destination} (${B.count})`).join(", ")]})]})]}),V.length>0&&n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-3 text-xs text-slate-600",children:[n.jsx("p",{className:"font-semibold text-slate-700",children:"Top itinraires"}),n.jsx("ul",{className:"mt-2 space-y-1",children:V.map(B=>n.jsxs("li",{children:[B.origin,"  ",B.destination," (",B.count,")"]},`${B.origin}-${B.destination}`))})]})]})}function nj({defaultRecipient:e,disabled:t,onShare:s}){const[r,a]=p.useState(e??""),[l,i]=p.useState("ALL"),[o,c]=p.useState("UPCOMING"),[u,f]=p.useState(""),[x,d]=p.useState(""),[y,v]=p.useState(50),[j,b]=p.useState(""),[m,g]=p.useState(!1),[h,k]=p.useState();p.useEffect(()=>{a(e??"")},[e]);const C=async L=>{var _,w,T;if(L.preventDefault(),!(!r.trim()||t)){g(!0),k(void 0);try{const M=new Date().toISOString(),I={recipient:r.trim(),status:l==="ALL"?void 0:l,limit:Math.min(Math.max(y,1),200),includeInsights:!0,attachCsv:!0,includeUpcomingOnly:o==="UPCOMING",targetScope:"ALL"};o==="PAST"?(I.includeUpcomingOnly=!1,I.departureBefore=M):o==="UPCOMING"&&(I.departureAfter=M),u.trim()&&(I.origin=u.trim()),x.trim()&&(I.destination=x.trim()),j.trim()&&(I.message=j.trim());const H=await s(I);if(H.delivered){const W=H.count??((_=H.summary)==null?void 0:_.published)??0;k({success:`Digest envoy (${W} trajets).`})}else k({error:H.reason||"Le digest n'a pas pu tre dlivr."})}catch(M){const I=((T=(w=M==null?void 0:M.response)==null?void 0:w.data)==null?void 0:T.message)||(M==null?void 0:M.message)||"Envoi impossible.";k({error:I})}finally{g(!1)}}};return n.jsxs("aside",{className:"rounded-3xl border border-slate-200 bg-white px-5 py-6 shadow-sm space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Partager les trajets par email"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Diffuse une slection filtre vers nimporte quel destinataire (CSV et insights inclus)."})]}),n.jsxs("form",{className:"space-y-3",onSubmit:C,children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Destinataire"}),n.jsx("input",{type:"email",value:r,onChange:L=>a(L.target.value),className:"mt-1 w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200",placeholder:"ex: admin@entreprise.ci",required:!0})]}),n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Priode"}),n.jsxs("select",{className:"mt-1 w-full rounded-xl border border-slate-300 px-3 py-2 text-sm",value:o,onChange:L=>c(L.target.value),children:[n.jsx("option",{value:"UPCOMING",children:"Trajets  venir"}),n.jsx("option",{value:"PAST",children:"Trajets passs"}),n.jsx("option",{value:"ALL",children:"Tous les trajets"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Statut"}),n.jsxs("select",{className:"mt-1 w-full rounded-xl border border-slate-300 px-3 py-2 text-sm",value:l,onChange:L=>i(L.target.value),children:[n.jsx("option",{value:"ALL",children:"Tous"}),n.jsx("option",{value:"PUBLISHED",children:"Publis"}),n.jsx("option",{value:"CLOSED",children:"Clturs"})]})]})]}),n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Origine (optionnel)"}),n.jsx("input",{value:u,onChange:L=>f(L.target.value),className:"mt-1 w-full rounded-xl border border-slate-300 px-3 py-2 text-sm",placeholder:"Abidjan"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Destination (optionnel)"}),n.jsx("input",{value:x,onChange:L=>d(L.target.value),className:"mt-1 w-full rounded-xl border border-slate-300 px-3 py-2 text-sm",placeholder:"Bouak"})]})]}),n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Limite (max 200)"}),n.jsx("input",{type:"number",min:1,max:200,value:y,onChange:L=>v(Number(L.target.value)||1),className:"mt-1 w-full rounded-xl border border-slate-300 px-3 py-2 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Message"}),n.jsx("input",{value:j,onChange:L=>b(L.target.value),className:"mt-1 w-full rounded-xl border border-slate-300 px-3 py-2 text-sm",placeholder:"Contexte du partage"})]})]}),n.jsxs("button",{type:"submit",disabled:m||t||!r.trim(),className:"inline-flex w-full items-center justify-center gap-2 rounded-xl bg-slate-900 px-4 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 disabled:opacity-50",children:[n.jsx(Rc,{size:14})," ",m?"Envoi en cours":"Envoyer le digest"]})]}),(h==null?void 0:h.success)&&n.jsx("div",{className:"rounded-xl border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-700",children:h.success}),(h==null?void 0:h.error)&&n.jsx("div",{className:"rounded-xl border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:h.error})]})}function rj(e){const t=new Date(e);if(!Number.isFinite(t.getTime()))return"";const s=r=>String(r).padStart(2,"0");return`${t.getFullYear()}-${s(t.getMonth()+1)}-${s(t.getDate())}T${s(t.getHours())}:${s(t.getMinutes())}`}function ma({label:e,value:t,hint:s}){return n.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50 px-4 py-3",children:[n.jsx("p",{className:"text-xs uppercase font-semibold text-slate-500",children:e}),n.jsx("p",{className:"text-xl font-semibold text-slate-800 mt-1",children:t}),s&&n.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:s})]})}function aj({title:e,items:t,emptyMessage:s,renderItem:r,getKey:a}){return n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 space-y-3 shadow-sm",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:e}),n.jsx("div",{className:"space-y-3 max-h-72 overflow-y-auto pr-1",children:t.length===0?n.jsx("p",{className:"text-sm text-slate-500",children:s}):t.map((l,i)=>{const o=a?a(l,i):i;return n.jsx("div",{className:"rounded-xl border border-slate-100 bg-slate-50 px-3 py-3 text-sm text-slate-600",children:r(l)},o)})})]})}const Gd={label:"",plateNumber:"",category:"MINIBUS",seats:"15",brand:"",model:"",year:"",amenities:""},Qd={originCity:"",destinationCity:"",departureAt:"",arrivalEstimate:"",plannedSeats:"",pricePerSeat:"",recurrence:"NONE",notes:""};function lj(e){if(!e)return"";const t=new Date(e);return Number.isFinite(t.getTime())?t.toLocaleString(void 0,{weekday:"short",day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):""}function ij(e){return!e||e.length===0?"":e.join(", ")}function oj(){var B;const e=ne(R=>R.account),t=(e==null?void 0:e.type)==="COMPANY",[s,r]=p.useState(!1),[a,l]=p.useState([]),[i,o]=p.useState({active:0,inactive:0,fleetSeats:0,upcomingTrips:0}),[c,u]=p.useState(),[f,x]=p.useState(Gd),[d,y]=p.useState(!1),[v,j]=p.useState(),[b,m]=p.useState({}),[g,h]=p.useState({}),[k,C]=p.useState({}),[L,_]=p.useState("ALL"),w=((B=e==null?void 0:e.homePreferences)==null?void 0:B.theme)??"default",T=En[w]??En.default,M=T.hero,I=T.surface,H=T.chips.accent,W=T.chips.neutral,J=T.quickActions.active,se=T.quickActions.inactive,X=w==="night"?"border border-slate-800 bg-slate-900/70 backdrop-blur-xl text-slate-200":"border border-slate-200 bg-white shadow-sm",te=async()=>{var R,K;if(t){r(!0),u(void 0);try{const z=await e1({status:L,limit:200});l(z.data),o(z.summary)}catch(z){u(((K=(R=z==null?void 0:z.response)==null?void 0:R.data)==null?void 0:K.message)??(z==null?void 0:z.message)??"Impossible de charger la flotte")}finally{r(!1)}}};p.useEffect(()=>{t&&te()},[t,L]);const S=(R,K)=>{x(z=>({...z,[R]:K}))},E=async R=>{var Z,ie;if(R.preventDefault(),!f.label.trim()||!f.plateNumber.trim()){u("Renseigne au minimum un nom interne et une immatriculation.");return}const K=Number(f.seats);if(!Number.isFinite(K)||K<=0){u("Nombre de places invalide.");return}const z=f.year.trim()?Number(f.year):void 0;if(z&&(!Number.isFinite(z)||z<1950)){u("Anne de mise en circulation invalide.");return}const P=f.amenities.split(",").map(le=>le.trim()).filter(Boolean);y(!0),u(void 0);try{await t1({label:f.label.trim(),plateNumber:f.plateNumber.trim().toUpperCase(),category:f.category.trim().toUpperCase()||"MINIBUS",seats:K,brand:f.brand.trim()||void 0,model:f.model.trim()||void 0,year:z,amenities:P.length?P:void 0}),x(Gd),await te()}catch(le){u(((ie=(Z=le==null?void 0:le.response)==null?void 0:Z.data)==null?void 0:ie.message)??(le==null?void 0:le.message)??"Cration impossible")}finally{y(!1)}},A=async R=>{var K,z;try{await s1(R.id,{status:R.status==="ACTIVE"?"INACTIVE":"ACTIVE"}),await te()}catch(P){u(((z=(K=P==null?void 0:P.response)==null?void 0:K.data)==null?void 0:z.message)??(P==null?void 0:P.message)??"Impossible de modifier le statut")}},N=async R=>{var K,z;try{await n1(R),await te()}catch(P){u(((z=(K=P==null?void 0:P.response)==null?void 0:K.data)==null?void 0:z.message)??(P==null?void 0:P.message)??"Impossible de dsactiver le vhicule")}},D=R=>b[R]??Qd,V=(R,K)=>{m(z=>({...z,[R]:{...D(R),...K}}))},Q=async(R,K="upcoming")=>{h(z=>{var P;return{...z,[R]:{loading:!0,window:K,items:((P=z[R])==null?void 0:P.items)??[]}}});try{const z=await r1(R,{window:K});h(P=>({...P,[R]:{loading:!1,window:K,items:z.data}}))}catch(z){h(P=>{var Z,ie,le;return{...P,[R]:{loading:!1,window:K,items:((Z=P[R])==null?void 0:Z.items)??[],error:((le=(ie=z==null?void 0:z.response)==null?void 0:ie.data)==null?void 0:le.message)??(z==null?void 0:z.message)??"Erreur de chargement"}}})}},Y=async R=>{var Z,ie;const K=D(R.id);if(!K.originCity.trim()||!K.destinationCity.trim()||!K.departureAt.trim()){u("Complte la ville de dpart, darrive et la date/heure de dpart.");return}const z=K.plannedSeats.trim()?Number(K.plannedSeats.trim()):void 0;if(z!==void 0){if(!Number.isFinite(z)||z<=0){u("Nombre de siges planifis invalide.");return}if(z>R.seats){u("Les siges planifis dpassent la capacit du vhicule.");return}}const P=K.pricePerSeat.trim()?Number(K.pricePerSeat.trim()):void 0;if(P!==void 0&&(!Number.isFinite(P)||P<0)){u("Prix par sige invalide.");return}C(le=>({...le,[R.id]:!0})),u(void 0);try{await a1(R.id,{originCity:K.originCity.trim(),destinationCity:K.destinationCity.trim(),departureAt:new Date(K.departureAt).toISOString(),arrivalEstimate:K.arrivalEstimate?new Date(K.arrivalEstimate).toISOString():void 0,plannedSeats:z,pricePerSeat:P,recurrence:K.recurrence,notes:K.notes.trim()||void 0}),V(R.id,Qd),await Promise.all([te(),Q(R.id,"upcoming")])}catch(le){u(((ie=(Z=le==null?void 0:le.response)==null?void 0:Z.data)==null?void 0:ie.message)??(le==null?void 0:le.message)??"Impossible de planifier ce trajet")}finally{C(le=>({...le,[R.id]:!1}))}},oe=async(R,K,z)=>{var P,Z;u(void 0);try{z==="CANCELLED"?await i1(R,K):await l1(R,K,{status:z}),await Promise.all([te(),Q(R,"upcoming")])}catch(ie){u(((Z=(P=ie==null?void 0:ie.response)==null?void 0:P.data)==null?void 0:Z.message)??(ie==null?void 0:ie.message)??"Action impossible sur ce planning")}};v&&g[v];const de=R=>{const K=g[R.id],z=(K==null?void 0:K.items)??R.upcomingSchedules??[];return n.jsxs("div",{className:"mt-4 space-y-3",children:[z.length===0&&n.jsx("div",{className:`rounded-xl px-4 py-4 text-sm ${W}`,children:"Aucun trajet planifi. Ajoute un crneau pour ce vhicule."}),z.map(P=>{const Z=P.status==="PLANNED"?H:P.status==="COMPLETED"?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-amber-200 bg-amber-50 text-amber-600";return n.jsxs("div",{className:`rounded-xl border px-4 py-3 text-sm ${Z}`,children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Cy,{size:16}),n.jsxs("span",{className:"font-semibold",children:[P.originCity,"  ",P.destinationCity]})]}),n.jsxs("div",{className:"inline-flex items-center gap-2 text-xs",children:[n.jsx(ts,{size:14}),lj(P.departureAt)]})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-4 text-xs",children:[n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(Nt,{size:12}),"Dpart dans"," ",(()=>{const ie=new Date(P.departureAt).getTime()-Date.now();if(!Number.isFinite(ie)||ie<=0)return"moins de 24h";const le=Math.round(ie/36e5);return le<24?`${le}h`:`${Math.round(le/24)} jour(s)`})()]}),n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(ci,{size:12}),P.plannedSeats," siges planifis"]}),P.pricePerSeat>0&&n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(my,{size:12}),P.pricePerSeat.toLocaleString()," XOF / sige"]}),P.recurrence!=="NONE"&&n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(At,{size:12}),P.recurrence==="DAILY"?"Quotidien":"Hebdomadaire"]})]}),n.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[P.status==="PLANNED"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>oe(R.id,P.id,"COMPLETED"),className:"inline-flex items-center gap-2 rounded-lg border border-emerald-200 bg-white px-3 py-1.5 text-xs font-medium text-emerald-700 hover:bg-emerald-50",children:"Marquer ralis"}),n.jsx("button",{onClick:()=>oe(R.id,P.id,"CANCELLED"),className:"inline-flex items-center gap-2 rounded-lg border border-amber-200 bg-white px-3 py-1.5 text-xs font-medium text-amber-600 hover:bg-amber-50",children:"Annuler"})]}),P.status==="CANCELLED"&&n.jsx("button",{onClick:()=>oe(R.id,P.id,"PLANNED"),className:"inline-flex items-center gap-2 rounded-lg border border-sky-200 bg-white px-3 py-1.5 text-xs font-medium text-sky-600 hover:bg-sky-50",children:"Rouvrir"})]})]},P.id)}),(K==null?void 0:K.error)&&n.jsx("div",{className:"text-xs text-amber-600",children:K.error})]})},Oe=p.useMemo(()=>L==="ALL"?a:a.filter(R=>R.status===L),[a,L]);return t?n.jsx("div",{className:"min-h-[calc(100vh-56px)]",children:n.jsxs("section",{className:"relative overflow-hidden pb-10",children:[n.jsx("div",{className:`absolute inset-0 -z-10 bg-gradient-to-br ${T.gradient}`}),T.pattern&&n.jsx("div",{className:`absolute inset-0 -z-10 opacity-80 ${T.pattern}`}),n.jsxs("div",{className:"container-wide py-10 space-y-8",children:[n.jsxs("header",{className:"space-y-4",children:[n.jsx("span",{className:`inline-flex items-center gap-2 rounded-full px-4 py-1 text-xs font-semibold uppercase tracking-wide ${M.badge}`,children:"Flotte entreprise"}),n.jsxs("div",{className:"flex flex-wrap items-end justify-between gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h1",{className:`text-3xl font-bold leading-tight ${M.title}`,children:"Planifie tes vhicules et tes voyages rcurrents"}),n.jsx("p",{className:`max-w-2xl text-sm ${M.text}`,children:"Renseigne les caractristiques de ta flotte, harmonise les dparts  venir et surveille dun coup dil la capacit disponible pour tes passagers."})]}),n.jsxs("div",{className:"flex gap-3 text-xs",children:[n.jsxs("span",{className:`inline-flex items-center gap-2 rounded-2xl px-3 py-2 ${H}`,children:[n.jsx(ci,{size:14}),i.active," actifs"]}),n.jsxs("span",{className:`inline-flex items-center gap-2 rounded-2xl px-3 py-2 ${W}`,children:[n.jsx(Nt,{size:14}),i.upcomingTrips," trajets planifis"]})]})]})]}),n.jsxs("div",{className:`grid gap-4 sm:grid-cols-4 ${X}`,children:[n.jsxs("button",{onClick:()=>_("ALL"),className:`rounded-xl px-4 py-4 text-left transition ${L==="ALL"?J:se}`,children:[n.jsx("p",{className:"text-xs font-semibold uppercase",children:"Flotte complte"}),n.jsx("p",{className:"mt-2 text-lg font-semibold",children:a.length})]}),n.jsxs("button",{onClick:()=>_("ACTIVE"),className:`rounded-xl px-4 py-4 text-left transition ${L==="ACTIVE"?J:se}`,children:[n.jsx("p",{className:"text-xs font-semibold uppercase",children:"Actifs"}),n.jsx("p",{className:"mt-2 text-lg font-semibold",children:i.active})]}),n.jsxs("button",{onClick:()=>_("INACTIVE"),className:`rounded-xl px-4 py-4 text-left transition ${L==="INACTIVE"?J:se}`,children:[n.jsx("p",{className:"text-xs font-semibold uppercase",children:"En pause"}),n.jsx("p",{className:"mt-2 text-lg font-semibold",children:i.inactive})]}),n.jsxs("div",{className:"rounded-xl px-4 py-4",children:[n.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Capacit totale"}),n.jsxs("p",{className:"mt-2 text-lg font-semibold text-slate-800",children:[i.fleetSeats.toLocaleString()," siges"]}),n.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Rpartis sur ",a.length," vhicule(s)"]})]})]}),n.jsxs("form",{onSubmit:E,className:`rounded-3xl px-6 py-6 space-y-4 ${I}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(pd,{size:18}),n.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide",children:"Ajouter un vhicule"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Nom interne"}),n.jsx("input",{className:"input input-sm w-full",placeholder:"Sprinter Abidjan 01",value:f.label,onChange:R=>S("label",R.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Immatriculation"}),n.jsx("input",{className:"input input-sm w-full uppercase",placeholder:"XX-123-XX",value:f.plateNumber,onChange:R=>S("plateNumber",R.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Catgorie"}),n.jsxs("select",{className:"input input-sm w-full",value:f.category,onChange:R=>S("category",R.target.value),children:[n.jsx("option",{value:"MINIBUS",children:"Minibus"}),n.jsx("option",{value:"BUS",children:"Bus"}),n.jsx("option",{value:"SUV",children:"SUV"}),n.jsx("option",{value:"SEDAN",children:"Berline"}),n.jsx("option",{value:"VAN",children:"Van"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Siges"}),n.jsx("input",{type:"number",min:1,className:"input input-sm w-full",value:f.seats,onChange:R=>S("seats",R.target.value),required:!0})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Marque"}),n.jsx("input",{className:"input input-sm w-full",value:f.brand,onChange:R=>S("brand",R.target.value),placeholder:"Toyota"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Modle"}),n.jsx("input",{className:"input input-sm w-full",value:f.model,onChange:R=>S("model",R.target.value),placeholder:"Coaster"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Anne"}),n.jsx("input",{className:"input input-sm w-full",value:f.year,onChange:R=>S("year",R.target.value),placeholder:"2022"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Equipements (spars par une virgule)"}),n.jsx("input",{className:"input input-sm w-full",value:f.amenities,onChange:R=>S("amenities",R.target.value),placeholder:"Climatisation, Wi-Fi, Siges inclinables"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{type:"submit",disabled:d,className:"btn-primary inline-flex items-center gap-2 px-4 py-2 text-sm font-semibold disabled:cursor-not-allowed disabled:opacity-60",children:[n.jsx(pd,{size:16}),d?"Ajout":"Ajouter"]})})]}),c&&n.jsx("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-700",children:c}),s?n.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white px-6 py-8 text-center shadow-sm",children:"Chargement de ta flotte"}):Oe.length===0?n.jsx("div",{className:"rounded-3xl border border-dashed border-slate-300 bg-white/60 px-6 py-8 text-center text-sm text-slate-500",children:"Aucun vhicule pour le moment. Ajoute ton premier minibus ou bus depuis le formulaire ci-dessus."}):n.jsx("div",{className:"space-y-6",children:Oe.map(R=>{const K=D(R.id),z=k[R.id];return n.jsxs("div",{className:`rounded-3xl px-6 py-6 ${I}`,children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-2xl bg-sky-100 text-sky-600",children:n.jsx(ci,{size:20})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-slate-800",children:[R.label," ",n.jsxs("span",{className:"text-sm text-slate-500",children:["(",R.plateNumber,")"]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-slate-500",children:[n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx(bt,{size:12}),R.category]}),n.jsxs("span",{children:[R.seats," siges"]}),R.brand&&n.jsxs("span",{children:[R.brand," ",R.model??""]}),R.year&&n.jsxs("span",{children:["Anne ",R.year]}),n.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-semibold ${R.status==="ACTIVE"?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-600"}`,children:R.status==="ACTIVE"?"Actif":"Inactif"}),R.metrics&&n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx(ts,{size:12}),R.metrics.upcomingTrips," dpart(s)  venir"]})]})]})]}),n.jsx("p",{className:"text-xs text-slate-500",children:ij(R.amenities)})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>A(R),className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-medium text-slate-600 hover:bg-slate-100",children:R.status==="ACTIVE"?"Mettre en pause":"Ractiver"}),n.jsx("button",{onClick:()=>N(R.id),className:"rounded-lg border border-red-200 px-3 py-2 text-xs font-medium text-red-600 hover:bg-red-50",children:"Archiver"})]})]}),n.jsxs("div",{className:"mt-5 grid gap-4 md:grid-cols-[minmax(0,360px),1fr]",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white px-4 py-4 shadow-sm",children:[n.jsx("h4",{className:"text-xs font-semibold uppercase text-slate-500",children:"Planifier un trajet"}),n.jsxs("div",{className:"mt-3 space-y-3",children:[n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Dpart"}),n.jsx("input",{className:"input input-sm w-full",value:K.originCity,onChange:P=>V(R.id,{originCity:P.target.value}),placeholder:"Abidjan"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Arrive"}),n.jsx("input",{className:"input input-sm w-full",value:K.destinationCity,onChange:P=>V(R.id,{destinationCity:P.target.value}),placeholder:"Yamoussoukro"})]})]}),n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Dpart (date & heure)"}),n.jsx("input",{type:"datetime-local",className:"input input-sm w-full",value:K.departureAt,onChange:P=>V(R.id,{departureAt:P.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Estimation darrive"}),n.jsx("input",{type:"datetime-local",className:"input input-sm w-full",value:K.arrivalEstimate,onChange:P=>V(R.id,{arrivalEstimate:P.target.value})})]})]}),n.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Siges  publier"}),n.jsx("input",{className:"input input-sm w-full",placeholder:`${R.seats}`,value:K.plannedSeats,onChange:P=>V(R.id,{plannedSeats:P.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Prix / sige (XOF)"}),n.jsx("input",{className:"input input-sm w-full",value:K.pricePerSeat,onChange:P=>V(R.id,{pricePerSeat:P.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Rcurrence"}),n.jsxs("select",{className:"input input-sm w-full",value:K.recurrence,onChange:P=>V(R.id,{recurrence:P.target.value}),children:[n.jsx("option",{value:"NONE",children:"Aucune"}),n.jsx("option",{value:"DAILY",children:"Quotidienne"}),n.jsx("option",{value:"WEEKLY",children:"Hebdomadaire"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-slate-500",children:"Notes"}),n.jsx("textarea",{className:"input input-sm w-full",rows:2,value:K.notes,onChange:P=>V(R.id,{notes:P.target.value}),placeholder:"Instructions pour le conducteur, point de rendez-vous"})]}),n.jsxs("button",{type:"button",disabled:z,onClick:()=>Y(R),className:"btn-primary inline-flex items-center gap-2 px-4 py-2 text-xs font-semibold disabled:cursor-not-allowed disabled:opacity-60",children:[n.jsx(ts,{size:14}),z?"Planification":"Planifier"]})]})]}),n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white px-4 py-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"text-xs font-semibold uppercase text-slate-500",children:"Prochains dparts"}),n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n.jsx("button",{className:"rounded-lg border border-slate-200 px-2 py-1 hover:bg-slate-100",onClick:()=>Q(R.id,"upcoming"),children:"Rafrachir"}),n.jsx("button",{className:"rounded-lg border border-slate-200 px-2 py-1 hover:bg-slate-100",onClick:()=>{j(P=>P===R.id?void 0:R.id),v!==R.id&&Q(R.id,"upcoming")},children:"Historique"})]})]}),de(R),v===R.id&&n.jsxs("div",{className:"mt-3 flex gap-2 text-xs text-slate-500",children:[n.jsx("button",{className:"rounded-lg border border-slate-200 px-3 py-1 hover:bg-slate-100",onClick:()=>Q(R.id,"all"),children:"Tout afficher"}),n.jsx("button",{className:"rounded-lg border border-slate-200 px-3 py-1 hover:bg-slate-100",onClick:()=>Q(R.id,"past"),children:"Trajets passs"})]})]})]})]},R.id)})})]})]})}):n.jsx("div",{className:"min-h-[calc(100vh-56px)] flex items-center justify-center px-4",children:n.jsxs("div",{className:"max-w-md rounded-3xl border border-slate-200 bg-white px-6 py-8 text-center shadow-sm",children:[n.jsx("h1",{className:"text-lg font-semibold text-slate-800",children:"Accs rserv"}),n.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"La gestion de flotte est disponible pour les comptes entreprise. Passe sur un compte COMPANY ou contacte un administrateur pour tre promu."})]})})}const gi=5;function cj(){const e=ne(E=>E.token),t=ne(E=>E.account),s=ne(E=>E.setSession),[r,a]=p.useState(""),[l,i]=p.useState(""),[o,c]=p.useState(""),[u,f]=p.useState(!1),[x,d]=p.useState([]),[y,v]=p.useState([]),[j,b]=p.useState("default"),[m,g]=p.useState(""),[h,k]=p.useState(!0),[C,L]=p.useState(!1),[_,w]=p.useState(),[T,M]=p.useState(),I=t==null?void 0:t.type;p.useEffect(()=>{if(!t)return;t.type==="INDIVIDUAL"?(a(t.tagline??""),i((t.comfortPreferences??[]).join(", "))):a(t.tagline??""),c(t.profilePhotoUrl??""),f(!1);const E=t.homePreferences;d(((E==null?void 0:E.favoriteRoutes)??[]).map(A=>({from:A.from,to:A.to}))),v((E==null?void 0:E.quickActions)??[]),b((E==null?void 0:E.theme)??"default"),g((E==null?void 0:E.heroMessage)??""),k((E==null?void 0:E.showTips)??!0)},[t]);const H=p.useMemo(()=>l.split(",").map(E=>E.trim()).filter(Boolean),[l]);if(!e)return n.jsx(rl,{to:"/login",replace:!0});if(!t)return null;const W=(E,A,N)=>{d(D=>{const V=[...D];return V[E]={...V[E],[A]:N},V})},J=()=>{x.length>=gi||d(E=>[...E,{from:"",to:""}])},se=E=>{d(A=>A.filter((N,D)=>D!==E))},X=E=>{v(A=>A.includes(E)?A.filter(N=>N!==E):[...A,E])},te=()=>{const E=x.map(N=>({from:N.from.trim(),to:N.to.trim()})).filter(N=>N.from&&N.to).slice(0,gi),A={};return E.length&&(A.favoriteRoutes=E),y.length&&(A.quickActions=y),j&&(A.theme=j),m.trim()&&(A.heroMessage=m.trim()),A.showTips=h,Object.keys(A).length?A:void 0},S=async E=>{var A,N;if(E.preventDefault(),!(!e||!t)){L(!0),w(void 0),M(void 0);try{const D=te(),V=o.trim(),Q=r.trim(),Y=Q.length===0,oe={profilePhotoUrl:u?void 0:V||void 0,removeProfilePhoto:u||!V&&!!t.profilePhotoUrl,removeTagline:Y,homePreferences:D};let de;t.type==="INDIVIDUAL"?de=await ux(e,{comfortPreferences:H,tagline:Y?void 0:Q,...oe}):de=await w1(e,{tagline:Q||void 0,...oe}),s(e,de),M("Profil mis  jour avec succs."),f(!1)}catch(D){w(((N=(A=D==null?void 0:D.response)==null?void 0:A.data)==null?void 0:N.message)||(D==null?void 0:D.message)||"Impossible de mettre  jour le profil.")}finally{L(!1)}}};return n.jsxs("section",{className:"max-w-4xl mx-auto px-4 py-10 space-y-8",children:[n.jsxs("header",{className:"space-y-2",children:[n.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Personnalisation du profil"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Mets  jour ta photo, tes prfrences de confort et lexprience affiche sur ta page daccueil."})]}),n.jsxs("form",{onSubmit:S,className:"space-y-10",children:[n.jsx("section",{className:"grid gap-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-6",children:[n.jsx("div",{className:"relative h-24 w-24 overflow-hidden rounded-2xl border border-slate-200 bg-slate-100",children:u?n.jsx("div",{className:"flex h-full w-full items-center justify-center text-xs text-slate-400",children:"Photo supprime"}):t.profilePhotoUrl||o?n.jsx("img",{src:u?"":o||t.profilePhotoUrl||"",alt:"Photo de profil",className:"h-full w-full object-cover",onError:()=>c("")}):n.jsx("div",{className:"flex h-full w-full items-center justify-center text-xs text-slate-400",children:"Pas de photo"})}),n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase text-slate-500",children:"Photo (URL)"}),n.jsx("input",{type:"url",className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200",placeholder:"https://",value:o,onChange:E=>{c(E.target.value),f(!1)}})]}),n.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[n.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-3 py-1.5 text-slate-600 hover:bg-slate-100",onClick:()=>{f(!0),c("")},children:"Retirer la photo"}),n.jsx("span",{className:"text-slate-500",children:"Astuce: hberge ton image (600600) sur un CDN ou un cloud public."})]})]})]})}),n.jsxs("section",{className:"grid gap-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase text-slate-500",children:"Accroche affiche sur ton profil"}),n.jsx("textarea",{value:r,onChange:E=>a(E.target.value),rows:2,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200",placeholder:"Exemple: Conducteur attentif  Climatisation et playlist sur-mesure."}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Affiche sur ta fiche publique et dans les conversations."})]}),I==="INDIVIDUAL"&&n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase text-slate-500",children:"Prfrences de confort (spares par une virgule)"}),n.jsx("textarea",{value:l,onChange:E=>i(E.target.value),rows:2,className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200",placeholder:"Musique douce, Pause caf, Climatisation lgre"}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Jusqu 10 prfrences  elles seront proposes aux passagers avant la rservation."})]})]}),n.jsxs("section",{className:"grid gap-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[n.jsxs("header",{children:[n.jsx("h2",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"Personnalisation de la page daccueil"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Choisis les raccourcis, le thme graphique et les trajets favoris proposs en un clic."})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase text-slate-500",children:"Thme"}),n.jsx("select",{className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200",value:j,onChange:E=>b(E.target.value),children:dx.map(E=>n.jsx("option",{value:E.id,children:E.label},E.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase text-slate-500",children:"Message daccroche sur la page daccueil"}),n.jsx("input",{type:"text",value:m,onChange:E=>g(E.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200",placeholder:"Une phrase inspirante pour accueillir les passagers."})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Raccourcis rapides"}),n.jsx("div",{className:"flex flex-wrap gap-3",children:$c.map(E=>{const A=y.includes(E.id);return n.jsx("button",{type:"button",onClick:()=>X(E.id),className:`rounded-xl border px-4 py-2 text-sm transition ${A?"border-sky-400 bg-sky-50 text-sky-700":"border-slate-200 bg-white text-slate-600 hover:border-sky-200 hover:text-sky-600"}`,children:E.label},E.id)})}),n.jsx("p",{className:"text-xs text-slate-500",children:"Slectionne jusqu 5 raccourcis. Ils safficheront au-dessus de la barre de recherche."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Trajets favoris"}),n.jsx("button",{type:"button",className:"text-xs font-medium text-sky-600 hover:text-sky-700",onClick:J,disabled:x.length>=gi,children:"Ajouter un trajet"})]}),x.length===0&&n.jsx("p",{className:"text-sm text-slate-500",children:"Ajoute tes itinraires rcurrents (ex: Abidjan  Yamoussoukro) pour les retrouver en un clic."}),x.map((E,A)=>n.jsxs("div",{className:"grid gap-3 rounded-xl border border-slate-200 bg-slate-50 px-3 py-3 sm:grid-cols-[repeat(2,minmax(0,1fr)),auto]",children:[n.jsx("input",{value:E.from,onChange:N=>W(A,"from",N.target.value),placeholder:"Ville de dpart",className:"rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200"}),n.jsx("input",{value:E.to,onChange:N=>W(A,"to",N.target.value),placeholder:"Ville darrive",className:"rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-sky-200"}),n.jsx("button",{type:"button",onClick:()=>se(A),className:"rounded-lg border border-slate-300 px-3 py-2 text-xs text-slate-500 hover:bg-slate-100",children:"Supprimer"})]},`${E.from}-${E.to}-${A}`))]}),n.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-600",children:[n.jsx("input",{type:"checkbox",checked:h,onChange:E=>k(E.target.checked),className:"h-4 w-4 rounded border-slate-300 text-sky-600 focus:ring-sky-200"}),"Afficher les encarts de conseils sur la page daccueil"]})]}),_&&n.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:_}),T&&n.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-700",children:T}),n.jsx("div",{className:"flex items-center justify-end gap-3",children:n.jsx("button",{type:"submit",disabled:C,className:"rounded-xl bg-sky-600 px-5 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-sky-700 disabled:opacity-50",children:C?"Enregistrement":"Sauvegarder"})})]})]})}const Yd=e=>{if(e)try{return new Date(e).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}catch{return}},uj=e=>e&&(e.fullName||e.companyName||e.email)||"Conducteur KariGo";function dj(){var j;const{accountId:e}=Ac(),t=ne(b=>b.token),s=ne(b=>b.account),r=it(),[a,l]=p.useState(null),[i,o]=p.useState(!1),[c,u]=p.useState();p.useEffect(()=>{if(!e||!t)return;let b=!1;return(async()=>{var m,g;try{o(!0),u(void 0);const h=await zc(e,t);b||l(h)}catch(h){b||u(((g=(m=h==null?void 0:h.response)==null?void 0:m.data)==null?void 0:g.message)||(h==null?void 0:h.message)||"Profil introuvable.")}finally{b||o(!1)}})(),()=>{b=!0}},[e,t]);const f=uj(a),x=p.useMemo(()=>Yd(a==null?void 0:a.createdAt),[a==null?void 0:a.createdAt]),d=p.useMemo(()=>Yd((a==null?void 0:a.lastLoginAt)||void 0),[a==null?void 0:a.lastLoginAt]),y=(a==null?void 0:a.type)==="COMPANY",v=!!(a&&(s!=null&&s.id)&&a.id!==s.id);return e?n.jsxs("div",{className:"glass rounded-[28px] p-6 space-y-6",children:[n.jsxs("button",{type:"button",onClick:()=>r(-1),className:"inline-flex items-center gap-2 text-sm text-slate-600 hover:text-slate-900",children:[n.jsx(ry,{size:16}),"Retour"]}),i&&n.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white/40 p-4 text-sm text-slate-600",children:"Chargement du profil"}),c&&n.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 p-4 text-sm text-rose-600",children:c}),a&&n.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1.1fr),minmax(0,0.9fr)]",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white/60 p-6 space-y-6",children:[n.jsxs("div",{className:"flex flex-wrap items-start gap-4",children:[n.jsx("div",{className:"h-24 w-24 overflow-hidden rounded-3xl border border-slate-200 bg-slate-100",children:a.profilePhotoUrl?n.jsx("img",{src:a.profilePhotoUrl,alt:`Photo de ${f}`,className:"h-full w-full object-cover"}):n.jsx("div",{className:"flex h-full w-full items-center justify-center text-2xl font-semibold text-slate-500",children:f.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[n.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 text-xs uppercase tracking-wide text-slate-500",children:[y?"Trajet pro":"Conducteur particulier",a.status==="ACTIVE"&&n.jsx(ay,{size:12,className:"text-emerald-500"})]}),n.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:f}),a.tagline&&n.jsx("p",{className:"text-sm text-slate-600",children:a.tagline}),x&&n.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-1 text-xs text-slate-500",children:[n.jsx(ts,{size:12}),"Membre depuis ",x]})]})]}),(a.email||a.contactPhone)&&n.jsxs("div",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white/70 p-4 text-sm text-slate-700",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Coordonnes"}),a.email&&n.jsxs("div",{className:"inline-flex items-center gap-2 text-slate-700",children:[n.jsx(Sm,{size:14,className:"text-sky-500"}),a.email]}),a.contactPhone&&n.jsxs("div",{className:"inline-flex items-center gap-2 text-slate-700",children:[n.jsx(Cm,{size:14,className:"text-emerald-500"}),a.contactPhone]})]}),(j=a.comfortPreferences)!=null&&j.length?n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Confort & prfrences"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:a.comfortPreferences.map(b=>n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-xs font-semibold text-slate-700",children:[n.jsx(Tc,{size:11,className:"text-amber-500"}),b]},b))})]}):null]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white/60 p-5 space-y-4 text-sm text-slate-700",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Fiabilit"}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"inline-flex items-center gap-2 rounded-2xl bg-slate-100 px-3 py-1.5 text-xs font-semibold text-slate-600",children:[n.jsx(Mr,{size:14,className:"text-emerald-500"}),a.role==="ADMIN"?"Administrateur KariGo":"Conducteur vrifi"]}),d&&n.jsxs("div",{className:"inline-flex items-center gap-2 rounded-2xl bg-slate-50 px-3 py-1.5 text-xs font-semibold text-slate-600",children:[n.jsx(ts,{size:14,className:"text-sky-500"}),"Dernire connexion ",d]}),n.jsxs("div",{className:"inline-flex items-center gap-2 rounded-2xl bg-slate-50 px-3 py-1.5 text-xs font-semibold text-slate-600",children:[n.jsx(Mr,{size:14,className:"text-slate-500"}),"Statut : ",a.status==="ACTIVE"?"Actif":"Suspendu"]})]})]}),y&&n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white/60 p-5 text-sm text-slate-700 space-y-2",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Entreprise"}),a.companyName&&n.jsxs("p",{children:["Nom : ",n.jsx("span",{className:"font-semibold",children:a.companyName})]}),a.registrationNumber&&n.jsxs("p",{children:["Immatriculation : ",n.jsx("span",{className:"font-semibold",children:a.registrationNumber})]}),a.contactName&&n.jsxs("p",{children:["Contact : ",n.jsx("span",{className:"font-semibold",children:a.contactName})]})]}),v&&n.jsxs("button",{type:"button",onClick:()=>r("/messages",{state:{contact:{id:a.id,type:a.type,label:f,email:a.email}}}),className:"w-full inline-flex items-center justify-center gap-2 rounded-2xl bg-slate-900 px-4 py-3 text-sm font-semibold text-white transition hover:bg-slate-800",children:[n.jsx(go,{size:16}),"Contacter ce conducteur"]})]})]})]}):n.jsx("div",{className:"glass rounded-2xl p-6 text-red-500",children:"Identifiant de profil manquant."})}const pj={PENDING:{label:"En attente",tone:"text-amber-700 bg-amber-100"},CONFIRMED:{label:"Confirme",tone:"text-sky-700 bg-sky-100"},PAID:{label:"Paye",tone:"text-emerald-700 bg-emerald-100"},CANCELLED:{label:"Annule",tone:"text-rose-700 bg-rose-100"}},fj=[{id:"upcoming",label:" venir"},{id:"past",label:"Passs"},{id:"all",label:"Tous"}],xa=(e,t=!0)=>{if(!e)return"Date inconnue";try{const s=new Date(e);return t?s.toLocaleString("fr-FR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):s.toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"})}catch{return e}};function mj(){const e=ne(w=>w.token),t=ne(w=>w.account),[s,r]=p.useState([]),[a,l]=p.useState(),[i,o]=p.useState(!0),[c,u]=p.useState("upcoming"),[f,x]=p.useState([]),[d,y]=p.useState(),[v,j]=p.useState(),[b,m]=p.useState(!0),g=async()=>{var w,T;if(e){o(!0),l(void 0);try{const M=await ix(e,{limit:100});r(Array.isArray(M.data)?M.data:[])}catch(M){l(((T=(w=M==null?void 0:M.response)==null?void 0:w.data)==null?void 0:T.message)||(M==null?void 0:M.message)||"Impossible de rcuprer tes trajets.")}finally{o(!1)}}},h=async()=>{var w,T;if(e){m(!0),j(void 0);try{const M=await b1(e,{limit:100,sort:"departure_desc"});x(Array.isArray(M.data)?M.data:[]),y(M.summary)}catch(M){j(((T=(w=M==null?void 0:M.response)==null?void 0:w.data)==null?void 0:T.message)||(M==null?void 0:M.message)||"Impossible de rcuprer tes trajets publis.")}finally{m(!1)}}};p.useEffect(()=>{g(),h()},[e]);const k=p.useMemo(()=>{const w=Date.now();return s.map(T=>{const M=T.ride,I=(M==null?void 0:M.departureAt)??null,H=(M==null?void 0:M.originCity)??null,W=(M==null?void 0:M.destinationCity)??null,J=I?Date.parse(I):Date.parse(T.createdAt);return{...T,departureAt:I,originCity:H,destinationCity:W,isPast:Number.isFinite(J)?J<w:!1}})},[s]),C=p.useMemo(()=>c==="all"?k:c==="upcoming"?k.filter(w=>!w.isPast):k.filter(w=>w.isPast),[c,k]),L=p.useMemo(()=>{const w=Date.now();return f.map(T=>{const M=Math.max(0,(T.seatsTotal??0)-(T.seatsAvailable??0)),I=T.seatsTotal&&T.seatsTotal>0?Math.round(M/Math.max(T.seatsTotal,1)*100):0,H=Number.isFinite(Date.parse(T.departureAt))?Date.parse(T.departureAt)<w:!1;return{...T,seatsReserved:M,occupancy:I,isPast:H}})},[f]),_=p.useMemo(()=>{const w=d;return w?{upcoming:w.upcoming??0,published:w.published??0,seatsBooked:w.seatsBooked??0,seatsTotal:w.seatsTotal??0}:{upcoming:L.filter(T=>!T.isPast).length,published:L.filter(T=>T.status==="PUBLISHED").length,seatsBooked:L.reduce((T,M)=>T+M.seatsReserved,0),seatsTotal:L.reduce((T,M)=>T+(M.seatsTotal??0),0)}},[L,d]);return n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-900/5 via-white to-white",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-10 space-y-10",children:[n.jsxs("section",{className:"rounded-3xl border border-slate-200 bg-white/95 shadow-xl shadow-sky-100/60 backdrop-blur p-6 lg:p-10 space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[n.jsxs("div",{className:"space-y-3 max-w-2xl",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-sky-100 px-3 py-1 text-[11px] font-semibold text-sky-700",children:"Mes rservations"}),n.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-indigo-100 px-3 py-1 text-[11px] font-semibold text-indigo-700",children:"Mes trajets publis"})]}),n.jsxs("h1",{className:"text-3xl font-semibold text-slate-900",children:[t!=null&&t.fullName?`${t.fullName},`:"Salut,"," gre toute ton activit KariGo."]}),n.jsx("p",{className:"text-sm text-slate-600",children:"Visualise tes rservations  venir, revois celles passes et surveille loccupation des trajets que tu as publis."})]}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs("button",{type:"button",onClick:()=>void g(),disabled:i,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-sky-200 hover:text-sky-600 disabled:opacity-50",children:[n.jsx(At,{size:14})," Rservations"]}),n.jsxs("button",{type:"button",onClick:()=>void h(),disabled:b,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-indigo-200 hover:text-indigo-600 disabled:opacity-50",children:[n.jsx(At,{size:14})," Trajets publis"]})]})]}),n.jsx("div",{className:"flex flex-wrap gap-3",children:fj.map(w=>n.jsx("button",{type:"button",onClick:()=>u(w.id),className:`rounded-full px-4 py-2 text-xs font-semibold transition ${c===w.id?"bg-sky-600 text-white shadow shadow-sky-200/60":"bg-white text-slate-600 border border-slate-200 hover:border-sky-200 hover:text-sky-600"}`,children:w.label},w.id))})]}),a&&n.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:a}),n.jsx("section",{className:"space-y-4",children:i?n.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((w,T)=>n.jsxs("div",{className:"animate-pulse rounded-3xl border border-slate-100 bg-white px-5 py-6 shadow-sm",children:[n.jsx("div",{className:"h-4 w-1/3 rounded bg-slate-100"}),n.jsx("div",{className:"mt-3 h-3 w-2/3 rounded bg-slate-100"}),n.jsx("div",{className:"mt-4 h-10 rounded bg-slate-50"})]},T))}):C.length===0?n.jsxs("div",{className:"rounded-3xl border border-dashed border-slate-200 bg-white px-6 py-10 text-center text-slate-500",children:[n.jsx(md,{className:"mx-auto mb-3 h-6 w-6 text-slate-400"}),n.jsxs("p",{className:"text-sm",children:["Aucun trajet ",c==="past"?"pass":c==="upcoming"?" venir":""," pour linstant. Rserve un trajet et il apparatra ici."]}),n.jsxs(me,{to:"/",className:"mt-4 inline-flex items-center gap-2 rounded-full bg-slate-900 px-4 py-2 text-xs font-semibold text-white",children:["Explorer des trajets ",n.jsx(vt,{size:14})]})]}):n.jsx("div",{className:"grid gap-4",children:C.map(w=>{var I,H;const T=pj[w.status]??{label:w.status,tone:"text-slate-600 bg-slate-100"},M=w.departureAt?xa(w.departureAt):xa(w.createdAt);return n.jsxs("article",{className:"rounded-3xl border border-slate-100 bg-white px-5 py-6 shadow-sm transition hover:border-sky-100 hover:shadow-md",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm text-slate-600",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-base font-semibold text-slate-900 flex items-center gap-2",children:[n.jsx(bt,{size:16,className:"text-sky-500"}),w.originCity??"Origine inconnue","  ",w.destinationCity??"Destination inconnue"]}),n.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-2",children:[n.jsx(Nt,{size:14}),M]})]}),n.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${T.tone}`,children:T.label})]}),n.jsxs("div",{className:"mt-4 grid gap-3 text-sm text-slate-600 sm:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Rservation"}),n.jsx("p",{className:"font-semibold text-slate-900",children:w.id})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Siges"}),n.jsx("p",{className:"font-semibold text-slate-900",children:w.seats})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Montant"}),n.jsxs("p",{className:"font-semibold text-slate-900",children:[((H=(I=w.amount)==null?void 0:I.toLocaleString)==null?void 0:H.call(I))??w.amount," XOF"]})]})]})]},w.id)})})}),n.jsxs("section",{className:"rounded-3xl border border-slate-200 bg-white/95 shadow-xl shadow-indigo-100/70 backdrop-blur p-6 lg:p-10 space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"inline-flex items-center gap-2 rounded-full bg-indigo-100 px-3 py-1 text-[11px] font-semibold text-indigo-700",children:"Mes trajets publis"}),n.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:"Surveille loccupation de tes trajets."}),n.jsx("p",{className:"text-sm text-slate-600",children:"Suis les places restantes, le tarif et ltat de publication de chaque trajet cr."})]}),n.jsxs("button",{type:"button",onClick:()=>void h(),disabled:b,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-indigo-200 hover:text-indigo-600 disabled:opacity-50",children:[n.jsx(At,{size:14})," Actualiser"]})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx(ha,{label:"Trajets  venir",value:_.upcoming,icon:n.jsx(Nt,{size:14})}),n.jsx(ha,{label:"Trajets publis",value:_.published,icon:n.jsx(iy,{size:14})}),n.jsx(ha,{label:"Places offertes",value:_.seatsTotal,icon:n.jsx(Mc,{size:14})}),n.jsx(ha,{label:"Places rserves",value:_.seatsBooked,icon:n.jsx(md,{size:14})})]}),v&&n.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:v}),b?n.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((w,T)=>n.jsx("div",{className:"h-28 rounded-2xl bg-slate-100 animate-pulse"},T))}):L.length===0?n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-6 py-8 text-center text-slate-600",children:[n.jsx("p",{children:"Tu nas pas encore publi de trajet."}),n.jsx(me,{to:"/create",className:"mt-3 inline-flex items-center justify-center rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white",children:"Publier un trajet"})]}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:L.map(w=>{var T;return n.jsxs("article",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm shadow-slate-100 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-sm uppercase tracking-wide text-slate-500",children:["Trajet #",w.id.slice(0,8)]}),n.jsxs("div",{className:"text-lg font-semibold text-slate-900",children:[w.originCity,"  ",w.destinationCity]}),n.jsx("div",{className:"text-sm text-slate-500",children:xa(w.departureAt)})]}),n.jsx("div",{className:`rounded-full px-3 py-1 text-xs font-semibold ${w.status==="PUBLISHED"?"bg-emerald-100 text-emerald-700":w.status==="CLOSED"?"bg-slate-200 text-slate-700":"bg-amber-100 text-amber-700"}`,children:w.status==="PUBLISHED"?"En ligne":w.status==="CLOSED"?"Cltur":w.status})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600",children:[n.jsx("span",{children:"Places rserves"}),n.jsxs("span",{className:"font-semibold text-slate-900",children:[w.seatsReserved,"/",w.seatsTotal," (",w.occupancy,"%)"]})]}),n.jsx("div",{className:"h-2 w-full rounded-full bg-slate-100",children:n.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-sky-500 to-indigo-500",style:{width:`${Math.min(w.occupancy,100)}%`}})}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600",children:[n.jsx("span",{children:"Places restantes"}),n.jsx("span",{className:"font-semibold text-slate-900",children:w.seatsAvailable})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600",children:[n.jsx("span",{children:"Tarif"}),n.jsxs("span",{className:"font-semibold text-slate-900",children:[(T=w.pricePerSeat)==null?void 0:T.toLocaleString()," XOF"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(me,{to:`/ride/${w.id}`,className:"inline-flex items-center gap-2 text-sm font-semibold text-sky-600 hover:text-sky-700",children:["Voir le dtail",n.jsx(vt,{size:16})]}),n.jsxs("div",{className:"text-xs text-slate-400",children:["Mise  jour ",w.updatedAt?xa(w.updatedAt,!1):"rcente"]})]})]},w.id)})})]})]})})}function ha({label:e,value:t,icon:s}){return n.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white px-5 py-4 shadow-sm shadow-slate-100",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:[s,e]}),n.jsx("div",{className:"mt-2 text-2xl font-semibold text-slate-900",children:t.toLocaleString()})]})}function xj(e){const[t,s]=p.useState([]),r=p.useCallback(()=>{if(!e){s([]);return}s(D1(e))},[e]);return p.useEffect(()=>{r()},[r]),p.useEffect(()=>{if(typeof window>"u")return;const a=l=>{const i=l.detail;!i||i.ownerId!==e||r()};return window.addEventListener("kari:pendingAcquisitions",a),()=>window.removeEventListener("kari:pendingAcquisitions",a)},[e,r]),{items:t,refresh:r}}const yi=(e,t=!0)=>{if(!e)return"Date inconnue";try{const s=new Date(e);return t?s.toLocaleString("fr-FR",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):s.toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"})}catch{return e}};function hj(){const e=ne(h=>h.account),t=ne(h=>h.token),s=(e==null?void 0:e.id)??"guest",r=it(),{items:a,refresh:l}=xj(s),[i,o]=p.useState([]),[c,u]=p.useState(!1),[f,x]=p.useState(),[d,y]=p.useState("reserved");p.useEffect(()=>{if(!t){o([]);return}let h=!1;return(async()=>{var k,C;try{u(!0),x(void 0);const L=await ix(t,{limit:100});h||o(Array.isArray(L.data)?L.data:[])}catch(L){h||x(((C=(k=L==null?void 0:L.response)==null?void 0:k.data)==null?void 0:C.message)||(L==null?void 0:L.message)||"Impossible de charger tes rservations.")}finally{h||u(!1)}})(),()=>{h=!0}},[t]),p.useEffect(()=>{if(!a.length||!i.length)return;const h=i.map(C=>C.rideId);a.some(C=>h.includes(C.rideId))&&($1(s,h),l())},[a,i,s,l]);const v=p.useMemo(()=>i,[i]),j=p.useMemo(()=>a,[a]),b=()=>t?c?n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((h,k)=>n.jsxs("div",{className:"animate-pulse rounded-3xl border border-slate-100 bg-white px-5 py-6 shadow-sm",children:[n.jsx("div",{className:"h-4 w-1/3 rounded bg-slate-100"}),n.jsx("div",{className:"mt-3 h-3 w-2/3 rounded bg-slate-100"}),n.jsx("div",{className:"mt-4 h-10 rounded bg-slate-50"})]},k))}):v.length===0?n.jsxs("div",{className:"rounded-3xl border border-dashed border-slate-200 bg-white px-6 py-10 text-center text-slate-500",children:[n.jsx(xy,{className:"mx-auto mb-3 h-6 w-6 text-slate-400"}),"Aucun trajet rserv pour linstant.",n.jsxs(me,{to:"/",className:"mt-4 inline-flex items-center gap-2 rounded-full bg-slate-900 px-4 py-2 text-xs font-semibold text-white",children:["Explorer les trajets ",n.jsx(vt,{size:14})]})]}):n.jsx("div",{className:"grid gap-4",children:v.map(h=>{var C,L,_,w;const k=(C=h.ride)!=null&&C.departureAt?yi((L=h.ride)==null?void 0:L.departureAt):yi(h.createdAt);return n.jsxs("article",{className:"rounded-3xl border border-slate-100 bg-white px-5 py-6 shadow-sm",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-base font-semibold text-slate-900",children:[((_=h.ride)==null?void 0:_.originCity)??"Origine","  ",((w=h.ride)==null?void 0:w.destinationCity)??"Destination"]}),n.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-2",children:[n.jsx(Nt,{size:14})," ",k]})]}),n.jsxs("span",{className:"text-sm font-semibold text-slate-600",children:[h.amount.toLocaleString("fr-FR")," XOF"]})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-3 text-xs font-semibold",children:[n.jsxs(me,{to:`/ride/${h.rideId}`,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1.5 text-slate-600 hover:border-sky-200 hover:text-sky-600",children:["Voir le trajet ",n.jsx(vt,{size:14})]}),n.jsx(me,{to:`/booking/${h.rideId}`,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1.5 text-slate-600 hover:border-sky-200 hover:text-sky-600",children:"Dtails rservation"})]})]},h.id)})}):n.jsxs("div",{className:"rounded-3xl border border-dashed border-slate-200 bg-white p-8 text-center text-slate-600",children:["Connecte-toi pour retrouver tes rservations confirmes.",n.jsx("div",{className:"mt-4",children:n.jsx(me,{to:"/login",className:"btn-primary px-4 py-2",children:"Se connecter"})})]}),m=h=>{z1(s,h.id),l()},g=()=>j.length===0?n.jsxs("div",{className:"rounded-3xl border border-dashed border-slate-200 bg-white px-6 py-10 text-center text-slate-500",children:[n.jsx(jy,{className:"mx-auto mb-3 h-6 w-6 text-slate-400"}),"Tu nas pas encore de trajets en cours dacquisition. Envoie un message  un conducteur depuis un dtail de trajet pour les retrouver ici."]}):n.jsx("div",{className:"grid gap-4",children:j.map(h=>n.jsxs("article",{className:"rounded-3xl border border-slate-100 bg-white px-5 py-6 shadow-sm",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-base font-semibold text-slate-900",children:[h.originCity,"  ",h.destinationCity]}),n.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-2",children:[n.jsx(Nt,{size:14})," ",yi(h.departureAt)]})]}),n.jsxs("button",{type:"button",onClick:()=>m(h),className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-500 hover:border-rose-200 hover:text-rose-500",children:[n.jsx(Ry,{size:14})," Retirer"]})]}),n.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Contact : ",h.driverLabel]}),h.lastMessagePreview&&n.jsxs("p",{className:"mt-2 rounded-2xl bg-slate-50 px-4 py-2 text-sm text-slate-500",children:["",h.lastMessagePreview,""]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-3 text-xs font-semibold",children:[n.jsxs("button",{type:"button",onClick:()=>r("/messages",{state:{contact:{id:h.driverId,type:h.driverType,label:h.driverLabel}}}),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1.5 text-slate-600 hover:border-sky-200 hover:text-sky-600",children:["Continuer la discussion ",n.jsx(vt,{size:14})]}),n.jsx(me,{to:`/ride/${h.rideId}`,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1.5 text-slate-600 hover:border-emerald-200 hover:text-emerald-600",children:"Voir le trajet"})]})]},h.id))});return n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-white",children:n.jsxs("div",{className:"container-wide py-10 space-y-8",children:[n.jsxs("section",{className:"rounded-[32px] border border-slate-200 bg-white/90 p-6 shadow-lg shadow-slate-200",children:[n.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"inline-flex items-center gap-2 rounded-full bg-slate-900/5 px-3 py-1 text-xs font-semibold text-slate-600",children:[n.jsx(yo,{size:14})," Mon panier KariGo"]}),n.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Centralise tes rservations et tes discussions."}),n.jsx("p",{className:"text-sm text-slate-500",children:"Accde en un clic aux trajets dj rservs et  ceux pour lesquels tu es en discussion avec un conducteur."})]}),n.jsxs("div",{className:"inline-flex rounded-2xl border border-slate-200 bg-white px-4 py-2 text-sm text-slate-600",children:[j.length," trajet(s) en cours  ",v.length," rserv(s)"]})]}),f&&n.jsx("div",{className:"mt-4 rounded-2xl border border-rose-200 bg-rose-50 px-4 py-2 text-sm text-rose-600",children:f}),n.jsxs("div",{className:"mt-6 inline-flex gap-3 rounded-full bg-slate-100 p-1 text-sm font-semibold text-slate-500",children:[n.jsx("button",{type:"button",onClick:()=>y("reserved"),className:`rounded-full px-4 py-1.5 ${d==="reserved"?"bg-white text-slate-900 shadow":""}`,children:"Rservs"}),n.jsx("button",{type:"button",onClick:()=>y("pending"),className:`rounded-full px-4 py-1.5 ${d==="pending"?"bg-white text-slate-900 shadow":""}`,children:"En cours dacquisition"})]})]}),n.jsx("section",{children:d==="reserved"?b():g()})]})})}const gj=[{title:"Produit",items:[{label:"Rechercher un trajet",to:"/"},{label:"Publier un trajet",to:"/create"},{label:"Mes trajets",to:"/my-trips"}]},{title:"Support",items:[{label:"Centre daide",href:"mailto:support@karigo.ci"},{label:"FAQ",to:"/faq"},{label:"Signaler un problme",href:"mailto:support@karigo.ci?subject=Support%20KariGo"}]},{title:"Lgal",items:[{label:"Conditions dutilisation",to:"/legal/terms"},{label:"Politique de confidentialit",to:"/legal/privacy"},{label:"Cookies",to:"/legal/cookies"}]}];function yj(){return n.jsx("footer",{className:"border-t border-slate-200 bg-white/95",children:n.jsxs("div",{className:"container-wide py-10 lg:py-12 text-sm text-slate-600",children:[n.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:justify-between",children:[n.jsxs("div",{className:"max-w-sm space-y-3",children:[n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:"KariGo"}),n.jsx("p",{children:"Plateforme ivoirienne de co-mobilit. Nous connectons les passagers et conducteurs autour de trajets fiables et responsables."}),n.jsxs("div",{className:"text-xs text-slate-500",children:["Besoin daide ?"," ",n.jsx("a",{href:"mailto:support@karigo.ci",className:"font-semibold text-sky-600",children:"support@karigo.ci"})," ","ou +225 01 23 45 67 89"]})]}),n.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:gj.map(e=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:e.title}),n.jsx("ul",{className:"space-y-2 text-sm",children:e.items.map(t=>{var s,r;return n.jsx("li",{children:t.to?n.jsx(me,{to:t.to,className:"transition hover:text-sky-600",children:t.label}):n.jsx("a",{href:t.href,className:"transition hover:text-sky-600",target:(s=t.href)!=null&&s.startsWith("http")?"_blank":void 0,rel:(r=t.href)!=null&&r.startsWith("http")?"noopener noreferrer":void 0,children:t.label})},t.label)})})]},e.title))})]}),n.jsxs("div",{className:"mt-10 flex flex-col gap-2 border-t border-slate-100 pt-6 text-xs text-slate-500 lg:flex-row lg:items-center lg:justify-between",children:[n.jsxs("p",{children:[" ",new Date().getFullYear()," KariGo. Tous droits rservs."]}),n.jsx("p",{className:"text-slate-400",children:"Fait avec   Abidjan  Conforme RGPD / NDPC"})]})]})})}const bx="kari_cookie_consent_v1",vj=1e3*60*60*24*90,bj=1e3*60*60*24*7,jj=()=>{if(typeof window>"u")return null;try{const e=window.localStorage.getItem(bx);if(!e)return null;const t=JSON.parse(e);return!t||typeof t.status!="string"||typeof t.ts!="number"||t.status!=="accepted"&&t.status!=="dismissed"?null:t}catch{return null}},Nj=e=>{if(!e)return!0;const t=Date.now(),s=e.status==="accepted"?vj:bj;return t-e.ts>s},Xd=e=>{if(!(typeof window>"u"))try{window.localStorage.setItem(bx,JSON.stringify(e))}catch{}};function wj(){const[e,t]=p.useState(!1),[s,r]=p.useState(!1);p.useEffect(()=>{if(typeof window>"u")return;const i=jj();t(Nj(i)),r(!0)},[]);const a=()=>{Xd({status:"accepted",ts:Date.now()}),t(!1)},l=()=>{Xd({status:"dismissed",ts:Date.now()}),t(!1)};return!s||!e?null:n.jsx("div",{className:"fixed inset-x-4 bottom-6 z-50 lg:inset-x-auto lg:right-6 lg:w-96",children:n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white shadow-2xl shadow-slate-900/10 p-5 space-y-3",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Nous utilisons des cookies "}),n.jsxs("p",{className:"text-sm text-slate-600",children:["Ils servent  scuriser ta session, mesurer lusage et personnaliser ton exprience. Tu peux en savoir plus sur notre ","",n.jsx(me,{to:"/legal/cookies",className:"font-semibold text-sky-600 hover:underline",children:"politique cookies"}),"."]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:a,className:"flex-1 rounded-2xl bg-slate-900 px-4 py-2.5 text-sm font-semibold text-white transition hover:bg-slate-800",children:"Accepter"}),n.jsx("button",{type:"button",onClick:l,className:"flex-1 rounded-2xl border border-slate-200 px-4 py-2.5 text-sm font-semibold text-slate-700 transition hover:bg-slate-50",children:"Me le rappeler plus tard"})]})]})})}function Jd({requireAuth:e=!1}){var h,k;const t=Ms(),s=ne(C=>C.authReady),r=ne(C=>C.authLoading),a=ne(C=>C.token),l=ne(C=>C.account),i=ne(C=>C.clearSession),o=ne(C=>C.messageBadge),c=ne(C=>C.refreshMessageBadge),u=(l==null?void 0:l.role)==="ADMIN",f=(l==null?void 0:l.type)==="COMPANY",[x,d]=p.useState(!1),y=p.useMemo(()=>[{to:"/",label:"Rechercher",current:t.pathname==="/"},{to:"/results",label:"Rsultats",current:t.pathname.startsWith("/results")},{to:"/my-trips",label:"Mes trajets",current:t.pathname.startsWith("/my-trips")},{to:"/cart",label:"Panier",current:t.pathname.startsWith("/cart")},...u?[{to:"/admin/accounts",label:"Administration",current:t.pathname.startsWith("/admin")}]:[],...f?[{to:"/company/fleet",label:"Ma flotte",current:t.pathname.startsWith("/company")}]:[]],[u,f,t.pathname]);if(p.useEffect(()=>{a&&c()},[c,a]),p.useEffect(()=>{d(!1)},[t.pathname]),!s||r)return n.jsx("div",{className:"min-h-screen flex items-center justify-center text-slate-500",children:"Vrification de la session"});const v={from:t.pathname+t.search+t.hash},j=e&&!a,b=(l==null?void 0:l.fullName)||(l==null?void 0:l.companyName)||(l==null?void 0:l.email)||"Visiteur",m=(h=l==null?void 0:l.profilePhotoUrl)==null?void 0:h.trim(),g=((k=b==null?void 0:b.charAt(0))==null?void 0:k.toUpperCase())??"V";return n.jsxs("div",{className:"flex min-h-screen flex-col",children:[n.jsxs("header",{className:"sticky top-0 z-40 border-b border-slate-200 bg-white/90 backdrop-blur",children:[n.jsxs("div",{className:"container-wide h-16 flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(me,{to:"/",className:"flex items-center gap-2 text-slate-800",children:n.jsx(vx,{className:"text-lg sm:text-xl"})}),n.jsx("button",{type:"button",onClick:()=>d(C=>!C),className:"inline-flex items-center justify-center rounded-xl border border-slate-200 bg-white p-2 text-slate-600 transition hover:border-sky-200 hover:text-sky-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-200 lg:hidden","aria-expanded":x,"aria-controls":"main-navigation","aria-label":"Ouvrir le menu de navigation",children:x?n.jsx(Ly,{size:18}):n.jsx(vy,{size:18})})]}),n.jsxs("nav",{className:"hidden lg:flex items-center gap-5 text-sm text-slate-700",children:[y.filter(C=>a?!0:C.to==="/"||C.to==="/results"||C.to==="/cart").map(C=>{const L=C.to==="/cart";return n.jsx(me,{to:C.to,className:`inline-flex items-center gap-1 transition hover:text-sky-600 ${C.current?"text-sky-600 font-semibold":""}`,"aria-label":L?"Panier":void 0,children:L?n.jsxs(n.Fragment,{children:[n.jsx(yo,{size:18}),n.jsx("span",{className:"sr-only",children:"Panier"})]}):C.label},C.to)}),a?n.jsxs(n.Fragment,{children:[n.jsxs(me,{to:"/messages",className:"relative flex items-center gap-2 rounded-full px-3 py-1.5 transition hover:text-sky-600",children:[n.jsx(go,{size:16}),"Messages",o>0&&n.jsx("span",{className:"inline-flex min-w-[1.5rem] h-5 items-center justify-center rounded-full bg-sky-500 px-1 text-[11px] font-semibold text-white",children:o>9?"9+":o})]}),n.jsxs(me,{to:"/profile",className:"relative flex items-center gap-2 rounded-full border border-slate-200 bg-white px-2.5 py-1 text-xs font-medium text-slate-600 shadow-sm transition hover:border-sky-200 hover:text-sky-700",title:"Mon profil",children:[n.jsx("div",{className:"h-8 w-8 overflow-hidden rounded-full border border-slate-200 bg-slate-100",children:m?n.jsx("img",{src:m,alt:"Profil",className:"h-full w-full object-cover",onError:C=>{const L=C.currentTarget;L.style.display="none"}}):n.jsx("div",{className:"flex h-full w-full items-center justify-center text-xs font-semibold text-slate-500",children:g})}),n.jsx("span",{className:"hidden xl:inline",children:b})]}),n.jsx(me,{to:"/create",className:"btn-primary px-4 py-2 whitespace-nowrap",children:"Publier un trajet"}),n.jsxs("button",{onClick:()=>i(),className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-600 transition hover:border-sky-300 hover:bg-slate-50",children:[n.jsx(dd,{size:14}),"Dconnexion"]})]}):n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(me,{to:"/login",className:"rounded-xl border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 hover:border-sky-200",children:"Connexion"}),n.jsx(me,{to:"/register",className:"btn-primary px-4 py-2 text-xs font-semibold",children:"Crer un compte"})]})]})]}),x&&n.jsx("div",{className:"lg:hidden border-t border-slate-200 bg-white/95 backdrop-blur",id:"main-navigation",children:n.jsxs("div",{className:"container-wide py-4 space-y-4 text-sm text-slate-700",children:[a?n.jsxs(me,{to:"/profile",className:"flex items-center gap-3 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm font-medium shadow-sm",children:[n.jsx("div",{className:"h-10 w-10 overflow-hidden rounded-full border border-slate-200 bg-slate-100",children:m?n.jsx("img",{src:m,alt:"Profil",className:"h-full w-full object-cover",onError:C=>{const L=C.currentTarget;L.style.display="none"}}):n.jsx("div",{className:"flex h-full w-full items-center justify-center text-sm font-semibold text-slate-500",children:g})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-slate-800",children:b}),n.jsx("p",{className:"text-xs text-slate-500",children:"Voir mon profil"})]})]}):n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Bienvenue"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Parcours librement les trajets. Connecte-toi seulement pour rserver."})]}),n.jsxs("div",{className:"grid gap-2",children:[y.filter(C=>a?!0:C.to==="/"||C.to==="/results"||C.to==="/cart").map(C=>{const L=C.to==="/cart";return n.jsx(me,{to:C.to,className:`flex items-center gap-2 rounded-xl border border-slate-200 px-3 py-2 ${C.current?"bg-sky-50 border-sky-200 text-sky-700 font-semibold":"bg-white hover:border-sky-200 hover:text-sky-600"}`,children:L?n.jsxs(n.Fragment,{children:[n.jsx(yo,{size:16}),n.jsx("span",{children:"Panier"})]}):C.label},C.to)}),a?n.jsxs(n.Fragment,{children:[n.jsxs(me,{to:"/messages",className:"flex items-center justify-between rounded-xl border border-slate-200 bg-white px-3 py-2 hover:border-sky-200 hover:text-sky-600",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(go,{size:16}),"Messages"]}),o>0&&n.jsx("span",{className:"inline-flex min-w-[1.75rem] h-5 items-center justify-center rounded-full bg-sky-500 px-1 text-[11px] font-semibold text-white",children:o>9?"9+":o})]}),n.jsx(me,{to:"/create",className:"btn-primary w-full justify-center px-4 py-2",children:"Publier un trajet"}),n.jsxs("button",{type:"button",onClick:()=>i(),className:"flex items-center justify-center gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-600 transition hover:border-sky-300 hover:bg-slate-50",children:[n.jsx(dd,{size:14}),"Dconnexion"]})]}):n.jsxs("div",{className:"grid gap-2",children:[n.jsx(me,{to:"/login",className:"rounded-xl border border-slate-200 px-3 py-2 text-center font-semibold text-slate-600",children:"Connexion"}),n.jsx(me,{to:"/register",className:"btn-primary w-full justify-center px-4 py-2",children:"Crer un compte"})]})]})]})})]}),n.jsxs("main",{className:"app-main relative",children:[n.jsx("div",{className:j?"relative blur-sm opacity-70 pointer-events-none select-none transition duration-300":"relative",children:n.jsx(Fg,{})}),j&&n.jsxs("div",{className:"pointer-events-auto absolute inset-0 flex items-center justify-center px-4 py-10",children:[n.jsx("div",{className:"absolute inset-0 bg-slate-950/70 backdrop-blur-md"}),n.jsx("div",{className:"relative z-10 flex min-h-[60vh] items-center justify-center px-4 py-10",children:n.jsxs("div",{className:"w-full max-w-lg rounded-[28px] border border-white/20 bg-white/95 p-8 text-center shadow-[0_40px_120px_-45px_rgba(15,23,42,0.8)] backdrop-blur",children:[n.jsx("div",{className:"inline-flex items-center gap-2 rounded-full bg-slate-900/5 px-4 py-1 text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-500",children:"Authentification requise"}),n.jsx("h2",{className:"mt-4 text-2xl font-semibold text-slate-900",children:"Connecte-toi pour accder  cette zone"}),n.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Cet espace contient des informations prives ou des actions sensibles. Connecte-toi pour poursuivre, ou cre un compte KariGo en quelques secondes."}),n.jsxs("div",{className:"mt-6 grid gap-3 sm:grid-cols-2",children:[n.jsx(me,{to:"/login",state:v,className:"inline-flex items-center justify-center rounded-2xl bg-slate-900 px-4 py-3 text-sm font-semibold text-white transition hover:bg-slate-800",children:"Se connecter"}),n.jsx(me,{to:"/register",state:v,className:"inline-flex items-center justify-center rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700 transition hover:border-sky-200 hover:text-sky-700",children:"Crer un compte"})]}),n.jsxs("div",{className:"mt-4 text-xs text-slate-500",children:["ou"," ",n.jsx(me,{to:"/",className:"font-semibold text-slate-600 hover:text-sky-600",children:"revenir  laccueil"})]})]})})]})]}),n.jsx(yj,{})]})}function kj(){const e=ne(t=>t.initializeAuth);return p.useEffect(()=>{e()},[e]),n.jsxs(Yg,{children:[n.jsx(wj,{}),n.jsxs(Ug,{children:[n.jsx($e,{path:"/login",element:n.jsx(U1,{})}),n.jsx($e,{path:"/register",element:n.jsx(V1,{})}),n.jsx($e,{path:"/forgot-password",element:n.jsx(q1,{})}),n.jsx($e,{path:"/reset-password",element:n.jsx(H1,{})}),n.jsxs($e,{element:n.jsx(Jd,{requireAuth:!1}),children:[n.jsx($e,{path:"/",element:n.jsx(R1,{})}),n.jsx($e,{path:"/results",element:n.jsx(L1,{})}),n.jsx($e,{path:"/ride/:rideId",element:n.jsx(B1,{})}),n.jsx($e,{path:"/cart",element:n.jsx(hj,{})})]}),n.jsxs($e,{element:n.jsx(Jd,{requireAuth:!0}),children:[n.jsx($e,{path:"/booking/:rideId",element:n.jsx(_1,{})}),n.jsx($e,{path:"/create",element:n.jsx(I1,{})}),n.jsx($e,{path:"/messages",element:n.jsx(K1,{})}),n.jsx($e,{path:"/profile",element:n.jsx(cj,{})}),n.jsx($e,{path:"/profile/:accountId",element:n.jsx(dj,{})}),n.jsx($e,{path:"/company/fleet",element:n.jsx(oj,{})}),n.jsx($e,{path:"/admin/accounts",element:n.jsx(X1,{})}),n.jsx($e,{path:"/my-trips",element:n.jsx(mj,{})})]}),n.jsx($e,{path:"*",element:n.jsx(rl,{to:"/",replace:!0})})]})]})}vi.createRoot(document.getElementById("root")).render(n.jsx(_o.StrictMode,{children:n.jsx(kj,{})}));
