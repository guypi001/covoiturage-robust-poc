@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============ Thème clair : dominance blanche ============ */
:root{
  --bg-0: #f8fafc;        /* fond page (slate-50) */
  --bg-1: #ffffff;        /* panneaux / cartes */
  --bg-2: #f1f5f9;        /* hover doux (slate-100) */
  --text-1: #0f172a;      /* texte principal (slate-900) */
  --muted: #475569;       /* texte secondaire (slate-600) */

  --brand: #0ea5e9;       /* cyan-500 */
  --brand-600: #0284c7;   /* cyan-600 */
  --brand-soft: rgba(14,165,233,.12);
  --ring: 14 165 233;     /* rgb du brand pour les focus-rings */

  --font-base: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-size-base: clamp(15px, 0.45vw + 14px, 17px);
  --font-size-sm: clamp(13px, 0.35vw + 12px, 15px);
  --font-size-xs: clamp(12px, 0.25vw + 11.5px, 14px);
  --font-size-lg: clamp(18px, 0.6vw + 16px, 22px);
  --font-size-xl: clamp(24px, 1vw + 20px, 32px);
  --line-height-base: 1.6;
  --radius-card: 1.5rem;
  --shadow-soft: 0 1px 2px rgba(15,23,42,.08), 0 8px 24px -16px rgba(14,165,233,.25);
}

html, body, #root{ height: 100%; }

body{
  @apply antialiased;
  font-family: var(--font-base);
  font-size: var(--font-size-base);
  line-height: var(--line-height-base);
  color: var(--text-1);
  background: linear-gradient(180deg, #ffffff 0%, #f1f5f9 55%, #e2f1fa 120%);
}

:is(h1, h2, h3, h4){
  color: var(--text-1);
  font-weight: 700;
  line-height: 1.2;
  margin-bottom: clamp(.35rem, 1vw, .75rem);
}
h1{ font-size: clamp(2rem, 3.5vw, 3.2rem); }
h2{ font-size: clamp(1.6rem, 2.6vw, 2.4rem); }
h3{ font-size: clamp(1.3rem, 2vw, 1.9rem); }
p, ul, ol{ margin: 0; }

/* ============ Primitives réutilisables ============ */
.container-wide{ @apply mx-auto px-4; max-width: min(1180px, 100%); }
.app-main{ min-height: calc(100vh - 3.5rem); }
.section-block{
  padding-block: clamp(2rem, 4vw, 3.5rem);
}
.section-block--compact{
  padding-block: clamp(1.5rem, 4vw, 2.5rem);
}
.stack-md{
  display: grid;
  gap: clamp(1.5rem, 4vw, 2.5rem);
}
.stack-lg{
  display: grid;
  gap: clamp(2rem, 5vw, 3.5rem);
}
.scroll-chips{
  display: flex;
  gap: .5rem;
  overflow-x: auto;
  padding-bottom: .35rem;
  margin-inline: -.5rem;
  padding-inline: .5rem;
  scroll-snap-type: x proximity;
}
.scroll-chips > *{
  scroll-snap-align: start;
}
.scroll-chips::-webkit-scrollbar{
  height: 6px;
}
.scroll-chips::-webkit-scrollbar-thumb{
  background: rgba(15,23,42,.18);
  border-radius: 999px;
}

/* Carte claire */
.card{
  background: var(--bg-1);
  border: 1px solid rgba(226,232,240,.75);
  border-radius: var(--radius-card);
  box-shadow: var(--shadow-soft);
}
.card.highlight{
  border-color: rgba(var(--ring) / .35);
  box-shadow:
    0 10px 30px -14px rgba(2,132,199,.35),
    0 1px 0 rgba(255,255,255,.8) inset;
}
.glass{
  background: rgba(255,255,255,.82);
  border-radius: var(--radius-card);
  border: 1px solid rgba(148,163,184,.25);
  box-shadow: var(--shadow-soft);
  backdrop-filter: blur(18px);
}

/* Boutons */
.btn{
  @apply inline-flex items-center justify-center gap-2 font-semibold rounded-xl transition;
  min-height: 2.75rem;
  padding: .65rem 1rem;
}

.btn-primary{
  background: linear-gradient(135deg, var(--brand), var(--brand-600));
  color:#fff; padding:.75rem 1rem;
  box-shadow: 0 10px 26px -12px rgba(14,165,233,.35);
}
.btn-primary:hover{ filter:brightness(1.05); transform: translateY(-1px); }
.btn-primary:active{ transform: translateY(0); }

.btn-ghost{ @apply text-slate-600 hover:text-slate-800; }

/* Inputs clairs */
.input{
  height: 46px;
  background: #ffffff;
  border: 1px solid #e2e8f0;       /* slate-200 */
  color: var(--text-1);
  border-radius: .875rem;
  transition: box-shadow .16s, border-color .16s, background-color .16s;
  padding: .65rem .9rem;
}
.input.input-lg{
  height: 56px;
  border-radius: 1rem;
  font-size: 1rem;
}
.input::placeholder{ color: #94a3b8; } /* slate-400 */
.input:hover{ background:#fff; }
.input:focus{
  outline: none;
  border-color: rgba(var(--ring) / .55);
  box-shadow: 0 0 0 3px rgba(var(--ring) / .28);
}

/* Icône dans le champ (gauche) */
.field { position: relative; display:block; }
.field-icon{
  position:absolute; left:.75rem; top:50%; transform:translateY(-50%);
  color:#64748b; pointer-events:none;
}
.field-input{ padding-left: 2.25rem; }

/* Date picker natif : réactive l’indicateur et le style natif */
input[type="date"].input{
  -webkit-appearance: auto;
  appearance: auto;
  padding-right: 2.25rem; /* laisse la place au bouton natif à droite */
}

/* sur Chrome/Safari */
input[type="date"].input::-webkit-calendar-picker-indicator{
  opacity: .9;
  cursor: pointer;
  margin: 0 .35rem 0 .25rem;
  filter: none; /* évite qu'un filtre le rende invisible */
}

/* sur Firefox (icone pas affichée, mais on force l’UI) */
@-moz-document url-prefix() {
  input[type="date"].input{
    background-color: #fff;
  }
}

/* Badges */
.badge{
  @apply inline-flex items-center gap-1.5 text-sm;
  padding: .35rem .6rem;
  border-radius: 999px;
  background: var(--bg-2);
  border: 1px solid #e2e8f0;
  color: #334155; /* slate-700 */
}

/* Barre sticky (search) */
.search-sticky{ position: sticky; top: .75rem; z-index: 25; }

/* Header clair */
.header{
  background: var(--bg-1);
  @apply sticky top-0 z-40 border-b border-slate-200;
  box-shadow: 0 4px 18px -14px rgba(2,132,199,.25);
}

/* Layout authentification */
.auth-shell{
  min-height: 100vh;
  display: grid;
  place-items: center;
  padding: clamp(2.8rem, 6vw, 3.4rem) 1.25rem;
}
.auth-panel{
  width: 100%;
  max-width: 980px;
  display: grid;
  grid-template-columns: minmax(0, 1fr) minmax(320px, 0.85fr);
  grid-template-areas: "content hero";
  background: rgba(255,255,255,.96);
  border-radius: 2rem;
  border: 1px solid rgba(148,163,184,.25);
  box-shadow:
    0 24px 60px -28px rgba(14,165,233,.45),
    0 10px 35px -20px rgba(15,23,42,.28);
  overflow: hidden;
}
.auth-panel__hero{
  grid-area: hero;
  background:
    radial-gradient(280px 240px at 20% 15%, rgba(255,255,255,.35), transparent 70%),
    linear-gradient(150deg, rgba(14,165,233,.85), rgba(56,189,248,.95));
  color: white;
  padding: clamp(2rem, 6vw, 3.5rem);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  gap: clamp(2rem, 5vw, 3rem);
  border-left: 1px solid rgba(255,255,255,.25);
}
.auth-panel__content{
  grid-area: content;
  padding: clamp(2.1rem, 4vw, 3rem);
  background: var(--bg-1);
}
.auth-panel__header{
  display: flex;
  flex-direction: column;
  gap: 1.75rem;
}
.auth-panel__heading{
  display: grid;
  gap: .5rem;
}
.auth-panel__heading h1{
  font-size: clamp(1.7rem, 3vw, 2.1rem);
  font-weight: 700;
  color: var(--text-1);
  line-height: 1.12;
}
.auth-panel__heading p{
  font-size: .92rem;
  color: #475569;
  line-height: 1.5;
}
.auth-panel__body{
  margin-top: clamp(1.5rem, 4vw, 2.25rem);
  display: grid;
  gap: clamp(1.4rem, 3vw, 2rem);
}
.auth-panel__footer{
  margin-top: clamp(1.6rem, 3vw, 2.4rem);
  font-size: .8rem;
  color: #64748b;
}
.auth-panel__badge{
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  padding: .45rem .9rem;
  border-radius: 999px;
  background: rgba(255,255,255,.22);
  font-size: .8rem;
  letter-spacing: .02em;
}
.auth-panel__list{
  display: grid;
  gap: .9rem;
  font-size: 0.95rem;
}
.auth-panel__list li{
  display: flex;
  align-items: flex-start;
  gap: .75rem;
}
.auth-panel__list span.icon{
  display: grid;
  place-items: center;
  height: 36px;
  width: 36px;
  border-radius: 1rem;
  background: rgba(15, 23, 42, .15);
}

@media (max-width: 1024px){
  .auth-shell{
    padding: clamp(2.4rem, 8vw, 3.1rem) 1.1rem;
  }
  .auth-panel{
    max-width: 720px;
    grid-template-columns: minmax(0, 1fr);
    grid-template-areas:
      "hero"
      "content";
  }
  .auth-panel__hero{
    padding: clamp(2rem, 8vw, 3rem);
    border-bottom: 1px solid rgba(255,255,255,.25);
    border-left: none;
    align-items: center;
    text-align: center;
  }
  .auth-panel__list{
    font-size: 0.9rem;
  }
  .auth-panel__content{
    padding: clamp(2rem, 6vw, 2.75rem);
  }
  .auth-panel__header{
    align-items: center;
    text-align: center;
    gap: 1.5rem;
  }
  .auth-panel__heading{
    gap: .65rem;
  }
  .auth-panel__body{
    gap: clamp(1.4rem, 4vw, 2rem);
  }
  .auth-panel__footer{
    text-align: center;
  }
}

@media (max-width: 640px){
  .auth-shell{
    padding: clamp(2rem, 8vw, 2.6rem) .85rem;
  }
  .auth-panel{
    border-radius: 1.65rem;
    box-shadow:
      0 22px 45px -30px rgba(15,23,42,.35),
      0 12px 30px -25px rgba(14,165,233,.35);
  }
  .auth-panel__hero{
    padding: clamp(1.75rem, 9vw, 2.35rem);
    border-bottom-left-radius: 1.65rem;
    border-bottom-right-radius: 1.65rem;
    text-align: left;
    align-items: flex-start;
    border-left: none;
  }
  .auth-panel__content{
    padding: clamp(1.6rem, 7vw, 2.2rem);
  }
  .auth-panel__header{
    align-items: flex-start;
    text-align: left;
    gap: 1.25rem;
  }
  .auth-panel__heading h1{
    font-size: clamp(1.55rem, 6vw, 1.95rem);
  }
  .auth-panel__heading p{
    font-size: .9rem;
  }
  .auth-panel__footer{
    font-size: .75rem;
  }
  .card{
    border-radius: 1.25rem;
    box-shadow:
      0 12px 30px -22px rgba(15,23,42,.25),
      0 6px 18px -12px rgba(14,165,233,.18);
  }
  .btn{
    width: 100%;
    justify-content: center;
  }
}

@media (max-width: 420px){
  .auth-shell{
    padding: clamp(1.65rem, 8vw, 2.05rem) .6rem;
  }
  .auth-panel{
    border-radius: 1.35rem;
  }
  .auth-panel__hero{
    border-bottom-left-radius: 1.35rem;
    border-bottom-right-radius: 1.35rem;
    border-left: none;
  }
  .auth-panel__content{
    padding: clamp(1.4rem, 7vw, 1.9rem);
  }
}

@media (max-width: 768px){
  .search-sticky{
    position: static;
  }
  .card{
    border-radius: 1.2rem;
  }
}

@media (prefers-reduced-motion: reduce){
  *,
  *::before,
  *::after{
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }
}
